// ==UserScript==
// @name         Kuper product cards filter
// @description  Hide product cards by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://kuper.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.75596238
// @icon         https://www.google.com/s2/favicons?sz=64&domain=kuper.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/kuper.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var P={5467:(S,f,t)=>{t.d(f,{E2:()=>v});var p=t(9928);function v(c,u={},e=null){const n=(0,p.Sw)(u,e);return n.append(c),n}function g(c,u=null,e={},n={}){const d=createActionLink(c,u,n);return v(d,e)}function s(c,u=null,e=null,n={},d={}){const h=createActionLinkWithIcon(c,e,u,d);return v(h,n)}},9928:(S,f,t)=>{t.d(f,{S:()=>c,Sw:()=>T,kU:()=>g,o5:()=>s});var p=t(4921),v=t(6754);function g(a,i,b){const m=u(a,"text",i);return m.value=b,m}function s(a,i,b,m,k,V){const L=u(a,"number",i);return L.value=b,L.step=m,L.min=k,L.max=V,L}function c(a,i,b){const m=u(a,"checkbox",i);return m.checked=b,m}function u(a={},i=null,b=null){const m=l("input",a);return i&&(m.type=i),b&&(m.addEventListener("keyup",(0,p.sg)(b,200)),m.addEventListener("change",(0,p.sg)(b,100))),m}function e(a={},i=null){return l("span",a,i)}function n(a={},i=null,b=null){const m=l("a",a,i);return b&&(m.href=b),m}function d(a,i=null,b={}){b.cursor||="pointer";const m=n(b,i);return a&&m.addEventListener("click",a),m}function h(a,i,b=null,m={},k={}){m.display||="inline-flex",m.alignItems||="center",m.gap||="0.25em";const V=d(a,b,m);return V.prepend(o(i,k)),V}function y(a={},i=null,b=null){const m=l("button",a,i);return b&&m.addEventListener("click",b),m}function T(a={},i=null){return l("div",a,i)}function x(a={}){return l("i",a)}function o(a,i={}){i.width||="1em",i.height||="1em",i.paddingBottom||="1px";const b=x(i);return b.setAttribute("data-lucide",a),b}function l(a,i,b=null){if(typeof i!="object"||i===null)throw new TypeError("styles should be an object");const m=document.createElement(a);return(0,v.ZM)(m,i),b&&(m.innerHTML=b),m}},573:(S,f,t)=>{t.d(f,{Fi:()=>g,ML:()=>d,YA:()=>e,fI:()=>s,sf:()=>y});var p=t(4214);function v(o,l=document){return!!l.querySelector(o)}function g(o,l=document,a=!1){const i=l.querySelector(o);return a&&!i&&console.log(`No element found for selector: ${o}`),i}function s(o,l=document,a=!1){const i=l.querySelectorAll(o);return a&&!i.length&&console.log(`No elements found for selector: ${o}`),i}function c(o,l,a){return[...o.querySelectorAll(l)].find(i=>i.textContent.trim().includes(a))}function u(o,l,a=!1,i=!1,b=null){const m=g(l,o);return e(m,a,i,b)}function e(o,l=!1,a=!1,i=null){if(!o)return i===null?(console.log("No element found"),null):i;const b=o.innerText;return h(b,l,a)}function n(o,l,a=!1){const i=o[l];return e(i,a)}function d(o,l=!1,a=!1){const i=o.textContent;return h(i,l,a)}function h(o,l,a){l&&(o=(0,p.zr)(o)),a&&(o=o.replace(",","."));const i=Number(o);return Number.isNaN(i)?(console.log(`Invalid number: ${o}`),0):i}function y(o){return[...o.childNodes].find(l=>l.nodeType===Node.TEXT_NODE)}function T(o){const l=a=>a.nodeType===Node.TEXT_NODE&&a.textContent.trim()!==""?[a]:[...a.childNodes].flatMap(l);return l(o)}function x(o){return normalizeSpacing(o.textContent)}},5539:(S,f,t)=>{t.d(f,{Bt:()=>v,UC:()=>e,kl:()=>c});function p(r,N){r.parentNode.insertBefore(N,r.nextSibling)}function v(r){r.style.display="none"}function g(r){h(r),v(r)}function s(r){r.intersectionObserver||runOnceOnIntersection(r,()=>v(r))}function c(r){r.style.display=""}function u(r){const N=d(r);r.style.display=N}function e(r,N){N?v(r):c(r)}function n(r,N){N?s(r):(clearIntersectionObserver(r),c(r))}function d(r){return h(r),r.defaultDisplay}function h(r){if(r.defaultDisplay)return;const{display:N}=getComputedStyle(r);r.defaultDisplay=N}function y(){return{show:[],hide:[]}}function T(r,N,E){r?N.hide.push(E):N.show.push(E)}function x(r){r.show.forEach(c),r.hide.forEach(v)}function o(r,N,E=.3){N?a(r,E):l(r)}function l(r){r.style.opacity=""}function a(r,N=.3){r.style.opacity=N}function i(r){r.style.order=""}function b(r,N){r.style.order=N}function m(r,N){r.style.background=N}function k(r,N){const E=getFirstElement(N);E&&V(r,E)}function V(r,N){const E=createLink();E.href=r,N.parentNode.append(E),E.append(N)}function L(r,N){const E=getFirstElement(N);E&&w(r,E)}function w(r,N){const E=createLink();E.href=r,E.append(...N.childNodes),N.append(E)}function F(){const r=getURLQueryParam("scrollTo");if(!r)return;const N=document.getElementById(r);N?N.scrollIntoView():console.log(`Element with ID "${r}" was not found.`)}function C(r,N,E="text/plain"){const G=new Blob([r],{type:E}),B=URL.createObjectURL(G),U=document.createElement("a");U.href=B,U.download=N,document.body.appendChild(U),U.click(),document.body.removeChild(U),requestAnimationFrame(()=>URL.revokeObjectURL(B))}},6754:(S,f,t)=>{t.d(f,{ZM:()=>p});function p(c,u){Object.assign(c.style,u)}function v(c,u="custom-global-style"){let e=document.getElementById(u);e||(e=document.createElement("style"),e.id=u,e.type="text/css",document.head.appendChild(e)),e.textContent=c}function g(c){return Object.entries(c).map(([u,e])=>`${u.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${e};`).join(" ")}function s(c){return c?c.split(";").filter(u=>u.trim()!=="").reduce((u,e)=>{const[n,d]=e.split(":").map(y=>y.trim()),h=n.replace(/-([a-z])/g,(y,T)=>T.toUpperCase());return u[h]=d,u},{}):{}}},4921:(S,f,t)=>{t.d(f,{sg:()=>s,xk:()=>p});function p(e,n,d=null){const h=e.querySelector(n);return h?Promise.resolve(h):new Promise(y=>{const T=new MutationObserver(o);T.observe(e,{childList:!0,subtree:!0});let x;d&&(x=setTimeout(()=>{T.disconnect(),console.log(`No element found for selector: ${n}`),y(null)},d));function o(){const l=e.querySelector(n);l&&(x&&clearTimeout(x),T.disconnect(),y(l))}})}function v(e,n){return e.querySelector(n)?new Promise(h=>{const y=new MutationObserver(T);y.observe(e,{childList:!0,subtree:!0});function T(){e.querySelector(n)||(y.disconnect(),h())}}):Promise.resolve()}function g(e,n=400){return new Promise(d=>{let h;const y=new MutationObserver(()=>{clearTimeout(h),T()});function T(){h=setTimeout(()=>{y.disconnect(),d()},n)}T(),y.observe(e,{childList:!0,subtree:!0})})}function s(e,n=250){let d;return(...h)=>{clearTimeout(d),d=setTimeout(()=>e(...h),n)}}function c(e,n){const d=new IntersectionObserver(h=>{h.forEach(y=>{y.isIntersecting&&(n(),u(e))})});e.intersectionObserver=d,d.observe(e)}function u(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}},3829:(S,f,t)=>{t.d(f,{Ay:()=>v,JE:()=>s,iG:()=>c});var p=t(8355);function v(e,n){return!g(e,n)}function g(e,n){if(!n.value)return!0;const d=e.toLowerCase(),h=(0,p.R)(n),y=[],T=[];return h.forEach(x=>{if(x.startsWith("!")){const o=x.substring(1);o&&T.push(o)}else y.push(x)}),y.every(x=>d.includes(x))&&T.every(x=>!d.includes(x))}function s(e,n){return n.value!=null&&e<n.value}function c(e,n){return n.value!=null&&e>n.value}function u(e,n){return n.value&&e!==n.value}},4521:(S,f,t)=>{t.d(f,{z:()=>v});var p=t(3048);function v(g,s=null){return{createGlobalFilter(c,u=null,e=g){return p.V.create(c,u,e)},createSectionFilter(c,u=null,e=g){if(!s)throw new Error("sectionId must be provided to use createSectionFilter.");return p.V.createWithCompositeKey(s,c,u,e)}}}},5884:(S,f,t)=>{t.d(f,{Hw:()=>c,Nm:()=>g,nW:()=>s});var p=t(9928),v=t(5467);function g(u,e,n={},d={}){const h=(0,p.kU)(d,e.updateValueFromEvent,e.value);return(0,v.E2)(h,n,u)}function s(u,e,n,d,h,y={},T={}){const x=(0,p.o5)(T,e.updateValueFromEvent,e.value,n,d,h);return(0,v.E2)(x,y,u)}function c(u,e,n={},d={}){const h=(0,p.S)(d,e.updateValueFromEvent,e.value);return(0,v.E2)(h,n,u)}},4402:(S,f,t)=>{t.d(f,{r:()=>v});var p=t(9928);function v(c={}){return(0,p.Sw)(c,"|")}function g(c={},u=75,e="customFiltersContainer"){const n=document.getElementById(e);if(!n)return console.log(`Element with id="${e}" not found.`),null;const d=createButton(c,`${arrowUpIcon}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return d.addEventListener("mouseenter",()=>{d.style.filter="brightness(0.9)"}),d.addEventListener("mouseleave",()=>{d.style.filter="brightness(1)"}),d.addEventListener("click",()=>{const h=n.getBoundingClientRect();window.scrollTo({top:h.top+window.scrollY-u})}),new IntersectionObserver(([h])=>{d.style.display=h.isIntersecting?"none":"flex"},{threshold:.5}).observe(n),d}function s(c,u={}){const e=g(u);e&&c.appendChild(e)}},7877:(S,f,t)=>{t.d(f,{E9:()=>v,EY:()=>b,H1:()=>x,HX:()=>g,X0:()=>c,pW:()=>L});var p=t(5884);function v(w,F={},C={}){return(0,p.Nm)("\u041F\u043E\u0438\u0441\u043A: ",w,F,C)}function g(w,F={},C={},r=.1,N=3){return(0,p.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,r,N,5,F,C)}function s(w,F={},C={},r=.1,N=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,r,N,5,F,C)}function c(w,F={},C={}){return e("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,F,C)}function u(w,F={},C={}){return e("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,F,C)}function e(w,F,C={},r={}){return(0,p.nW)(w,F,"1","1","999999",C,r)}function n(w,F={},C={}){return d("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",w,F,C)}function d(w,F,C={},r={}){return createNumberFilterControl(w,F,"5","0","100",C,r)}function h(w,F={},C={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",w,"5","0","100",F,C)}function y(w,F,C={},r={},N="250"){return(0,p.nW)(w,F,N,"0","1000000",C,r)}function T(w,F={},C={},r="25"){return y("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",w,F,C,r)}function x(w,F={},C={},r="25"){return y("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",w,F,C,r)}function o(w,F={},C={}){return l("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",w,F,C)}function l(w,F,C={},r={}){return createNumberFilterControl(w,F,"1","0","99999",C,r)}function a(w,F={},C={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",w,"1","2","7",F,C)}function i(w,F={},C={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",w,1,1,10,F,C)}function b(w,F={},C={}){return(0,p.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",w,F,C)}function m(w,F={},C={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",w,F,C)}function k(w,F={},C={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",w,F,C)}function V(w,F={},C={}){return createCheckboxFilterControl("\u0411\u0430\u043B\u043B\u044B: ",w,F,C)}function L(w,F={},C={}){return(0,p.Hw)("\u0412\u043A\u043B: ",w,F,C)}},8355:(S,f,t)=>{t.d(f,{R:()=>p});function p(g){return g.value.toLowerCase().split(",").map(s=>s.trim()).filter(s=>s!=="")}function v(g){return p(g).filter(s=>!s.startsWith("!"))}},5213:(S,f,t)=>{t.d(f,{b:()=>g});var p=t(9928),v=t(573);function g(s,c,u=!1,e="customFiltersContainer"){let n=(0,v.Fi)(`#${e}`,s);if(n)if(u)n.remove();else return;n=(0,p.Sw)(),n.id=e,c(n,s)}},4444:(S,f,t)=>{t.d(f,{s:()=>p});function p(v){let c=2166136261;for(let u=0;u<v.length;u+=1){const e=v.charCodeAt(u);c^=e,c=Math.imul(c,16777619)}return c>>>0}},5081:(S,f,t)=>{t.d(f,{B:()=>g});var p=t(4444);function v(s){return(0,p.s)(s).toString(16).padStart(8,"0")}function g(s,c="common"){return s?v(s):c}},8200:(S,f,t)=>{t.d(f,{s:()=>p});function p(v){const{target:g}=v,{type:s}=g;switch(s){case"text":return`"${g.value}"`;case"number":return g.value;case"checkbox":return g.checked;default:return console.log(`Unknown input type: ${s}`),null}}},157:(S,f,t)=>{t.d(f,{Fg:()=>p,vx:()=>g});const p=window.GM_setValue,v=window.GM.setValue,g=window.GM_getValue,s=window.GM_addValueChangeListener},1870:(S,f,t)=>{t.d(f,{j:()=>p});class p{constructor(g,s){this.value=g,this.onChange=s}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(S,f,t)=>{t.d(f,{V:()=>c});var p=t(1870),v=t(8200),g=t(3976),s=t(157);class c extends p.j{constructor(e,n=null,d=null){super((0,s.vx)(e,n),d),this.storageKey=e,this.defaultValue=n}static create(e,n=null,d=null){return new c(e,n,d)}static createWithCompositeKey(e,n,d=null,h=null){const y=`${e}-${n}`;return new c(y,d,h)}updateValueFromEvent=e=>{const n=(0,v.s)(e),d=(0,g.$)(n);this.updateValue(d)};updateValue(e,n=!0){this.value!==e&&((0,s.Fg)(this.storageKey,e),this.value=e,n&&this.onChangeIfDefined())}clearValue(e=!1){this.updateValue(null,e)}resetValue(e=!1){this.updateValue(this.defaultValue,e)}}},3976:(S,f,t)=>{t.d(f,{$:()=>p});function p(v){return v===""?null:JSON.parse(v)}},4214:(S,f,t)=>{t.d(f,{zr:()=>v});function p(u){return u.replace(/\D/g,"")}function v(u){return u.replace(/[^\d.,-]/g,"")}function g(u){return u.replace(/\s/g,"")}function s(u){return u.charAt(0).toUpperCase()+u.slice(1)}function c(u){return u.replace(/\s+/g," ").trim()}},5406:(S,f,t)=>{t.d(f,{Es:()=>x,Fc:()=>p});function p(o,l="common",a=!1){const{pathname:i}=window.location;return v(i,o,l,a)}function v(o,l,a,i=!1){const b=o.split("/");l=l<0?b.length+l:l;const m=b[l]||a;return i&&console.log(`Pathname element: ${m}`),m}function g(o,l="common",a=!1){const i=p(o,"",a);return s(i,l,a)}function s(o,l,a){if(!o)return l;const i=o.split("-").at(-1);return a&&console.log(`Pathname element ending: ${i}`),i}function c(o,l,a="common",i=!1){const b=v(o,l,"",i);return s(b,a,i)}function u(o){return new URLSearchParams(window.location.search).get(o)}function e(o){return o.split("?")[0]}function n(o){return window.location.pathname.includes(o)}function d(o){return o.some(l=>n(l))}function h(o){return window.location.pathname.split("/").some(a=>a===o)}function y(o){try{const l=new URL(window.location.href);Object.entries(o).forEach(([a,i])=>{l.searchParams.set(a,i)}),window.location.href=l.toString()}catch(l){console.error("Failed to redirect:",l)}}function T(o,l=[]){const a={pathname:window.location.pathname};l.forEach(m=>{a[m]=u(m)});function i(){const m={pathname:window.location.pathname};l.forEach(k=>{m[k]=u(k)}),Object.keys(a).some(k=>a[k]!==m[k])&&o()}let b=window.location.href;setInterval(()=>{window.location.href!==b&&(b=window.location.href,i())},200),window.addEventListener("popstate",i)}function x(o=[]){T(()=>window.location.reload(),o)}},9473:(S,f,t)=>{t.a(S,async(p,v)=>{try{let G=function(){const R=(0,e.Fi)(d.Z.CHIP_LIST_ROOT);R&&((0,g.b)(R,B),U())},B=function(R,I){(0,a.ZM)(R,h.r.FILTERS_CONTAINER);const O=(0,n.E9)(k,h.r.CONTROL,h.r.TEXT_INPUT),H=(0,n.X0)(V,h.r.CONTROL,h.r.NUMBER_INPUT),$=(0,n.HX)(L,h.r.CONTROL,h.r.NUMBER_INPUT),j=(0,n.EY)(w,h.r.CONTROL,h.r.CHECKBOX_INPUT),Z=(0,n.H1)(F,h.r.CONTROL,h.r.NUMBER_INPUT),J=(0,o.nW)("\u041C\u0438\u043D. \u0440\u0430\u0437\u043C\u0435\u0440: ",C,"2","1","10000",h.r.CONTROL,h.r.NUMBER_INPUT),D=(0,l.r)(h.r.CONTROL),W=(0,n.pW)(r,h.r.CONTROL,h.r.CHECKBOX_INPUT);R.append(O,H,$,j,Z,J,D,W),I.append(R)},U=function(){(0,e.fI)(d.Z.PRODUCT).forEach(X)},X=function(R){if(!r.value){(0,u.kl)(R);return}const I=(0,e.Fi)(d.Z.PRODUCT_NAME,R),O=(0,e.Fi)(d.Z.PRODUCT_PRICE,R);if(!I||!O){(0,u.Bt)(R);return}I.style.webkitLineClamp=3;const H=I.innerText,$=(0,e.sf)(O),j=(0,e.ML)($,!0,!0),Z=(0,c.Ay)(H,k)||Y(R)||(0,c.iG)(j,F)||Q(R);(0,u.UC)(R,Z)},Y=function(R){const I=(0,e.Fi)(d.Z.PRODUCT_RATING,R),O=(0,e.Fi)(d.Z.PRODUCT_REVIEWS,R);if(!I||I.innerText.startsWith("\u043C\u0430\u043B\u043E")||!O)return!w.value;const H=(0,e.YA)(O,!0,!1,0),$=(0,e.YA)(I,!0,!0,0);return(0,c.JE)(H,V)||(0,c.JE)($,L)},Q=function(R){const I=(0,e.Fi)(d.Z.PRODUCT_VOLUME,R);if(!I)return!1;const O=(0,e.YA)(I,!0,!0,0);return(0,c.JE)(O,C)};var g=t(5213),s=t(5406),c=t(3829),u=t(5539),e=t(573),n=t(7877),d=t(3491),h=t(939),y=t(4521),T=t(4921),x=t(5081),o=t(5884),l=t(4402),a=t(6754);const i=(0,x.B)((0,s.Fc)(3)+(0,s.Fc)(4,""));(0,s.Es)();const{createGlobalFilter:b,createSectionFilter:m}=(0,y.z)(U,i),k=m("name-filter"),V=m("min-reviews-filter"),L=m("min-rating-filter",4.8),w=m("no-rating-filter",!1),F=m("max-price-filter"),C=m("min-volume-filter"),r=b("filter-enabled",!0),N={productRoot:null},E=(0,e.Fi)(d.Z.CATEGORY_ROOT);E&&(N.productRoot=await(0,T.xk)(E,d.Z.PRODUCTS_ROOT),G(),new MutationObserver((0,T.sg)(G)).observe(N.productRoot,{childList:!0,subtree:!0})),v()}catch(i){v(i)}},1)},3491:(S,f,t)=>{t.d(f,{Z:()=>p});const p={CATEGORY_ROOT:'[class^="Category_root_"]',PRODUCTS_ROOT:'[class^="Products_root_"]',CHIP_LIST_ROOT:'[class^="ChipsList_root_"]',PRODUCT:'[class^="ProductCard_root_"]',PRODUCT_NAME:'[class^="ProductCard_title_"]',PRODUCT_PRICE:'[class^="ProductCardPrice_price_"]',PRODUCT_RATING:'[class^="RatingBadge_root_"] > span:nth-child(1) > span',PRODUCT_REVIEWS:'[class^="RatingBadge_root_"] > span:nth-child(2) > span',PRODUCT_VOLUME:'[class^="ProductCard_volume_"]'}},939:(S,f,t)=>{t.d(f,{r:()=>v});const p={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px",height:"20px",backgroundColor:"#fff",boxShadow:"none"}},v={FILTERS_CONTAINER:{display:"flex",gridGap:"12px",paddingTop:"8px",flexFlow:"wrap"},CONTROL:{display:"flex",alignItems:"center",fontSize:"15px"},TEXT_INPUT:{...p.INPUT,width:"150px"},NUMBER_INPUT:{...p.INPUT,width:"55px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}}},z={};function A(S){var f=z[S];if(f!==void 0)return f.exports;var t=z[S]={exports:{}};return P[S](t,t.exports,A),t.exports}(()=>{var S=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",p=g=>{g&&g.d<1&&(g.d=1,g.forEach(s=>s.r--),g.forEach(s=>s.r--?s.r++:s()))},v=g=>g.map(s=>{if(s!==null&&typeof s=="object"){if(s[S])return s;if(s.then){var c=[];c.d=0,s.then(n=>{u[f]=n,p(c)},n=>{u[t]=n,p(c)});var u={};return u[S]=n=>n(c),u}}var e={};return e[S]=n=>{},e[f]=s,e});A.a=(g,s,c)=>{var u;c&&((u=[]).d=-1);var e=new Set,n=g.exports,d,h,y,T=new Promise((x,o)=>{y=o,h=x});T[f]=n,T[S]=x=>(u&&x(u),e.forEach(x),T.catch(o=>{})),g.exports=T,s(x=>{d=v(x);var o,l=()=>d.map(i=>{if(i[t])throw i[t];return i[f]}),a=new Promise(i=>{o=()=>i(l),o.r=0;var b=m=>m!==u&&!e.has(m)&&(e.add(m),m&&!m.d&&(o.r++,m.push(o)));d.map(m=>m[S](b))});return o.r?a:l()},x=>(x?y(T[t]=x):h(n),p(u))),u&&u.d<0&&(u.d=0)}})(),A.d=(S,f)=>{for(var t in f)A.o(f,t)&&!A.o(S,t)&&Object.defineProperty(S,t,{enumerable:!0,get:f[t]})},A.o=(S,f)=>Object.prototype.hasOwnProperty.call(S,f);var K=A(9473)})();})();
