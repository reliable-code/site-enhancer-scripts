// ==UserScript==
// @name         Aliexpress product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://aliexpress.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76830129
// @icon         https://www.google.com/s2/favicons?sz=64&domain=aliexpress.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/ali.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var G={9830:(L,f,r)=>{r.a(L,async(p,b)=>{try{let s=function(){if(!t.isFiltersInitialized){const N=F(),{createGlobalFilter:n,createSectionFilter:v}=(0,E.z)(z,N);t.filters.nameFilter=v("name-filter"),t.filters.minPurchasesFilter=v("min-purchases-filter"),t.filters.minRatingFilter=v("min-rating-filter",4.8),t.filters.maxNameLines=n("max-name-lines",4),t.filters.filterEnabled=v("filter-enabled",!0),t.isFiltersInitialized=!0}},F=function(){return(0,I.B)(S())},S=function(){return(0,d.z2)("store")?(0,d.Fc)(2):(0,d.z2)("category")?(0,d.Fc)(3):(0,d.z2)("wholesale")?(0,d.$F)("SearchText"):"common"},R=function(){t.productsListContainer=(0,e.Fi)(i.Z.PRODUCT_LIST_CONTAINER),t.productsListContainer&&(A(),t.containerObserver=new MutationObserver((0,x.sg)(A)),t.containerObserver.observe(t.productsListContainer,{childList:!0,subtree:!0}))},A=function(){const N=(0,e.Fi)(i.Z.PRODUCT_LIST_HEADER,t.productsListContainer);if(!N)return;const n=(0,e.Fi)(i.Z.PRODUCT_LIST,t.productsListContainer);n&&((0,w.b)(N,U),z(),t.productListObserver&&(0,x.wP)(t.productListObserver),t.productListObserver=new MutationObserver(z),t.productListObserver.observe(n,{childList:!0,subtree:!0}))},U=function(N,n){(0,h.ZM)(N,c.r.FILTERS_CONTAINER);const v={...c.r.TEXT_INPUT,width:(0,d.z2)("store")?"223px":"242px"},T=(0,l.E9)(t.filters.nameFilter,c.r.CONTROL,v),O=(0,a.nW)("\u041C\u0438\u043D. \u043F\u043E\u043A\u0443\u043F\u043E\u043A: ",t.filters.minPurchasesFilter,"1","1","999999",c.r.CONTROL,c.r.NUMBER_INPUT),D=(0,l.HX)(t.filters.minRatingFilter,c.r.CONTROL,c.r.NUMBER_INPUT),k=(0,l.sI)(t.filters.maxNameLines,c.r.CONTROL,c.r.NUMBER_INPUT),P=(0,l.pW)(t.filters.filterEnabled,c.r.CONTROL,c.r.CHECKBOX_INPUT);N.append(T,O,D,k,P),n.append(N)},z=function(){(0,e.fI)(i.Z.PRODUCT).forEach(C)},C=function(N){if(!t.filters.filterEnabled.value){(0,o.kl)(N);return}const n=(0,e.Fi)(i.Z.PRODUCT_NAME,N),v=(0,e.Fi)(i.Z.PRODUCT_RATING,N);if(!n||!v){(0,o.Bt)(N);return}g(n);const T=n.innerText,O=(0,e.q7)(v,"div:nth-child(2)",!0),D=(0,e.q7)(v,"div:nth-child(1) > span"),k=(0,m.Ay)(T,t.filters.nameFilter)||(0,m.JE)(O,t.filters.minPurchasesFilter)||(0,m.JE)(D,t.filters.minRatingFilter);(0,o.UC)(N,k)},g=function(N){const n=t.filters.maxNameLines.value,T=n*16;N.style.height=`${T}px`,N.style.maxHeight=`${T}px`,N.style.webkitLineClamp=n},y=function(){t.productsListContainer=null,t.isFiltersInitialized=!1,t.filters={nameFilter:null,minPurchasesFilter:null,minRatingFilter:null,maxNameLines:null,filterEnabled:null},(0,x.wP)(t.containerObserver),(0,x.wP)(t.productListObserver)};var w=r(5213),d=r(5406),m=r(3829),o=r(5539),e=r(573),l=r(7877),i=r(9820),c=r(3306),E=r(4521),x=r(4921),I=r(5081),h=r(6754),a=r(5884);const t={productsListContainer:null,productListObserver:null,containerObserver:null,isFiltersInitialized:!1,filters:{nameFilter:null,minPurchasesFilter:null,minRatingFilter:null,maxNameLines:null,filterEnabled:null}};await(0,x.Un)(u),(0,d.k1)(async()=>{await u(!0)});async function u(N=!1){N&&y(),s(),R()}b()}catch(t){b(t)}},1)},9820:(L,f,r)=>{r.d(f,{Z:()=>p});const p={PRODUCT_LIST_CONTAINER:'[class^="SnowSearchWrap_SnowSearchWrap__content__"], [class^="ShopSearchWrap_ShopSearchWrap__content__"]',PRODUCT_LIST_HEADER:'[class*="RedFilter_FilterHeader__container__"], [class*="RedFilter_TopPanel__container__"], [class*="ShopFilter_TopPanel__container__"]',PRODUCT_LIST:'[class*="SnowSearchProductFeed_List__grid__"], [class*="red-snippet_RedSnippet__grid__"]',PRODUCT:'[class^="red-snippet_RedSnippet__container"]',PRODUCT_NAME:'[class^="red-snippet_RedSnippet__title"]',PRODUCT_RATING:'[class^="red-snippet_RedSnippet__trust"]'}},3306:(L,f,r)=>{r.d(f,{r:()=>b});const p={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px"}},b={FILTERS_CONTAINER:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"8px 0"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:{...p.INPUT,width:"223px"},NUMBER_INPUT:{...p.INPUT,width:"85px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}},5467:(L,f,r)=>{r.d(f,{E2:()=>b});var p=r(9928);function b(m,o={},e=null){const l=(0,p.Sw)(o,e);return l.append(m),l}function w(m,o=null,e={},l={}){const i=createActionLink(m,o,l);return b(i,e)}function d(m,o=null,e=null,l={},i={}){const c=createActionLinkWithIcon(m,e,o,i);return b(c,l)}},9928:(L,f,r)=>{r.d(f,{S:()=>o,Sw:()=>I,kU:()=>w,o5:()=>d});var p=r(4921),b=r(6754);function w(u,s,F){const S=e(u,"text",s);return S.value=F,S}function d(u,s,F,S,R,A){const U=e(u,"number",s);return U.value=F,U.step=S,U.min=R,U.max=A,U}function m(u,s,F){const S=e(u,"date",s);return S.value=F,S}function o(u,s,F){const S=e(u,"checkbox",s);return S.checked=F,S}function e(u={},s=null,F=null){const S=t("input",u);return s&&(S.type=s),F&&(S.addEventListener("keyup",(0,p.sg)(F,200)),S.addEventListener("change",(0,p.sg)(F,100))),S}function l(u={},s=null){return t("span",u,s)}function i(u={},s=null,F=null){const S=t("a",u,s);return F&&(S.href=F),S}function c(u,s=null,F={}){F.cursor||="pointer";const S=i(F,s);return u&&S.addEventListener("click",u),S}function E(u,s,F=null,S={},R={}){S.display||="inline-flex",S.alignItems||="center",S.gap||="0.25em";const A=c(u,F,S);return A.prepend(a(s,R)),A}function x(u={},s=null,F=null){const S=t("button",u,s);return F&&S.addEventListener("click",F),S}function I(u={},s=null){return t("div",u,s)}function h(u={}){return t("i",u)}function a(u,s={}){s.width||="1em",s.height||="1em",s.paddingBottom||="1px";const F=h(s);return F.setAttribute("data-lucide",u),F}function t(u,s,F=null){if(typeof s!="object"||s===null)throw new TypeError("styles should be an object");const S=document.createElement(u);return(0,b.ZM)(S,s),F&&(S.innerHTML=F),S}},573:(L,f,r)=>{r.d(f,{Fi:()=>w,fI:()=>d,q7:()=>e});var p=r(4214);function b(a,t=document){return!!t.querySelector(a)}function w(a,t=document,u=!1){const s=t.querySelector(a);return u&&!s&&console.log(`No element found for selector: ${a}`),s}function d(a,t=document,u=!1){const s=t.querySelectorAll(a);return u&&!s.length&&console.log(`No elements found for selector: ${a}`),s}function m(a,t=1){let u=a;for(let s=0;s<t;s++){if(!u.parentElement)return null;u=u.parentElement}return u}function o(a,t,u){return[...a.querySelectorAll(t)].find(s=>s.textContent.trim().includes(u))}function e(a,t,u=!1,s=!1,F=null){const S=w(t,a);return l(S,u,s,F)}function l(a,t=!1,u=!1,s=null){if(!a)return s===null?(console.log("No element found"),null):s;const F=a.innerText;return E(F,t,u)}function i(a,t,u=!1){const s=a[t];return l(s,u)}function c(a,t=!1,u=!1){const s=a.textContent;return E(s,t,u)}function E(a,t,u){t&&(a=(0,p.zr)(a)),u&&(a=a.replace(",","."));const s=Number(a);return Number.isNaN(s)?(console.log(`Invalid number: ${a}`),0):s}function x(a){return[...a.childNodes].find(t=>t.nodeType===Node.TEXT_NODE)}function I(a){const t=u=>u.nodeType===Node.TEXT_NODE&&u.textContent.trim()!==""?[u]:[...u.childNodes].flatMap(t);return t(a)}function h(a){return normalizeSpacing(a.textContent)}},5539:(L,f,r)=>{r.d(f,{Bt:()=>b,UC:()=>i,kl:()=>e});function p(n,v){n.parentNode.insertBefore(v,n.nextSibling)}function b(n){n.style.display="none"}function w(n,v=1){const T=document.querySelector(n);T&&d(T,v)}function d(n,v=1){const T=getElementAncestor(n,v);T&&b(T)}function m(n){x(n),b(n)}function o(n){n.intersectionObserver||runOnceOnIntersection(n,()=>b(n))}function e(n){n.style.display=""}function l(n){const v=E(n);n.style.display=v}function i(n,v){v?b(n):e(n)}function c(n,v){v?o(n):(clearIntersectionObserver(n),e(n))}function E(n){return x(n),n.defaultDisplay}function x(n){if(n.defaultDisplay)return;const{display:v}=getComputedStyle(n);n.defaultDisplay=v}function I(){return{show:[],hide:[]}}function h(n,v,T){n?v.hide.push(T):v.show.push(T)}function a(n){n.show.forEach(e),n.hide.forEach(b)}function t(n,v,T=.3){v?s(n,T):u(n)}function u(n){n.style.opacity=""}function s(n,v=.3){n.style.opacity=v}function F(n){n.style.order=""}function S(n,v){n.style.order=v}function R(n,v){n.style.background=v}function A(n,v){const T=getFirstElement(v);T&&U(n,T)}function U(n,v){const T=createLink();T.href=n,v.parentNode.append(T),T.append(v)}function z(n,v){const T=getFirstElement(v);T&&C(n,T)}function C(n,v,T={}){const O=createLink(T);O.href=n,O.append(...v.childNodes),v.append(O)}function g(){const n=getURLQueryParam("scrollTo");if(!n)return;const v=document.getElementById(n);v?v.scrollIntoView():console.log(`Element with ID "${n}" was not found.`)}function y(n,v,T=null){const O=`${v}-click-passed`,D=T?k=>findElementByText(k,n,T):k=>getFirstElement(n,k);return function(k){if(k.hasAttribute(O))return!1;const P=D(k);return P&&P.click(),k.setAttribute(O,""),!0}}function N(n,v,T="text/plain"){const O=new Blob([n],{type:T}),D=URL.createObjectURL(O),k=document.createElement("a");k.href=D,k.download=v,document.body.appendChild(k),k.click(),document.body.removeChild(k),requestAnimationFrame(()=>URL.revokeObjectURL(D))}},6754:(L,f,r)=>{r.d(f,{ZM:()=>p});function p(m,o){Object.assign(m.style,o)}function b(m,o="custom-global-style"){let e=document.getElementById(o);e||(e=document.createElement("style"),e.id=o,e.type="text/css",document.head.appendChild(e)),e.textContent=m}function w(m){return Object.entries(m).map(([o,e])=>`${o.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${e};`).join(" ")}function d(m){return m?m.split(";").filter(o=>o.trim()!=="").reduce((o,e)=>{const[l,i]=e.split(":").map(E=>E.trim()),c=l.replace(/-([a-z])/g,(E,x)=>x.toUpperCase());return o[c]=i,o},{}):{}}},4921:(L,f,r)=>{r.d(f,{Un:()=>m,sg:()=>d,wP:()=>l});function p(i,c,E=null){const x=i.querySelector(c);return x?Promise.resolve(x):new Promise(I=>{const h=new MutationObserver(t);h.observe(i,{childList:!0,subtree:!0});let a;E&&(a=setTimeout(()=>{h.disconnect(),console.log(`No element found for selector: ${c}`),I(null)},E));function t(){const u=i.querySelector(c);u&&(a&&clearTimeout(a),h.disconnect(),I(u))}})}function b(i,c){return i.querySelector(c)?new Promise(x=>{const I=new MutationObserver(h);I.observe(i,{childList:!0,subtree:!0});function h(){i.querySelector(c)||(I.disconnect(),x())}}):Promise.resolve()}function w(i,c=400){return new Promise(E=>{let x;const I=new MutationObserver(()=>{clearTimeout(x),h()});function h(){x=setTimeout(()=>{I.disconnect(),E()},c)}h(),I.observe(i,{childList:!0,subtree:!0})})}function d(i,c=250){let E;return(...x)=>{clearTimeout(E),E=setTimeout(()=>i(...x),c)}}async function m(i){document.visibilityState==="visible"?await i():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await i()},{once:!0})}function o(i,c){const E=new IntersectionObserver(x=>{x.forEach(I=>{I.isIntersecting&&(c(),e(i))})});i.intersectionObserver=E,E.observe(i)}function e(i){i.intersectionObserver&&(i.intersectionObserver.disconnect(),i.intersectionObserver=null)}function l(i){i&&(i.disconnect(),i=null)}},3829:(L,f,r)=>{r.d(f,{Ay:()=>b,JE:()=>d});var p=r(8355);function b(i,c){return!w(i,c)}function w(i,c){if(!c.value)return!0;const E=i.toLowerCase(),x=(0,p.Rn)(c),I=[],h=[];return x.forEach(a=>{if(a.startsWith("!")){const t=a.substring(1);t&&h.push(t)}else I.push(a)}),I.every(a=>E.includes(a))&&h.every(a=>!E.includes(a))}function d(i,c){return c.value!=null&&i<c.value}function m(i,c){return c.value!=null&&i>c.value}function o(i,c){return c.value==null?!1:i<parseDateFromISO(c.value)}function e(i,c){return c.value==null?!1:i>parseDateFromISO(c.value)}function l(i,c){return c.value&&i!==c.value}},4521:(L,f,r)=>{r.d(f,{z:()=>b});var p=r(3048);function b(w,d=null){return{createGlobalFilter(m,o=null,e=w){return p.V.create(m,o,e)},createSectionFilter(m,o=null,e=w){if(!d)throw new Error("sectionId must be provided to use createSectionFilter.");return p.V.createWithCompositeKey(d,m,o,e)}}}},5884:(L,f,r)=>{r.d(f,{Hw:()=>o,Nm:()=>w,nW:()=>d});var p=r(9928),b=r(5467);function w(e,l,i={},c={}){const E=(0,p.kU)(c,l.updateValueFromEvent,l.value);return(0,b.E2)(E,i,e)}function d(e,l,i,c,E,x={},I={}){const h=(0,p.o5)(I,l.updateValueFromEvent,l.value,i,c,E);return(0,b.E2)(h,x,e)}function m(e,l,i={},c={}){const E=createDateInput(c,l.updateValueFromEvent,l.value);return createControl(E,i,e)}function o(e,l,i={},c={}){const E=(0,p.S)(c,l.updateValueFromEvent,l.value);return(0,b.E2)(E,i,e)}},7877:(L,f,r)=>{r.d(f,{E9:()=>b,HX:()=>w,pW:()=>U,sI:()=>s});var p=r(5884);function b(C,g={},y={}){return(0,p.Nm)("\u041F\u043E\u0438\u0441\u043A: ",C,g,y)}function w(C,g={},y={},N=.1,n=3){return(0,p.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",C,N,n,5,g,y)}function d(C,g={},y={},N=.1,n=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",C,N,n,5,g,y)}function m(C,g={},y={}){return e("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",C,g,y)}function o(C,g={},y={}){return e("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",C,g,y)}function e(C,g,y={},N={}){return createNumberFilterControl(C,g,"1","1","999999",y,N)}function l(C,g={},y={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",C,g,y)}function i(C,g={},y={}){return c("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",C,g,y)}function c(C,g,y={},N={}){return createNumberFilterControl(C,g,"5","0","100",y,N)}function E(C,g={},y={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",C,"5","0","100",g,y)}function x(C,g,y={},N={},n="250"){return createNumberFilterControl(C,g,n,"0","1000000",y,N)}function I(C,g={},y={},N="25"){return x("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",C,g,y,N)}function h(C,g={},y={},N="25"){return x("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",C,g,y,N)}function a(C,g={},y={}){return t("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",C,g,y)}function t(C,g,y={},N={}){return createNumberFilterControl(C,g,"1","0","99999",y,N)}function u(C,g={},y={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",C,"1","2","8",g,y)}function s(C,g={},y={}){return(0,p.nW)("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",C,1,1,10,g,y)}function F(C,g={},y={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",C,g,y)}function S(C,g={},y={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",C,g,y)}function R(C,g={},y={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",C,g,y)}function A(C,g={},y={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",C,g,y)}function U(C,g={},y={}){return(0,p.Hw)("\u0412\u043A\u043B: ",C,g,y)}function z(C,g,y={}){const N=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],n={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},v=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),T=[],O=()=>g?parseFloat(g.value)||0:C.value,D=()=>{const k=O();T.forEach(({button:P,value:H})=>{const j=H<=k?n.active:n.inactive;Object.assign(P.style,j)})};return N.forEach(({value:k,emoji:P,tooltip:H})=>{const V=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...y},P);V.title=H,V.type="button",V.addEventListener("click",j=>{j.preventDefault(),C.updateValue(k),g&&(g.value=k),D()}),V.addEventListener("mouseenter",()=>{k<=O()||(V.style.background=n.hover.background)}),V.addEventListener("mouseleave",()=>{D()}),T.push({button:V,value:k}),v.appendChild(V)}),D(),g&&(g.addEventListener("input",D),g.addEventListener("change",D)),v}},8355:(L,f,r)=>{r.d(f,{Rn:()=>p});function p(o){return o.value.toLowerCase().split(",").map(e=>e.trim()).filter(e=>e!=="")}function b(o){return p(o).filter(e=>!e.startsWith("!"))}function w(o,e){m(o,l=>l.style.display!=="none",e)}function d(o,e){m(o,l=>l.style.opacity==="",e)}function m(o,e,l){const i=[...o].filter(e).length;l.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${i} \u0438\u0437 ${o.length}`}},5213:(L,f,r)=>{r.d(f,{b:()=>w});var p=r(9928),b=r(573);function w(d,m,o=!1,e="customFiltersContainer"){let l=(0,b.Fi)(`#${e}`,d);if(l)if(o)l.remove();else return;l=(0,p.Sw)(),l.id=e,m(l,d)}},4444:(L,f,r)=>{r.d(f,{s:()=>p});function p(b){let m=2166136261;for(let o=0;o<b.length;o+=1){const e=b.charCodeAt(o);m^=e,m=Math.imul(m,16777619)}return m>>>0}},5081:(L,f,r)=>{r.d(f,{B:()=>w});var p=r(4444);function b(d){return(0,p.s)(d).toString(16).padStart(8,"0")}function w(d,m="common"){return d?b(d):m}},8200:(L,f,r)=>{r.d(f,{s:()=>p});function p(b){const{target:w}=b,{type:d}=w;switch(d){case"text":return`"${w.value}"`;case"number":return w.value;case"date":return`"${w.value}"`;case"checkbox":return w.checked;default:return console.log(`Unknown input type: ${d}`),null}}},157:(L,f,r)=>{r.d(f,{Fg:()=>p,vx:()=>w});const p=window.GM_setValue,b=window.GM.setValue,w=window.GM_getValue},1870:(L,f,r)=>{r.d(f,{j:()=>p});class p{constructor(w,d){this.value=w,this.onChange=d}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(L,f,r)=>{r.d(f,{V:()=>m});var p=r(1870),b=r(8200),w=r(3976),d=r(157);class m extends p.j{constructor(e,l=null,i=null){super((0,d.vx)(e,l),i),this.storageKey=e,this.defaultValue=l}static create(e,l=null,i=null){return new m(e,l,i)}static createWithCompositeKey(e,l,i=null,c=null){const E=`${e}-${l}`;return new m(E,i,c)}updateValueFromEvent=e=>{const l=(0,b.s)(e),i=(0,w.$)(l);this.updateValue(i)};updateValue(e,l=!0){this.value!==e&&((0,d.Fg)(this.storageKey,e),this.value=e,l&&this.onChangeIfDefined())}clearValue(e=!1){this.updateValue(null,e)}resetValue(e=!1){this.updateValue(this.defaultValue,e)}}},3976:(L,f,r)=>{r.d(f,{$:()=>p});function p(b){return b===""?null:JSON.parse(b)}},4214:(L,f,r)=>{r.d(f,{zr:()=>b});function p(o){return o.replace(/\D/g,"")}function b(o){return o.replace(/[^\d.,-]/g,"")}function w(o){return o.replace(/\s/g,"")}function d(o){return o.charAt(0).toUpperCase()+o.slice(1)}function m(o){return o.replace(/\s+/g," ").trim()}},5406:(L,f,r)=>{r.d(f,{$F:()=>o,Fc:()=>p,k1:()=>x,z2:()=>c});function p(h,a="common",t=!1){const{pathname:u}=window.location;return b(u,h,a,t)}function b(h,a,t,u=!1){const s=h.split("/");a=a<0?s.length+a:a;const F=s[a]||t;return u&&console.log(`Pathname element: ${F}`),F}function w(h,a="common",t=!1){const u=p(h,"",t);return d(u,a,t)}function d(h,a,t){if(!h)return a;const u=h.split("-").at(-1);return t&&console.log(`Pathname element ending: ${u}`),u}function m(h,a,t="common",u=!1){const s=b(h,a,"",u);return d(s,t,u)}function o(h){return new URLSearchParams(window.location.search).get(h)}function e(h){return h.split("?")[0]}function l(h){return window.location.pathname.includes(h)}function i(h){return h.some(a=>l(a))}function c(...h){return window.location.pathname.split("/").some(t=>h.includes(t))}function E(h){try{const a=new URL(window.location.href);Object.entries(h).forEach(([t,u])=>{a.searchParams.set(t,u)}),window.location.href=a.toString()}catch(a){console.error("Failed to redirect:",a)}}function x(h,a=[]){const t={pathname:window.location.pathname};a.forEach(R=>{t[R]=o(R)});let u=!1;async function s(){if(u)return;const R={pathname:window.location.pathname};if(a.forEach(A=>{R[A]=o(A)}),Object.keys(t).some(A=>t[A]!==R[A])){Object.assign(t,R),u=!0;try{await h()}catch(A){console.error("Error in URL observer callback:",A)}finally{u=!1}}}function F(){s().catch(R=>{console.error("Error in URL change handler:",R)})}let S=window.location.href;setInterval(()=>{window.location.href!==S&&(S=window.location.href,F())},200),window.addEventListener("popstate",F)}function I(h=[]){x(()=>window.location.reload(),h)}}},B={};function $(L){var f=B[L];if(f!==void 0)return f.exports;var r=B[L]={exports:{}};return G[L](r,r.exports,$),r.exports}(()=>{var L=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",r=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",p=w=>{w&&w.d<1&&(w.d=1,w.forEach(d=>d.r--),w.forEach(d=>d.r--?d.r++:d()))},b=w=>w.map(d=>{if(d!==null&&typeof d=="object"){if(d[L])return d;if(d.then){var m=[];m.d=0,d.then(l=>{o[f]=l,p(m)},l=>{o[r]=l,p(m)});var o={};return o[L]=l=>l(m),o}}var e={};return e[L]=l=>{},e[f]=d,e});$.a=(w,d,m)=>{var o;m&&((o=[]).d=-1);var e=new Set,l=w.exports,i,c,E,x=new Promise((I,h)=>{E=h,c=I});x[f]=l,x[L]=I=>(o&&I(o),e.forEach(I),x.catch(h=>{})),w.exports=x,d(I=>{i=b(I);var h,a=()=>i.map(u=>{if(u[r])throw u[r];return u[f]}),t=new Promise(u=>{h=()=>u(a),h.r=0;var s=F=>F!==o&&!e.has(F)&&(e.add(F),F&&!F.d&&(h.r++,F.push(h)));i.map(F=>F[L](s))});return h.r?t:a()},I=>(I?E(x[r]=I):c(l),p(o))),o&&o.d<0&&(o.d=0)}})(),$.d=(L,f)=>{for(var r in f)$.o(f,r)&&!$.o(L,r)&&Object.defineProperty(L,r,{enumerable:!0,get:f[r]})},$.o=(L,f)=>Object.prototype.hasOwnProperty.call(L,f);var Z=$(9830)})();})();
