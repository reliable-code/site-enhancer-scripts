// ==UserScript==
// @name         2gis reviews filter
// @description  Hide reviews by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://2gis.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76953891
// @icon         https://www.google.com/s2/favicons?sz=64&domain=2gis.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/dgis.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var G={5467:(N,v,t)=>{t.d(v,{E2:()=>S});var y=t(9928);function S(p,s={},o=null){const u=(0,y.Sw)(s,o);return u.append(p),u}function g(p,s=null,o={},u={}){const r=createActionLink(p,s,u);return S(r,o)}function w(p,s=null,o=null,u={},r={},h={}){const l=createActionLinkWithIcon(p,o,s,r,h);return S(l,u)}},9928:(N,v,t)=>{t.d(v,{Sw:()=>e,kU:()=>g});var y=t(4921),S=t(6754);function g(C,c,L){const F=o(C,"text",c);return F.value=L,F}function w(C,c,L,F,O,P){const B=o(C,"number",c);return B.value=L,B.step=F,B.min=O,B.max=P,B}function p(C,c,L){const F=o(C,"date",c);return F.value=L,F}function s(C,c,L){const F=o(C,"checkbox",c);return F.checked=L,F}function o(C={},c=null,L=null){const F=d("input",C);return c&&(F.type=c),L&&(F.addEventListener("keyup",(0,y.sg)(L,200)),F.addEventListener("change",(0,y.sg)(L,100))),F}function u(C,c,L){const F=d("select",C);return c&&F.addEventListener("change",c),F.value=L,F}function r(C={},c=null){return d("span",C,c)}function h(C={},c=null,L=null){const F=d("a",C,c);return L&&(F.href=L),F}function l(C,c=null,L={}){L.cursor||="pointer";const F=h(L,c);return C&&F.addEventListener("click",C),F}function i(C,c,L=null,F={},O={}){F.display||="inline-flex",F.alignItems||="center",F.gap||="0.25em";const P=l(C,L,F);return P.prepend(m(c,O)),P}function I(C={},c=null,L=null){const F=d("button",C,c);return L&&F.addEventListener("click",L),F}function e(C={},c=null){return d("div",C,c)}function a(C={},c=null){return d("i",C,c)}function m(C,c={}){c.width||="1em",c.height||="1em";const L=createLucideSvg(C);return applyStyles(L,c),L}function d(C,c,L=null){if(typeof c!="object"||c===null)throw new TypeError("styles should be an object");const F=document.createElement(C);return(0,S.ZM)(F,c),L&&(F.innerHTML=L),F}},573:(N,v,t)=>{t.d(v,{Fi:()=>S,Yl:()=>p,fI:()=>g,s$:()=>w});function y(e,a=document){return!!a.querySelector(e)}function S(e,a=document,m=!1){const d=a.querySelector(e);return m&&!d&&console.log(`No element found for selector: ${e}`),d}function g(e,a=document,m=!1){const d=a.querySelectorAll(e);return m&&!d.length&&console.log(`No elements found for selector: ${e}`),d}function w(e,a=1){let m=e;for(let d=0;d<a;d++){if(!m.parentElement)return null;m=m.parentElement}return m}function p(e,a,m){return[...e.querySelectorAll(a)].find(d=>d.textContent.trim().includes(m))}function s(e,a,m=!1,d=!1,C=null){const c=S(a,e);return o(c,m,d,C)}function o(e,a=!1,m=!1,d=null){if(!e)return d===null?(console.log("No element found"),null):d;const C=e.innerText;return h(C,a,m)}function u(e,a,m=!1){const d=e[a];return o(d,m)}function r(e,a=!1,m=!1){const d=e.textContent;return h(d,a,m)}function h(e,a,m){a&&(e=removeNonNumber(e)),m&&(e=e.replace(",","."));const d=Number(e);return Number.isNaN(d)?(console.log(`Invalid number: ${e}`),0):d}function l(e){return[...e.childNodes].find(a=>a.nodeType===Node.TEXT_NODE)}function i(e){const a=m=>m.nodeType===Node.TEXT_NODE&&m.textContent.trim()!==""?[m]:[...m.childNodes].flatMap(a);return a(e)}function I(e){return normalizeSpacing(e.textContent)}},8506:(N,v,t)=>{t.d(v,{hf:()=>S,kZ:()=>w});var y=t(573);function S(p,s){p.forEach(o=>g(s,o))}function g(p,s){if(!s)return;const o=new RegExp(`(${s})`,"gi"),u=document.createTreeWalker(p,NodeFilter.SHOW_TEXT,null);let r=u.nextNode();const h=[];for(;r;){const{textContent:l}=r;if(o.test(l)){const i=document.createDocumentFragment();let I=0;l.replace(o,(e,a,m)=>{m>I&&i.appendChild(document.createTextNode(l.slice(I,m)));const d=document.createElement("span");d.className="highlightedSubstring",d.style.backgroundColor="yellow",d.textContent=e,i.appendChild(d),I=m+e.length}),I<l.length&&i.appendChild(document.createTextNode(l.slice(I))),h.push({node:r,fragment:i})}r=u.nextNode()}h.forEach(({node:l,fragment:i})=>{l.parentNode.replaceChild(i,l)})}function w(p){(0,y.fI)(".highlightedSubstring",p).forEach(o=>{const{parentNode:u}=o;o.replaceWith(o.textContent),u.normalize()})}},5539:(N,v,t)=>{t.d(v,{Bt:()=>g,Bz:()=>e,GY:()=>a,L5:()=>f,pB:()=>m});var y=t(573);function S(n,x){n.parentNode.insertBefore(x,n.nextSibling)}function g(n){n.style.display="none"}function w(n,x=1){const k=document.querySelector(n);k&&p(k,x)}function p(n,x=1){const k=getElementAncestor(n,x);k&&g(k)}function s(n){I(n),g(n)}function o(n){n.intersectionObserver||runOnceOnIntersection(n,()=>g(n))}function u(n){n.style.display=""}function r(n){const x=i(n);n.style.display=x}function h(n,x){x?g(n):u(n)}function l(n,x){x?o(n):(clearIntersectionObserver(n),u(n))}function i(n){return I(n),n.defaultDisplay}function I(n){if(n.defaultDisplay)return;const{display:x}=getComputedStyle(n);n.defaultDisplay=x}function e(){return{show:[],hide:[]}}function a(n,x,k){n?x.hide.push(k):x.show.push(k)}function m(n){n.show.forEach(u),n.hide.forEach(g)}function d(n,x,k=.3){x?c(n,k):C(n)}function C(n){n.style.opacity=""}function c(n,x=.3){n.style.opacity=x}function L(n){n.style.order=""}function F(n,x){n.style.order=x}function O(n,x){n.style.background=x}function P(n,x){const k=getFirstElement(x);k&&B(n,k)}function B(n,x){const k=createLink();k.href=n,x.parentNode.append(k),k.append(x)}function $(n,x){const k=getFirstElement(x);k&&b(n,k)}function b(n,x,k={}){const A=createLink(k);A.href=n,A.append(...x.childNodes),x.append(A)}function E(){const n=getURLQueryParam("scrollTo");if(!n)return;const x=document.getElementById(n);x?x.scrollIntoView():console.log(`Element with ID "${n}" was not found.`)}function f(n,x,k=null){const A=`${x}-click-passed`,R=k?D=>(0,y.Yl)(D,n,k):D=>(0,y.Fi)(n,D);return function(D){if(D.hasAttribute(A))return!1;const U=R(D);return U&&U.click(),D.setAttribute(A,""),!0}}function T(n,x,k="text/plain"){const A=new Blob([n],{type:k}),R=URL.createObjectURL(A),D=document.createElement("a");D.href=R,D.download=x,document.body.appendChild(D),D.click(),document.body.removeChild(D),requestAnimationFrame(()=>URL.revokeObjectURL(R))}},6754:(N,v,t)=>{t.d(v,{ZM:()=>y});function y(p,s){Object.assign(p.style,s)}function S(p,s="custom-global-style"){let o=document.getElementById(s);o||(o=document.createElement("style"),o.id=s,o.type="text/css",document.head.appendChild(o)),o.textContent=p}function g(p){return Object.entries(p).map(([s,o])=>`${s.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${o};`).join(" ")}function w(p){return p?p.split(";").filter(s=>s.trim()!=="").reduce((s,o)=>{const[u,r]=o.split(":").map(l=>l.trim()),h=u.replace(/-([a-z])/g,(l,i)=>i.toUpperCase());return s[h]=r,s},{}):{}}},4921:(N,v,t)=>{t.d(v,{XW:()=>g,sg:()=>w,wP:()=>u,xk:()=>y});function y(r,h,l=null){const i=r.querySelector(h);return i?Promise.resolve(i):new Promise(I=>{const e=new MutationObserver(m);e.observe(r,{childList:!0,subtree:!0});let a;l&&(a=setTimeout(()=>{e.disconnect(),console.log(`No element found for selector: ${h}`),I(null)},l));function m(){const d=r.querySelector(h);d&&(a&&clearTimeout(a),e.disconnect(),I(d))}})}function S(r,h){return r.querySelector(h)?new Promise(i=>{const I=new MutationObserver(e);I.observe(r,{childList:!0,subtree:!0});function e(){r.querySelector(h)||(I.disconnect(),i())}}):Promise.resolve()}function g(r,h=400){return new Promise(l=>{let i;const I=new MutationObserver(()=>{clearTimeout(i),e()});function e(){i=setTimeout(()=>{I.disconnect(),l()},h)}e(),I.observe(r,{childList:!0,subtree:!0})})}function w(r,h=250){let l;return(...i)=>{clearTimeout(l),l=setTimeout(()=>r(...i),h)}}async function p(r){document.visibilityState==="visible"?await r():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await r()},{once:!0})}function s(r,h){const l=new IntersectionObserver(i=>{i.forEach(I=>{I.isIntersecting&&(h(),o(r))})});r.intersectionObserver=l,l.observe(r)}function o(r){r.intersectionObserver&&(r.intersectionObserver.disconnect(),r.intersectionObserver=null)}function u(r){r&&(r.disconnect(),r=null)}},3829:(N,v,t)=>{t.d(v,{Ay:()=>S});var y=t(8355);function S(l,i){return!g(l,i)}function g(l,i){if(!i||!i.value)return!0;const I=(0,y._7)(i.value);return w(l,I)}function w(l,i){if(!i||!i.length)return!0;const I=(l||"").toLowerCase();return i.every(e=>p(I,e))}function p(l,i){return i.some(({term:I,isNegative:e})=>{const a=l.includes(I);return e?!a:a})}function s(l,i){return i.value!=null&&l<i.value}function o(l,i){return i.value!=null&&l>i.value}function u(l,i){return i.value==null?!1:l<parseDateFromISO(i.value)}function r(l,i){return i.value==null?!1:l>parseDateFromISO(i.value)}function h(l,i){return i.value&&l!==i.value}},4521:(N,v,t)=>{t.d(v,{z:()=>S});var y=t(3048);function S(g,w=null){return{createGlobalFilter(p,s=null,o=g){return y.V.create(p,s,o)},createSectionFilter(p,s=null,o=g){if(!w)throw new Error("sectionId must be provided to use createSectionFilter.");return y.V.createWithCompositeKey(w,p,s,o)}}}},5884:(N,v,t)=>{t.d(v,{Nm:()=>g});var y=t(9928),S=t(5467);function g(u,r,h={},l={}){const i=(0,y.kU)(l,r.updateValueFromEvent,r.value);return(0,S.E2)(i,h,u)}function w(u,r,h,l,i,I={},e={}){const a=createNumberInput(e,r.updateValueFromEvent,r.value,h,l,i);return createControl(a,I,u)}function p(u,r,h={},l={}){const i=createSelect(l,r.updateValueFromEvent,r.value);return createControl(i,h,u)}function s(u,r,h={},l={}){const i=createDateInput(l,r.updateValueFromEvent,r.value);return createControl(i,h,u)}function o(u,r,h={},l={}){const i=createCheckboxInput(l,r.updateValueFromEvent,r.value);return createControl(i,h,u)}},7877:(N,v,t)=>{t.d(v,{E9:()=>S});var y=t(5884);function S(b,E={},f={}){return(0,y.Nm)("\u041F\u043E\u0438\u0441\u043A: ",b,E,f)}function g(b,E={},f={},T=.1,n=3){return createNumberFilterControl("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",b,T,n,5,E,f)}function w(b,E={},f={},T=.1,n=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",b,T,n,5,E,f)}function p(b,E={},f={}){return o("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",b,E,f)}function s(b,E={},f={}){return o("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",b,E,f)}function o(b,E,f={},T={}){return createNumberFilterControl(b,E,"1","1","999999",f,T)}function u(b,E={},f={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",b,E,f)}function r(b,E={},f={}){return h("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",b,E,f)}function h(b,E,f={},T={}){return createNumberFilterControl(b,E,"5","0","100",f,T)}function l(b,E={},f={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",b,"5","0","100",E,f)}function i(b,E,f={},T={},n="250"){return createNumberFilterControl(b,E,n,"0","1000000",f,T)}function I(b,E={},f={},T="25"){return i("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",b,E,f,T)}function e(b,E={},f={},T="25"){return i("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",b,E,f,T)}function a(b,E={},f={}){return m("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",b,E,f)}function m(b,E,f={},T={}){return createNumberFilterControl(b,E,"1","0","99999",f,T)}function d(b,E={},f={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",b,"1","2","8",E,f)}function C(b,E={},f={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",b,1,1,10,E,f)}function c(b,E={},f={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",b,E,f)}function L(b,E={},f={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",b,E,f)}function F(b,E={},f={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",b,E,f)}function O(b,E={},f={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",b,E,f)}function P(b,E={},f={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",b,E,f)}function B(b,E={},f={}){return createCheckboxFilterControl("\u0412\u043A\u043B: ",b,E,f)}function $(b,E,f={}){const T=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],n={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},x=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),k=[],A=()=>E?parseFloat(E.value)||0:b.value,R=()=>{const D=A();k.forEach(({button:U,value:W})=>{const z=W<=D?n.active:n.inactive;Object.assign(U.style,z)})};return T.forEach(({value:D,emoji:U,tooltip:W})=>{const V=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...f},U);V.title=W,V.type="button",V.addEventListener("click",z=>{z.preventDefault(),b.updateValue(D),E&&(E.value=D),R()}),V.addEventListener("mouseenter",()=>{D<=A()||(V.style.background=n.hover.background)}),V.addEventListener("mouseleave",()=>{R()}),k.push({button:V,value:D}),x.appendChild(V)}),R(),E&&(E.addEventListener("input",R),E.addEventListener("change",R)),x}},8355:(N,v,t)=>{t.d(v,{_7:()=>S,fO:()=>y,oM:()=>p});function y(u){if(!u)return[];const h=S(u).flat().filter(l=>l&&!l.isNegative&&l.term).map(l=>l.term);return[...new Set(h)]}function S(u){return u?u.toLowerCase().split(",").map(g).filter(Boolean):[]}function g(u){const r=u.split("/").map(l=>l.trim()).filter(Boolean);if(r.length===0)return null;const h=r.map(w).filter(Boolean);return h.length>0?h:null}function w(u){const r=u.startsWith("!"),h=r?u.slice(1).trim():u;return h?{term:h,isNegative:r}:null}function p(u,r){o(u,h=>h.style.display!=="none",r)}function s(u,r){o(u,h=>h.style.opacity==="",r)}function o(u,r,h){const l=[...u].filter(r).length;h.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${l} \u0438\u0437 ${u.length}`}},4292:(N,v,t)=>{t.d(v,{C:()=>g});var y=t(8355),S=t(8506);function g(p,s){const o=(0,y.fO)(p.value);(0,S.hf)(o,s)}function w(p,s){const o=getIncludedSearchStrings(p.value);s.forEach(u=>highlightSubstrings(o,u))}},5213:(N,v,t)=>{t.d(v,{b:()=>g});var y=t(9928),S=t(573);function g(w,p,s=!1,o="customFiltersContainer"){let u=(0,S.Fi)(`#${o}`,w);if(u)if(s)u.remove();else return;u=(0,y.Sw)(),u.id=o,p(u,w)}},8200:(N,v,t)=>{t.d(v,{s:()=>y});function y(S){const{target:g}=S,{type:w}=g;switch(w){case"text":return`"${g.value}"`;case"number":return g.value;case"select-one":return g.value;case"date":return`"${g.value}"`;case"checkbox":return g.checked;default:return console.log(`Unknown input type: ${w}`),null}}},157:(N,v,t)=>{t.d(v,{Fg:()=>y,vx:()=>g});const y=window.GM_setValue,S=window.GM.setValue,g=window.GM_getValue},1870:(N,v,t)=>{t.d(v,{j:()=>y});class y{constructor(g,w){this.value=g,this.onChange=w}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(N,v,t)=>{t.d(v,{V:()=>p});var y=t(1870),S=t(8200),g=t(3976),w=t(157);class p extends y.j{constructor(o,u=null,r=null){super((0,w.vx)(o,u),r),this.storageKey=o,this.defaultValue=u}static create(o,u=null,r=null){return new p(o,u,r)}static createWithCompositeKey(o,u,r=null,h=null){const l=`${o}-${u}`;return new p(l,r,h)}updateValueFromEvent=o=>{const u=(0,S.s)(o),r=(0,g.$)(u);this.updateValue(r)};updateValue(o,u=!0){this.value!==o&&((0,w.Fg)(this.storageKey,o),this.value=o,u&&this.onChangeIfDefined())}clearValue(o=!1){this.updateValue(null,o)}resetValue(o=!1){this.updateValue(this.defaultValue,o)}}},3976:(N,v,t)=>{t.d(v,{$:()=>y});function y(S){return S===""?null:JSON.parse(S)}},5406:(N,v,t)=>{t.d(v,{k1:()=>i,z2:()=>h});function y(e,a="common",m=!1){const{pathname:d}=window.location;return S(d,e,a,m)}function S(e,a,m,d=!1){const C=e.split("/");a=a<0?C.length+a:a;const c=C[a]||m;return d&&console.log(`Pathname element: ${c}`),c}function g(e,a="common",m=!1){const d=y(e,"",m);return w(d,a,m)}function w(e,a,m){if(!e)return a;const d=e.split("-").at(-1);return m&&console.log(`Pathname element ending: ${d}`),d}function p(e,a,m="common",d=!1){const C=S(e,a,"",d);return w(C,m,d)}function s(e){return new URLSearchParams(window.location.search).get(e)}function o(e){return e.split("?")[0]}function u(e){return window.location.pathname.includes(e)}function r(e){return e.some(a=>u(a))}function h(...e){return window.location.pathname.split("/").some(m=>e.includes(m))}function l(e){try{const a=new URL(window.location.href);Object.entries(e).forEach(([m,d])=>{a.searchParams.set(m,d)}),window.location.href=a.toString()}catch(a){console.error("Failed to redirect:",a)}}function i(e,a=[]){const m={pathname:window.location.pathname};a.forEach(F=>{m[F]=s(F)});let d=!1;async function C(){if(d)return;const F={pathname:window.location.pathname};if(a.forEach(O=>{F[O]=s(O)}),Object.keys(m).some(O=>m[O]!==F[O])){Object.assign(m,F),d=!0;try{await e()}catch(O){console.error("Error in URL observer callback:",O)}finally{d=!1}}}function c(){C().catch(F=>{console.error("Error in URL change handler:",F)})}let L=window.location.href;setInterval(()=>{window.location.href!==L&&(L=window.location.href,c())},200),window.addEventListener("popstate",c)}function I(e=[]){i(()=>window.location.reload(),e)}},4615:(N,v,t)=>{t.a(N,async(y,S)=>{try{let O=function(f){const T=(0,s.Yl)(f,"p","\u041E\u0446\u0435\u043D\u0438\u0442\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043E\u0442\u0437\u044B\u0432");T&&(0,p.Bt)((0,s.s$)(T,2));const n=(0,s.Yl)(f,"h3","\u0412\u0441\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");n&&(0,p.Bt)(n.parentElement)},P=function(){if(!c.isFiltersInitialized){const{createGlobalFilter:f}=(0,h.z)($);c.reviewTextFilter=f("review-text-filter"),c.isFiltersInitialized=!0}},B=function(f,T){(0,l.ZM)(f,r.r.FILTERS_CONTAINER);const n=(0,o.E9)(c.reviewTextFilter,r.r.CONTROL,r.r.TEXT_INPUT);c.reviewsInfo=(0,m.Sw)(r.r.INFO),f.append(n,c.reviewsInfo),T.parentNode.insertBefore(f,T)},$=function(){c.isFiltersInitialized||P();const f=(0,s.fI)(c.reviewSelector),T=(0,p.Bz)();f.forEach(n=>{const x=b(n);(0,p.GY)(x,T,n)}),(0,p.pB)(T),(0,d.oM)(f,c.reviewsInfo)},b=function(f){C(f),(0,e.kZ)(f);const T=(0,s.Fi)(u.Z.REVIEW_TEXT_WRAP,f);if(!T)return!0;c.reviewTextFilter.value&&(0,I.C)(c.reviewTextFilter,T);const n=T.innerText;return(0,w.Ay)(n,c.reviewTextFilter)},E=function(){c.reviewSelector=null,c.isFiltersInitialized=!1,c.reviewTextFilter=null,c.reviewsInfo=null,(0,i.wP)(c.reviewsObserver)};var g=t(5213),w=t(3829),p=t(5539),s=t(573),o=t(7877),u=t(281),r=t(8697),h=t(4521),l=t(6754),i=t(4921),I=t(4292),e=t(8506),a=t(5406),m=t(9928),d=t(8355);const C=(0,p.L5)("span","read-more","\u0427\u0438\u0442\u0430\u0442\u044C \u0446\u0435\u043B\u0438\u043A\u043E\u043C"),c={reviewSelector:null,isFiltersInitialized:!1,reviewTextFilter:null,reviewsInfo:null,reviewsObserver:null};await L(),(0,a.k1)(async()=>{E(),await L()});async function L(){(0,a.z2)("firm","reviews")&&(await(0,i.XW)(document.body),await F())}async function F(){const f=await(0,i.xk)(document,u.Z.GOOD_REVIEWS_LABEL),T=(0,s.s$)(f,5);O(T);const n=(0,s.Yl)(T,"button","\u041F\u043E\u043B\u0435\u0437\u043D\u043E"),x=(0,s.s$)(n,7),k=x.classList;k.length<1||(c.reviewSelector=`.${k[0]}`,P(),(0,g.b)(x,B,!0),$(),c.reviewsObserver=new MutationObserver((0,i.sg)($)),c.reviewsObserver.observe(T,{childList:!0}))}S()}catch(C){S(C)}},1)},281:(N,v,t)=>{t.d(v,{Z:()=>y});const y={GOOD_REVIEWS_LABEL:'label[title="\u041F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435"]',REVIEW_TEXT_WRAP:"div > div > a"}},8697:(N,v,t)=>{t.d(v,{r:()=>S});const S={FILTERS_CONTAINER:{position:"sticky",top:"48px",display:"flex",flexDirection:"column",gap:"4px",padding:"12px 18px 8px 16px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:100},CONTROL:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px",fontWeight:"500",width:"100%",letterSpacing:"0.01em"},TEXT_INPUT:{...{INPUT:{padding:"7px 14px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",outline:"none"}}.INPUT,width:"100%",boxSizing:"border-box"},INFO:{margin:"4px 2px 0",fontSize:"13px",color:"#9ca3af",textAlign:"right"}}}},j={};function M(N){var v=j[N];if(v!==void 0)return v.exports;var t=j[N]={exports:{}};return G[N](t,t.exports,M),t.exports}(()=>{var N=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",v=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",y=g=>{g&&g.d<1&&(g.d=1,g.forEach(w=>w.r--),g.forEach(w=>w.r--?w.r++:w()))},S=g=>g.map(w=>{if(w!==null&&typeof w=="object"){if(w[N])return w;if(w.then){var p=[];p.d=0,w.then(u=>{s[v]=u,y(p)},u=>{s[t]=u,y(p)});var s={};return s[N]=u=>u(p),s}}var o={};return o[N]=u=>{},o[v]=w,o});M.a=(g,w,p)=>{var s;p&&((s=[]).d=-1);var o=new Set,u=g.exports,r,h,l,i=new Promise((I,e)=>{l=e,h=I});i[v]=u,i[N]=I=>(s&&I(s),o.forEach(I),i.catch(e=>{})),g.exports=i,w(I=>{r=S(I);var e,a=()=>r.map(d=>{if(d[t])throw d[t];return d[v]}),m=new Promise(d=>{e=()=>d(a),e.r=0;var C=c=>c!==s&&!o.has(c)&&(o.add(c),c&&!c.d&&(e.r++,c.push(e)));r.map(c=>c[N](C))});return e.r?m:a()},I=>(I?l(i[t]=I):h(u),y(s))),s&&s.d<0&&(s.d=0)}})(),M.d=(N,v)=>{for(var t in v)M.o(v,t)&&!M.o(N,t)&&Object.defineProperty(N,t,{enumerable:!0,get:v[t]})},M.o=(N,v)=>Object.prototype.hasOwnProperty.call(N,v);var Y=M(4615)})();})();
