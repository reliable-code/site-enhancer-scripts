// ==UserScript==
// @name         2gis reviews filter
// @description  Hide reviews by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://2gis.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.75785990
// @icon         https://www.google.com/s2/favicons?sz=64&domain=2gis.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/dgis.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var M={5467:(I,d,t)=>{t.d(d,{E2:()=>E});var v=t(9928);function E(s,l={},e=null){const n=(0,v.Sw)(l,e);return n.append(s),n}function f(s,l=null,e={},n={}){const h=createActionLink(s,l,n);return E(h,e)}function p(s,l=null,e=null,n={},h={}){const x=createActionLinkWithIcon(s,e,l,h);return E(x,n)}},9928:(I,d,t)=>{t.d(d,{Sw:()=>y,kU:()=>f});var v=t(4921),E=t(6754);function f(o,r,a){const m=l(o,"text",r);return m.value=a,m}function p(o,r,a,m,A,R){const O=l(o,"number",r);return O.value=a,O.step=m,O.min=A,O.max=R,O}function s(o,r,a){const m=l(o,"checkbox",r);return m.checked=a,m}function l(o={},r=null,a=null){const m=c("input",o);return r&&(m.type=r),a&&(m.addEventListener("keyup",(0,v.sg)(a,200)),m.addEventListener("change",(0,v.sg)(a,100))),m}function e(o={},r=null){return c("span",o,r)}function n(o={},r=null,a=null){const m=c("a",o,r);return a&&(m.href=a),m}function h(o,r=null,a={}){a.cursor||="pointer";const m=n(a,r);return o&&m.addEventListener("click",o),m}function x(o,r,a=null,m={},A={}){m.display||="inline-flex",m.alignItems||="center",m.gap||="0.25em";const R=h(o,a,m);return R.prepend(u(r,A)),R}function F(o={},r=null,a=null){const m=c("button",o,r);return a&&m.addEventListener("click",a),m}function y(o={},r=null){return c("div",o,r)}function S(o={}){return c("i",o)}function u(o,r={}){r.width||="1em",r.height||="1em",r.paddingBottom||="1px";const a=S(r);return a.setAttribute("data-lucide",o),a}function c(o,r,a=null){if(typeof r!="object"||r===null)throw new TypeError("styles should be an object");const m=document.createElement(o);return(0,E.ZM)(m,r),a&&(m.innerHTML=a),m}},573:(I,d,t)=>{t.d(d,{Fi:()=>E,Yl:()=>s,fI:()=>f,s$:()=>p});function v(u,c=document){return!!c.querySelector(u)}function E(u,c=document,o=!1){const r=c.querySelector(u);return o&&!r&&console.log(`No element found for selector: ${u}`),r}function f(u,c=document,o=!1){const r=c.querySelectorAll(u);return o&&!r.length&&console.log(`No elements found for selector: ${u}`),r}function p(u,c=1){let o=u;for(let r=0;r<c;r++){if(!o.parentElement)return null;o=o.parentElement}return o}function s(u,c,o){return[...u.querySelectorAll(c)].find(r=>r.textContent.trim().includes(o))}function l(u,c,o=!1,r=!1,a=null){const m=E(c,u);return e(m,o,r,a)}function e(u,c=!1,o=!1,r=null){if(!u)return r===null?(console.log("No element found"),null):r;const a=u.innerText;return x(a,c,o)}function n(u,c,o=!1){const r=u[c];return e(r,o)}function h(u,c=!1,o=!1){const r=u.textContent;return x(r,c,o)}function x(u,c,o){c&&(u=removeNonNumber(u)),o&&(u=u.replace(",","."));const r=Number(u);return Number.isNaN(r)?(console.log(`Invalid number: ${u}`),0):r}function F(u){return[...u.childNodes].find(c=>c.nodeType===Node.TEXT_NODE)}function y(u){const c=o=>o.nodeType===Node.TEXT_NODE&&o.textContent.trim()!==""?[o]:[...o.childNodes].flatMap(c);return c(u)}function S(u){return normalizeSpacing(u.textContent)}},8506:(I,d,t)=>{t.d(d,{hf:()=>E,kZ:()=>p});var v=t(573);function E(s,l){s.forEach(e=>f(l,e))}function f(s,l){if(!l)return;const e=new RegExp(`(${l})`,"gi"),n=document.createTreeWalker(s,NodeFilter.SHOW_TEXT,null);let h=n.nextNode();const x=[];for(;h;){const{textContent:F}=h;if(e.test(F)){const y=document.createDocumentFragment();let S=0;F.replace(e,(u,c,o)=>{o>S&&y.appendChild(document.createTextNode(F.slice(S,o)));const r=document.createElement("span");r.className="highlightedSubstring",r.style.backgroundColor="yellow",r.textContent=u,y.appendChild(r),S=o+u.length}),S<F.length&&y.appendChild(document.createTextNode(F.slice(S))),x.push({node:h,fragment:y})}h=n.nextNode()}x.forEach(({node:F,fragment:y})=>{F.parentNode.replaceChild(y,F)})}function p(s){(0,v.fI)(".highlightedSubstring",s).forEach(e=>{const{parentNode:n}=e;e.replaceWith(e.textContent),n.normalize()})}},5539:(I,d,t)=>{t.d(d,{Bt:()=>f,Bz:()=>u,GY:()=>c,L5:()=>T,pB:()=>o});var v=t(573);function E(i,b){i.parentNode.insertBefore(b,i.nextSibling)}function f(i){i.style.display="none"}function p(i,b=1){const N=document.querySelector(i);N&&s(N,b)}function s(i,b=1){const N=getElementAncestor(i,b);N&&f(N)}function l(i){S(i),f(i)}function e(i){i.intersectionObserver||runOnceOnIntersection(i,()=>f(i))}function n(i){i.style.display=""}function h(i){const b=y(i);i.style.display=b}function x(i,b){b?f(i):n(i)}function F(i,b){b?e(i):(clearIntersectionObserver(i),n(i))}function y(i){return S(i),i.defaultDisplay}function S(i){if(i.defaultDisplay)return;const{display:b}=getComputedStyle(i);i.defaultDisplay=b}function u(){return{show:[],hide:[]}}function c(i,b,N){i?b.hide.push(N):b.show.push(N)}function o(i){i.show.forEach(n),i.hide.forEach(f)}function r(i,b,N=.3){b?m(i,N):a(i)}function a(i){i.style.opacity=""}function m(i,b=.3){i.style.opacity=b}function A(i){i.style.order=""}function R(i,b){i.style.order=b}function O(i,b){i.style.background=b}function w(i,b){const N=getFirstElement(b);N&&g(i,N)}function g(i,b){const N=createLink();N.href=i,b.parentNode.append(N),N.append(b)}function C(i,b){const N=getFirstElement(b);N&&L(i,N)}function L(i,b){const N=createLink();N.href=i,N.append(...b.childNodes),b.append(N)}function B(){const i=getURLQueryParam("scrollTo");if(!i)return;const b=document.getElementById(i);b?b.scrollIntoView():console.log(`Element with ID "${i}" was not found.`)}function T(i,b,N){const V=`${N}-click-passed`;return function(U){if(U.hasAttribute(V))return;const D=(0,v.Yl)(U,i,b);D&&D.click(),U.setAttribute(V,"")}}function k(i,b,N="text/plain"){const V=new Blob([i],{type:N}),U=URL.createObjectURL(V),D=document.createElement("a");D.href=U,D.download=b,document.body.appendChild(D),D.click(),document.body.removeChild(D),requestAnimationFrame(()=>URL.revokeObjectURL(U))}},6754:(I,d,t)=>{t.d(d,{ZM:()=>v});function v(s,l){Object.assign(s.style,l)}function E(s,l="custom-global-style"){let e=document.getElementById(l);e||(e=document.createElement("style"),e.id=l,e.type="text/css",document.head.appendChild(e)),e.textContent=s}function f(s){return Object.entries(s).map(([l,e])=>`${l.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${e};`).join(" ")}function p(s){return s?s.split(";").filter(l=>l.trim()!=="").reduce((l,e)=>{const[n,h]=e.split(":").map(F=>F.trim()),x=n.replace(/-([a-z])/g,(F,y)=>y.toUpperCase());return l[x]=h,l},{}):{}}},4921:(I,d,t)=>{t.d(d,{XW:()=>f,sg:()=>p,xk:()=>v});function v(e,n,h=null){const x=e.querySelector(n);return x?Promise.resolve(x):new Promise(F=>{const y=new MutationObserver(u);y.observe(e,{childList:!0,subtree:!0});let S;h&&(S=setTimeout(()=>{y.disconnect(),console.log(`No element found for selector: ${n}`),F(null)},h));function u(){const c=e.querySelector(n);c&&(S&&clearTimeout(S),y.disconnect(),F(c))}})}function E(e,n){return e.querySelector(n)?new Promise(x=>{const F=new MutationObserver(y);F.observe(e,{childList:!0,subtree:!0});function y(){e.querySelector(n)||(F.disconnect(),x())}}):Promise.resolve()}function f(e,n=400){return new Promise(h=>{let x;const F=new MutationObserver(()=>{clearTimeout(x),y()});function y(){x=setTimeout(()=>{F.disconnect(),h()},n)}y(),F.observe(e,{childList:!0,subtree:!0})})}function p(e,n=250){let h;return(...x)=>{clearTimeout(h),h=setTimeout(()=>e(...x),n)}}function s(e,n){const h=new IntersectionObserver(x=>{x.forEach(F=>{F.isIntersecting&&(n(),l(e))})});e.intersectionObserver=h,h.observe(e)}function l(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}},3829:(I,d,t)=>{t.d(d,{Ay:()=>E});var v=t(8355);function E(e,n){return!f(e,n)}function f(e,n){if(!n.value)return!0;const h=e.toLowerCase(),x=(0,v.R)(n),F=[],y=[];return x.forEach(S=>{if(S.startsWith("!")){const u=S.substring(1);u&&y.push(u)}else F.push(S)}),F.every(S=>h.includes(S))&&y.every(S=>!h.includes(S))}function p(e,n){return n.value!=null&&e<n.value}function s(e,n){return n.value!=null&&e>n.value}function l(e,n){return n.value&&e!==n.value}},4521:(I,d,t)=>{t.d(d,{z:()=>E});var v=t(3048);function E(f,p=null){return{createGlobalFilter(s,l=null,e=f){return v.V.create(s,l,e)},createSectionFilter(s,l=null,e=f){if(!p)throw new Error("sectionId must be provided to use createSectionFilter.");return v.V.createWithCompositeKey(p,s,l,e)}}}},5884:(I,d,t)=>{t.d(d,{Nm:()=>f});var v=t(9928),E=t(5467);function f(l,e,n={},h={}){const x=(0,v.kU)(h,e.updateValueFromEvent,e.value);return(0,E.E2)(x,n,l)}function p(l,e,n,h,x,F={},y={}){const S=createNumberInput(y,e.updateValueFromEvent,e.value,n,h,x);return createControl(S,F,l)}function s(l,e,n={},h={}){const x=createCheckboxInput(h,e.updateValueFromEvent,e.value);return createControl(x,n,l)}},7877:(I,d,t)=>{t.d(d,{E9:()=>E});var v=t(5884);function E(w,g={},C={}){return(0,v.Nm)("\u041F\u043E\u0438\u0441\u043A: ",w,g,C)}function f(w,g={},C={},L=.1,B=3){return createNumberFilterControl("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,L,B,5,g,C)}function p(w,g={},C={},L=.1,B=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,L,B,5,g,C)}function s(w,g={},C={}){return e("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,g,C)}function l(w,g={},C={}){return e("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,g,C)}function e(w,g,C={},L={}){return createNumberFilterControl(w,g,"1","1","999999",C,L)}function n(w,g={},C={}){return h("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",w,g,C)}function h(w,g,C={},L={}){return createNumberFilterControl(w,g,"5","0","100",C,L)}function x(w,g={},C={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",w,"5","0","100",g,C)}function F(w,g,C={},L={},B="250"){return createNumberFilterControl(w,g,B,"0","1000000",C,L)}function y(w,g={},C={},L="25"){return F("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",w,g,C,L)}function S(w,g={},C={},L="25"){return F("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",w,g,C,L)}function u(w,g={},C={}){return c("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",w,g,C)}function c(w,g,C={},L={}){return createNumberFilterControl(w,g,"1","0","99999",C,L)}function o(w,g={},C={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",w,"1","2","7",g,C)}function r(w,g={},C={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",w,1,1,10,g,C)}function a(w,g={},C={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",w,g,C)}function m(w,g={},C={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",w,g,C)}function A(w,g={},C={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",w,g,C)}function R(w,g={},C={}){return createCheckboxFilterControl("\u0411\u0430\u043B\u043B\u044B: ",w,g,C)}function O(w,g={},C={}){return createCheckboxFilterControl("\u0412\u043A\u043B: ",w,g,C)}},8355:(I,d,t)=>{t.d(d,{R:()=>v,f:()=>E});function v(f){return f.value.toLowerCase().split(",").map(p=>p.trim()).filter(p=>p!=="")}function E(f){return v(f).filter(p=>!p.startsWith("!"))}},4292:(I,d,t)=>{t.d(d,{C:()=>f});var v=t(8355),E=t(8506);function f(s,l){const e=(0,v.f)(s);(0,E.hf)(e,l)}function p(s,l){const e=getIncludedSearchStrings(s);l.forEach(n=>highlightSubstrings(e,n))}},5213:(I,d,t)=>{t.d(d,{b:()=>f});var v=t(9928),E=t(573);function f(p,s,l=!1,e="customFiltersContainer"){let n=(0,E.Fi)(`#${e}`,p);if(n)if(l)n.remove();else return;n=(0,v.Sw)(),n.id=e,s(n,p)}},8200:(I,d,t)=>{t.d(d,{s:()=>v});function v(E){const{target:f}=E,{type:p}=f;switch(p){case"text":return`"${f.value}"`;case"number":return f.value;case"checkbox":return f.checked;default:return console.log(`Unknown input type: ${p}`),null}}},157:(I,d,t)=>{t.d(d,{Fg:()=>v,vx:()=>f});const v=window.GM_setValue,E=window.GM.setValue,f=window.GM_getValue},1870:(I,d,t)=>{t.d(d,{j:()=>v});class v{constructor(f,p){this.value=f,this.onChange=p}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(I,d,t)=>{t.d(d,{V:()=>s});var v=t(1870),E=t(8200),f=t(3976),p=t(157);class s extends v.j{constructor(e,n=null,h=null){super((0,p.vx)(e,n),h),this.storageKey=e,this.defaultValue=n}static create(e,n=null,h=null){return new s(e,n,h)}static createWithCompositeKey(e,n,h=null,x=null){const F=`${e}-${n}`;return new s(F,h,x)}updateValueFromEvent=e=>{const n=(0,E.s)(e),h=(0,f.$)(n);this.updateValue(h)};updateValue(e,n=!0){this.value!==e&&((0,p.Fg)(this.storageKey,e),this.value=e,n&&this.onChangeIfDefined())}clearValue(e=!1){this.updateValue(null,e)}resetValue(e=!1){this.updateValue(this.defaultValue,e)}}},3976:(I,d,t)=>{t.d(d,{$:()=>v});function v(E){return E===""?null:JSON.parse(E)}},5406:(I,d,t)=>{t.d(d,{k1:()=>y,z2:()=>x});function v(u,c="common",o=!1){const{pathname:r}=window.location;return E(r,u,c,o)}function E(u,c,o,r=!1){const a=u.split("/");c=c<0?a.length+c:c;const m=a[c]||o;return r&&console.log(`Pathname element: ${m}`),m}function f(u,c="common",o=!1){const r=v(u,"",o);return p(r,c,o)}function p(u,c,o){if(!u)return c;const r=u.split("-").at(-1);return o&&console.log(`Pathname element ending: ${r}`),r}function s(u,c,o="common",r=!1){const a=E(u,c,"",r);return p(a,o,r)}function l(u){return new URLSearchParams(window.location.search).get(u)}function e(u){return u.split("?")[0]}function n(u){return window.location.pathname.includes(u)}function h(u){return u.some(c=>n(c))}function x(u){return window.location.pathname.split("/").some(o=>o===u)}function F(u){try{const c=new URL(window.location.href);Object.entries(u).forEach(([o,r])=>{c.searchParams.set(o,r)}),window.location.href=c.toString()}catch(c){console.error("Failed to redirect:",c)}}function y(u,c=[]){const o={pathname:window.location.pathname};c.forEach(R=>{o[R]=l(R)});let r=!1;async function a(){if(r)return;const R={pathname:window.location.pathname};if(c.forEach(O=>{R[O]=l(O)}),Object.keys(o).some(O=>o[O]!==R[O])){Object.assign(o,R),r=!0;try{await u()}catch(O){console.error("Error in URL observer callback:",O)}finally{r=!1}}}function m(){a().catch(R=>{console.error("Error in URL change handler:",R)})}let A=window.location.href;setInterval(()=>{window.location.href!==A&&(A=window.location.href,m())},200),window.addEventListener("popstate",m)}function S(u=[]){y(()=>window.location.reload(),u)}},4615:(I,d,t)=>{t.a(I,async(v,E)=>{try{let R=function(T){const k=(0,l.Yl)(T,"p","\u041E\u0446\u0435\u043D\u0438\u0442\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043E\u0442\u0437\u044B\u0432");k&&(0,s.Bt)((0,l.s$)(k,2));const i=(0,l.Yl)(T,"h3","\u0412\u0441\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");i&&(0,s.Bt)(i.parentElement)},O=function(){if(!a.isFiltersInitialized){const{createGlobalFilter:T}=(0,x.z)(g);a.reviewTextFilter=T("review-text-filter"),a.isFiltersInitialized=!0}},w=function(T,k){(0,F.ZM)(T,h.r.FILTERS_CONTAINER);const i=(0,e.E9)(a.reviewTextFilter,h.r.CONTROL,h.r.TEXT_INPUT);a.reviewsInfo=(0,o.Sw)(h.r.INFO),T.append(i,a.reviewsInfo),k.parentNode.insertBefore(T,k)},g=function(){a.isFiltersInitialized||O();const T=(0,l.fI)(a.reviewSelector),k=(0,s.Bz)();T.forEach(i=>{const b=C(i);(0,s.GY)(b,k,i)}),(0,s.pB)(k),L(T)},C=function(T){r(T),(0,u.kZ)(T);const k=(0,l.Fi)(n.Z.REVIEW_TEXT_WRAP,T);if(!k)return!0;a.reviewTextFilter.value&&(0,S.C)(a.reviewTextFilter,k);const i=k.innerText;return(0,p.Ay)(i,a.reviewTextFilter)},L=function(T){const k=[...T].filter(i=>i.style.display!=="none").length;a.reviewsInfo.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${k} \u0438\u0437 ${T.length} \u043E\u0442\u0437\u044B\u0432\u043E\u0432`},B=function(){a.reviewSelector=null,a.isFiltersInitialized=!1,a.reviewTextFilter=null,a.reviewsInfo=null,a.reviewsObserver&&(a.reviewsObserver.disconnect(),a.reviewsObserver=null)};var f=t(5213),p=t(3829),s=t(5539),l=t(573),e=t(7877),n=t(281),h=t(8697),x=t(4521),F=t(6754),y=t(4921),S=t(4292),u=t(8506),c=t(5406),o=t(9928);const r=(0,s.L5)("span","\u0427\u0438\u0442\u0430\u0442\u044C \u0446\u0435\u043B\u0438\u043A\u043E\u043C","read-more"),a={reviewSelector:null,isFiltersInitialized:!1,reviewTextFilter:null,reviewsInfo:null,reviewsObserver:null};await m(),(0,c.k1)(async()=>{B(),await m()});async function m(){(0,c.z2)("firm")&&(0,c.z2)("reviews")&&(await(0,y.XW)(document.body),await A())}async function A(){const T=await(0,y.xk)(document,n.Z.GOOD_REVIEWS_LABEL),k=(0,l.s$)(T,5);R(k);const i=(0,l.Yl)(k,"button","\u041F\u043E\u043B\u0435\u0437\u043D\u043E"),b=(0,l.s$)(i,7),N=b.classList;N.length<1||(a.reviewSelector=`.${N[0]}`,O(),(0,f.b)(b,w,!0),g(),a.reviewsObserver=new MutationObserver((0,y.sg)(g)),a.reviewsObserver.observe(k,{childList:!0}))}E()}catch(r){E(r)}},1)},281:(I,d,t)=>{t.d(d,{Z:()=>v});const v={GOOD_REVIEWS_LABEL:'label[title="\u041F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435"]',REVIEW_TEXT_WRAP:"div > div > a"}},8697:(I,d,t)=>{t.d(d,{r:()=>E});const E={FILTERS_CONTAINER:{position:"sticky",top:"48px",display:"flex",flexDirection:"column",gap:"4px",padding:"12px 18px 8px 16px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:100},CONTROL:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px",fontWeight:"500",width:"100%",letterSpacing:"0.01em"},TEXT_INPUT:{...{INPUT:{padding:"7px 14px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",outline:"none"}}.INPUT,width:"100%",boxSizing:"border-box"},INFO:{margin:"4px 2px 0",fontSize:"13px",color:"#9ca3af",textAlign:"right"}}}},$={};function P(I){var d=$[I];if(d!==void 0)return d.exports;var t=$[I]={exports:{}};return M[I](t,t.exports,P),t.exports}(()=>{var I=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",v=f=>{f&&f.d<1&&(f.d=1,f.forEach(p=>p.r--),f.forEach(p=>p.r--?p.r++:p()))},E=f=>f.map(p=>{if(p!==null&&typeof p=="object"){if(p[I])return p;if(p.then){var s=[];s.d=0,p.then(n=>{l[d]=n,v(s)},n=>{l[t]=n,v(s)});var l={};return l[I]=n=>n(s),l}}var e={};return e[I]=n=>{},e[d]=p,e});P.a=(f,p,s)=>{var l;s&&((l=[]).d=-1);var e=new Set,n=f.exports,h,x,F,y=new Promise((S,u)=>{F=u,x=S});y[d]=n,y[I]=S=>(l&&S(l),e.forEach(S),y.catch(u=>{})),f.exports=y,p(S=>{h=E(S);var u,c=()=>h.map(r=>{if(r[t])throw r[t];return r[d]}),o=new Promise(r=>{u=()=>r(c),u.r=0;var a=m=>m!==l&&!e.has(m)&&(e.add(m),m&&!m.d&&(u.r++,m.push(u)));h.map(m=>m[I](a))});return u.r?o:c()},S=>(S?F(y[t]=S):x(n),v(l))),l&&l.d<0&&(l.d=0)}})(),P.d=(I,d)=>{for(var t in d)P.o(d,t)&&!P.o(I,t)&&Object.defineProperty(I,t,{enumerable:!0,get:d[t]})},P.o=(I,d)=>Object.prototype.hasOwnProperty.call(I,d);var W=P(4615)})();})();
