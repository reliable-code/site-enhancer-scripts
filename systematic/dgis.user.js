// ==UserScript==
// @name         2gis reviews filter
// @description  Hide reviews by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://2gis.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76927367
// @icon         https://www.google.com/s2/favicons?sz=64&domain=2gis.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/dgis.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var j={5467:(N,m,t)=>{t.d(m,{E2:()=>S});var F=t(9928);function S(d,s={},u=null){const r=(0,F.Sw)(s,u);return r.append(d),r}function v(d,s=null,u={},r={}){const n=createActionLink(d,s,r);return S(n,u)}function E(d,s=null,u=null,r={},n={}){const p=createActionLinkWithIcon(d,u,s,n);return S(p,r)}},9928:(N,m,t)=>{t.d(m,{Sw:()=>e,kU:()=>v});var F=t(4921),S=t(6754);function v(b,l,L){const C=u(b,"text",l);return C.value=L,C}function E(b,l,L,C,O,V){const P=u(b,"number",l);return P.value=L,P.step=C,P.min=O,P.max=V,P}function d(b,l,L){const C=u(b,"date",l);return C.value=L,C}function s(b,l,L){const C=u(b,"checkbox",l);return C.checked=L,C}function u(b={},l=null,L=null){const C=f("input",b);return l&&(C.type=l),L&&(C.addEventListener("keyup",(0,F.sg)(L,200)),C.addEventListener("change",(0,F.sg)(L,100))),C}function r(b,l,L){const C=f("select",b);return l&&C.addEventListener("change",l),C.value=L,C}function n(b={},l=null){return f("span",b,l)}function p(b={},l=null,L=null){const C=f("a",b,l);return L&&(C.href=L),C}function c(b,l=null,L={}){L.cursor||="pointer";const C=p(L,l);return b&&C.addEventListener("click",b),C}function i(b,l,L=null,C={},O={}){C.display||="inline-flex",C.alignItems||="center",C.gap||="0.25em";const V=c(b,L,C);return V.prepend(h(l,O)),V}function I(b={},l=null,L=null){const C=f("button",b,l);return L&&C.addEventListener("click",L),C}function e(b={},l=null){return f("div",b,l)}function a(b={},l=null){return f("i",b,l)}function h(b,l={}){l.width||="1em",l.height||="1em",l.paddingBottom||="1px";const L=a(l);return L.setAttribute("data-lucide",b),L}function f(b,l,L=null){if(typeof l!="object"||l===null)throw new TypeError("styles should be an object");const C=document.createElement(b);return(0,S.ZM)(C,l),L&&(C.innerHTML=L),C}},573:(N,m,t)=>{t.d(m,{Fi:()=>S,Yl:()=>d,fI:()=>v,s$:()=>E});function F(e,a=document){return!!a.querySelector(e)}function S(e,a=document,h=!1){const f=a.querySelector(e);return h&&!f&&console.log(`No element found for selector: ${e}`),f}function v(e,a=document,h=!1){const f=a.querySelectorAll(e);return h&&!f.length&&console.log(`No elements found for selector: ${e}`),f}function E(e,a=1){let h=e;for(let f=0;f<a;f++){if(!h.parentElement)return null;h=h.parentElement}return h}function d(e,a,h){return[...e.querySelectorAll(a)].find(f=>f.textContent.trim().includes(h))}function s(e,a,h=!1,f=!1,b=null){const l=S(a,e);return u(l,h,f,b)}function u(e,a=!1,h=!1,f=null){if(!e)return f===null?(console.log("No element found"),null):f;const b=e.innerText;return p(b,a,h)}function r(e,a,h=!1){const f=e[a];return u(f,h)}function n(e,a=!1,h=!1){const f=e.textContent;return p(f,a,h)}function p(e,a,h){a&&(e=removeNonNumber(e)),h&&(e=e.replace(",","."));const f=Number(e);return Number.isNaN(f)?(console.log(`Invalid number: ${e}`),0):f}function c(e){return[...e.childNodes].find(a=>a.nodeType===Node.TEXT_NODE)}function i(e){const a=h=>h.nodeType===Node.TEXT_NODE&&h.textContent.trim()!==""?[h]:[...h.childNodes].flatMap(a);return a(e)}function I(e){return normalizeSpacing(e.textContent)}},8506:(N,m,t)=>{t.d(m,{hf:()=>S,kZ:()=>E});var F=t(573);function S(d,s){d.forEach(u=>v(s,u))}function v(d,s){if(!s)return;const u=new RegExp(`(${s})`,"gi"),r=document.createTreeWalker(d,NodeFilter.SHOW_TEXT,null);let n=r.nextNode();const p=[];for(;n;){const{textContent:c}=n;if(u.test(c)){const i=document.createDocumentFragment();let I=0;c.replace(u,(e,a,h)=>{h>I&&i.appendChild(document.createTextNode(c.slice(I,h)));const f=document.createElement("span");f.className="highlightedSubstring",f.style.backgroundColor="yellow",f.textContent=e,i.appendChild(f),I=h+e.length}),I<c.length&&i.appendChild(document.createTextNode(c.slice(I))),p.push({node:n,fragment:i})}n=r.nextNode()}p.forEach(({node:c,fragment:i})=>{c.parentNode.replaceChild(i,c)})}function E(d){(0,F.fI)(".highlightedSubstring",d).forEach(u=>{const{parentNode:r}=u;u.replaceWith(u.textContent),r.normalize()})}},5539:(N,m,t)=>{t.d(m,{Bt:()=>v,Bz:()=>e,GY:()=>a,L5:()=>T,pB:()=>h});var F=t(573);function S(o,y){o.parentNode.insertBefore(y,o.nextSibling)}function v(o){o.style.display="none"}function E(o,y=1){const k=document.querySelector(o);k&&d(k,y)}function d(o,y=1){const k=getElementAncestor(o,y);k&&v(k)}function s(o){I(o),v(o)}function u(o){o.intersectionObserver||runOnceOnIntersection(o,()=>v(o))}function r(o){o.style.display=""}function n(o){const y=i(o);o.style.display=y}function p(o,y){y?v(o):r(o)}function c(o,y){y?u(o):(clearIntersectionObserver(o),r(o))}function i(o){return I(o),o.defaultDisplay}function I(o){if(o.defaultDisplay)return;const{display:y}=getComputedStyle(o);o.defaultDisplay=y}function e(){return{show:[],hide:[]}}function a(o,y,k){o?y.hide.push(k):y.show.push(k)}function h(o){o.show.forEach(r),o.hide.forEach(v)}function f(o,y,k=.3){y?l(o,k):b(o)}function b(o){o.style.opacity=""}function l(o,y=.3){o.style.opacity=y}function L(o){o.style.order=""}function C(o,y){o.style.order=y}function O(o,y){o.style.background=y}function V(o,y){const k=getFirstElement(y);k&&P(o,k)}function P(o,y){const k=createLink();k.href=o,y.parentNode.append(k),k.append(y)}function w(o,y){const k=getFirstElement(y);k&&g(o,k)}function g(o,y,k={}){const B=createLink(k);B.href=o,B.append(...y.childNodes),y.append(B)}function x(){const o=getURLQueryParam("scrollTo");if(!o)return;const y=document.getElementById(o);y?y.scrollIntoView():console.log(`Element with ID "${o}" was not found.`)}function T(o,y,k=null){const B=`${y}-click-passed`,R=k?A=>(0,F.Yl)(A,o,k):A=>(0,F.Fi)(o,A);return function(A){if(A.hasAttribute(B))return!1;const $=R(A);return $&&$.click(),A.setAttribute(B,""),!0}}function D(o,y,k="text/plain"){const B=new Blob([o],{type:k}),R=URL.createObjectURL(B),A=document.createElement("a");A.href=R,A.download=y,document.body.appendChild(A),A.click(),document.body.removeChild(A),requestAnimationFrame(()=>URL.revokeObjectURL(R))}},6754:(N,m,t)=>{t.d(m,{ZM:()=>F});function F(d,s){Object.assign(d.style,s)}function S(d,s="custom-global-style"){let u=document.getElementById(s);u||(u=document.createElement("style"),u.id=s,u.type="text/css",document.head.appendChild(u)),u.textContent=d}function v(d){return Object.entries(d).map(([s,u])=>`${s.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${u};`).join(" ")}function E(d){return d?d.split(";").filter(s=>s.trim()!=="").reduce((s,u)=>{const[r,n]=u.split(":").map(c=>c.trim()),p=r.replace(/-([a-z])/g,(c,i)=>i.toUpperCase());return s[p]=n,s},{}):{}}},4921:(N,m,t)=>{t.d(m,{XW:()=>v,sg:()=>E,wP:()=>r,xk:()=>F});function F(n,p,c=null){const i=n.querySelector(p);return i?Promise.resolve(i):new Promise(I=>{const e=new MutationObserver(h);e.observe(n,{childList:!0,subtree:!0});let a;c&&(a=setTimeout(()=>{e.disconnect(),console.log(`No element found for selector: ${p}`),I(null)},c));function h(){const f=n.querySelector(p);f&&(a&&clearTimeout(a),e.disconnect(),I(f))}})}function S(n,p){return n.querySelector(p)?new Promise(i=>{const I=new MutationObserver(e);I.observe(n,{childList:!0,subtree:!0});function e(){n.querySelector(p)||(I.disconnect(),i())}}):Promise.resolve()}function v(n,p=400){return new Promise(c=>{let i;const I=new MutationObserver(()=>{clearTimeout(i),e()});function e(){i=setTimeout(()=>{I.disconnect(),c()},p)}e(),I.observe(n,{childList:!0,subtree:!0})})}function E(n,p=250){let c;return(...i)=>{clearTimeout(c),c=setTimeout(()=>n(...i),p)}}async function d(n){document.visibilityState==="visible"?await n():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await n()},{once:!0})}function s(n,p){const c=new IntersectionObserver(i=>{i.forEach(I=>{I.isIntersecting&&(p(),u(n))})});n.intersectionObserver=c,c.observe(n)}function u(n){n.intersectionObserver&&(n.intersectionObserver.disconnect(),n.intersectionObserver=null)}function r(n){n&&(n.disconnect(),n=null)}},3829:(N,m,t)=>{t.d(m,{Ay:()=>S});var F=t(8355);function S(c,i){return!v(c,i)}function v(c,i){if(!i||!i.value)return!0;const I=(0,F._7)(i.value);return E(c,I)}function E(c,i){if(!i||!i.length)return!0;const I=(c||"").toLowerCase();return i.every(e=>d(I,e))}function d(c,i){return i.some(({term:I,isNegative:e})=>{const a=c.includes(I);return e?!a:a})}function s(c,i){return i.value!=null&&c<i.value}function u(c,i){return i.value!=null&&c>i.value}function r(c,i){return i.value==null?!1:c<parseDateFromISO(i.value)}function n(c,i){return i.value==null?!1:c>parseDateFromISO(i.value)}function p(c,i){return i.value&&c!==i.value}},4521:(N,m,t)=>{t.d(m,{z:()=>S});var F=t(3048);function S(v,E=null){return{createGlobalFilter(d,s=null,u=v){return F.V.create(d,s,u)},createSectionFilter(d,s=null,u=v){if(!E)throw new Error("sectionId must be provided to use createSectionFilter.");return F.V.createWithCompositeKey(E,d,s,u)}}}},5884:(N,m,t)=>{t.d(m,{Nm:()=>v});var F=t(9928),S=t(5467);function v(r,n,p={},c={}){const i=(0,F.kU)(c,n.updateValueFromEvent,n.value);return(0,S.E2)(i,p,r)}function E(r,n,p,c,i,I={},e={}){const a=createNumberInput(e,n.updateValueFromEvent,n.value,p,c,i);return createControl(a,I,r)}function d(r,n,p={},c={}){const i=createSelect(c,n.updateValueFromEvent,n.value);return createControl(i,p,r)}function s(r,n,p={},c={}){const i=createDateInput(c,n.updateValueFromEvent,n.value);return createControl(i,p,r)}function u(r,n,p={},c={}){const i=createCheckboxInput(c,n.updateValueFromEvent,n.value);return createControl(i,p,r)}},7877:(N,m,t)=>{t.d(m,{E9:()=>S});var F=t(5884);function S(w,g={},x={}){return(0,F.Nm)("\u041F\u043E\u0438\u0441\u043A: ",w,g,x)}function v(w,g={},x={},T=.1,D=3){return createNumberFilterControl("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,T,D,5,g,x)}function E(w,g={},x={},T=.1,D=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,T,D,5,g,x)}function d(w,g={},x={}){return u("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,g,x)}function s(w,g={},x={}){return u("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,g,x)}function u(w,g,x={},T={}){return createNumberFilterControl(w,g,"1","1","999999",x,T)}function r(w,g={},x={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",w,g,x)}function n(w,g={},x={}){return p("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",w,g,x)}function p(w,g,x={},T={}){return createNumberFilterControl(w,g,"5","0","100",x,T)}function c(w,g={},x={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",w,"5","0","100",g,x)}function i(w,g,x={},T={},D="250"){return createNumberFilterControl(w,g,D,"0","1000000",x,T)}function I(w,g={},x={},T="25"){return i("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",w,g,x,T)}function e(w,g={},x={},T="25"){return i("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",w,g,x,T)}function a(w,g={},x={}){return h("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",w,g,x)}function h(w,g,x={},T={}){return createNumberFilterControl(w,g,"1","0","99999",x,T)}function f(w,g={},x={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",w,"1","2","8",g,x)}function b(w,g={},x={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",w,1,1,10,g,x)}function l(w,g={},x={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",w,g,x)}function L(w,g={},x={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",w,g,x)}function C(w,g={},x={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",w,g,x)}function O(w,g={},x={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",w,g,x)}function V(w,g={},x={}){return createCheckboxFilterControl("\u0412\u043A\u043B: ",w,g,x)}function P(w,g,x={}){const T=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],D={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},o=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),y=[],k=()=>g?parseFloat(g.value)||0:w.value,B=()=>{const R=k();y.forEach(({button:A,value:$})=>{const z=$<=R?D.active:D.inactive;Object.assign(A.style,z)})};return T.forEach(({value:R,emoji:A,tooltip:$})=>{const M=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...x},A);M.title=$,M.type="button",M.addEventListener("click",z=>{z.preventDefault(),w.updateValue(R),g&&(g.value=R),B()}),M.addEventListener("mouseenter",()=>{R<=k()||(M.style.background=D.hover.background)}),M.addEventListener("mouseleave",()=>{B()}),y.push({button:M,value:R}),o.appendChild(M)}),B(),g&&(g.addEventListener("input",B),g.addEventListener("change",B)),o}},8355:(N,m,t)=>{t.d(m,{_7:()=>S,fO:()=>F,oM:()=>d});function F(r){if(!r)return[];const p=S(r).flat().filter(c=>c&&!c.isNegative&&c.term).map(c=>c.term);return[...new Set(p)]}function S(r){return r?r.toLowerCase().split(",").map(v).filter(Boolean):[]}function v(r){const n=r.split("/").map(c=>c.trim()).filter(Boolean);if(n.length===0)return null;const p=n.map(E).filter(Boolean);return p.length>0?p:null}function E(r){const n=r.startsWith("!"),p=n?r.slice(1).trim():r;return p?{term:p,isNegative:n}:null}function d(r,n){u(r,p=>p.style.display!=="none",n)}function s(r,n){u(r,p=>p.style.opacity==="",n)}function u(r,n,p){const c=[...r].filter(n).length;p.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${c} \u0438\u0437 ${r.length}`}},4292:(N,m,t)=>{t.d(m,{C:()=>v});var F=t(8355),S=t(8506);function v(d,s){const u=(0,F.fO)(d.value);(0,S.hf)(u,s)}function E(d,s){const u=getIncludedSearchStrings(d.value);s.forEach(r=>highlightSubstrings(u,r))}},5213:(N,m,t)=>{t.d(m,{b:()=>v});var F=t(9928),S=t(573);function v(E,d,s=!1,u="customFiltersContainer"){let r=(0,S.Fi)(`#${u}`,E);if(r)if(s)r.remove();else return;r=(0,F.Sw)(),r.id=u,d(r,E)}},8200:(N,m,t)=>{t.d(m,{s:()=>F});function F(S){const{target:v}=S,{type:E}=v;switch(E){case"text":return`"${v.value}"`;case"number":return v.value;case"select-one":return v.value;case"date":return`"${v.value}"`;case"checkbox":return v.checked;default:return console.log(`Unknown input type: ${E}`),null}}},157:(N,m,t)=>{t.d(m,{Fg:()=>F,vx:()=>v});const F=window.GM_setValue,S=window.GM.setValue,v=window.GM_getValue},1870:(N,m,t)=>{t.d(m,{j:()=>F});class F{constructor(v,E){this.value=v,this.onChange=E}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(N,m,t)=>{t.d(m,{V:()=>d});var F=t(1870),S=t(8200),v=t(3976),E=t(157);class d extends F.j{constructor(u,r=null,n=null){super((0,E.vx)(u,r),n),this.storageKey=u,this.defaultValue=r}static create(u,r=null,n=null){return new d(u,r,n)}static createWithCompositeKey(u,r,n=null,p=null){const c=`${u}-${r}`;return new d(c,n,p)}updateValueFromEvent=u=>{const r=(0,S.s)(u),n=(0,v.$)(r);this.updateValue(n)};updateValue(u,r=!0){this.value!==u&&((0,E.Fg)(this.storageKey,u),this.value=u,r&&this.onChangeIfDefined())}clearValue(u=!1){this.updateValue(null,u)}resetValue(u=!1){this.updateValue(this.defaultValue,u)}}},3976:(N,m,t)=>{t.d(m,{$:()=>F});function F(S){return S===""?null:JSON.parse(S)}},5406:(N,m,t)=>{t.d(m,{k1:()=>i,z2:()=>p});function F(e,a="common",h=!1){const{pathname:f}=window.location;return S(f,e,a,h)}function S(e,a,h,f=!1){const b=e.split("/");a=a<0?b.length+a:a;const l=b[a]||h;return f&&console.log(`Pathname element: ${l}`),l}function v(e,a="common",h=!1){const f=F(e,"",h);return E(f,a,h)}function E(e,a,h){if(!e)return a;const f=e.split("-").at(-1);return h&&console.log(`Pathname element ending: ${f}`),f}function d(e,a,h="common",f=!1){const b=S(e,a,"",f);return E(b,h,f)}function s(e){return new URLSearchParams(window.location.search).get(e)}function u(e){return e.split("?")[0]}function r(e){return window.location.pathname.includes(e)}function n(e){return e.some(a=>r(a))}function p(...e){return window.location.pathname.split("/").some(h=>e.includes(h))}function c(e){try{const a=new URL(window.location.href);Object.entries(e).forEach(([h,f])=>{a.searchParams.set(h,f)}),window.location.href=a.toString()}catch(a){console.error("Failed to redirect:",a)}}function i(e,a=[]){const h={pathname:window.location.pathname};a.forEach(C=>{h[C]=s(C)});let f=!1;async function b(){if(f)return;const C={pathname:window.location.pathname};if(a.forEach(O=>{C[O]=s(O)}),Object.keys(h).some(O=>h[O]!==C[O])){Object.assign(h,C),f=!0;try{await e()}catch(O){console.error("Error in URL observer callback:",O)}finally{f=!1}}}function l(){b().catch(C=>{console.error("Error in URL change handler:",C)})}let L=window.location.href;setInterval(()=>{window.location.href!==L&&(L=window.location.href,l())},200),window.addEventListener("popstate",l)}function I(e=[]){i(()=>window.location.reload(),e)}},4615:(N,m,t)=>{t.a(N,async(F,S)=>{try{let O=function(T){const D=(0,s.Yl)(T,"p","\u041E\u0446\u0435\u043D\u0438\u0442\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043E\u0442\u0437\u044B\u0432");D&&(0,d.Bt)((0,s.s$)(D,2));const o=(0,s.Yl)(T,"h3","\u0412\u0441\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");o&&(0,d.Bt)(o.parentElement)},V=function(){if(!l.isFiltersInitialized){const{createGlobalFilter:T}=(0,p.z)(w);l.reviewTextFilter=T("review-text-filter"),l.isFiltersInitialized=!0}},P=function(T,D){(0,c.ZM)(T,n.r.FILTERS_CONTAINER);const o=(0,u.E9)(l.reviewTextFilter,n.r.CONTROL,n.r.TEXT_INPUT);l.reviewsInfo=(0,h.Sw)(n.r.INFO),T.append(o,l.reviewsInfo),D.parentNode.insertBefore(T,D)},w=function(){l.isFiltersInitialized||V();const T=(0,s.fI)(l.reviewSelector),D=(0,d.Bz)();T.forEach(o=>{const y=g(o);(0,d.GY)(y,D,o)}),(0,d.pB)(D),(0,f.oM)(T,l.reviewsInfo)},g=function(T){b(T),(0,e.kZ)(T);const D=(0,s.Fi)(r.Z.REVIEW_TEXT_WRAP,T);if(!D)return!0;l.reviewTextFilter.value&&(0,I.C)(l.reviewTextFilter,D);const o=D.innerText;return(0,E.Ay)(o,l.reviewTextFilter)},x=function(){l.reviewSelector=null,l.isFiltersInitialized=!1,l.reviewTextFilter=null,l.reviewsInfo=null,(0,i.wP)(l.reviewsObserver)};var v=t(5213),E=t(3829),d=t(5539),s=t(573),u=t(7877),r=t(281),n=t(8697),p=t(4521),c=t(6754),i=t(4921),I=t(4292),e=t(8506),a=t(5406),h=t(9928),f=t(8355);const b=(0,d.L5)("span","read-more","\u0427\u0438\u0442\u0430\u0442\u044C \u0446\u0435\u043B\u0438\u043A\u043E\u043C"),l={reviewSelector:null,isFiltersInitialized:!1,reviewTextFilter:null,reviewsInfo:null,reviewsObserver:null};await L(),(0,a.k1)(async()=>{x(),await L()});async function L(){(0,a.z2)("firm","reviews")&&(await(0,i.XW)(document.body),await C())}async function C(){const T=await(0,i.xk)(document,r.Z.GOOD_REVIEWS_LABEL),D=(0,s.s$)(T,5);O(D);const o=(0,s.Yl)(D,"button","\u041F\u043E\u043B\u0435\u0437\u043D\u043E"),y=(0,s.s$)(o,7),k=y.classList;k.length<1||(l.reviewSelector=`.${k[0]}`,V(),(0,v.b)(y,P,!0),w(),l.reviewsObserver=new MutationObserver((0,i.sg)(w)),l.reviewsObserver.observe(D,{childList:!0}))}S()}catch(b){S(b)}},1)},281:(N,m,t)=>{t.d(m,{Z:()=>F});const F={GOOD_REVIEWS_LABEL:'label[title="\u041F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435"]',REVIEW_TEXT_WRAP:"div > div > a"}},8697:(N,m,t)=>{t.d(m,{r:()=>S});const S={FILTERS_CONTAINER:{position:"sticky",top:"48px",display:"flex",flexDirection:"column",gap:"4px",padding:"12px 18px 8px 16px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:100},CONTROL:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px",fontWeight:"500",width:"100%",letterSpacing:"0.01em"},TEXT_INPUT:{...{INPUT:{padding:"7px 14px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",outline:"none"}}.INPUT,width:"100%",boxSizing:"border-box"},INFO:{margin:"4px 2px 0",fontSize:"13px",color:"#9ca3af",textAlign:"right"}}}},W={};function U(N){var m=W[N];if(m!==void 0)return m.exports;var t=W[N]={exports:{}};return j[N](t,t.exports,U),t.exports}(()=>{var N=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",m=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",F=v=>{v&&v.d<1&&(v.d=1,v.forEach(E=>E.r--),v.forEach(E=>E.r--?E.r++:E()))},S=v=>v.map(E=>{if(E!==null&&typeof E=="object"){if(E[N])return E;if(E.then){var d=[];d.d=0,E.then(r=>{s[m]=r,F(d)},r=>{s[t]=r,F(d)});var s={};return s[N]=r=>r(d),s}}var u={};return u[N]=r=>{},u[m]=E,u});U.a=(v,E,d)=>{var s;d&&((s=[]).d=-1);var u=new Set,r=v.exports,n,p,c,i=new Promise((I,e)=>{c=e,p=I});i[m]=r,i[N]=I=>(s&&I(s),u.forEach(I),i.catch(e=>{})),v.exports=i,E(I=>{n=S(I);var e,a=()=>n.map(f=>{if(f[t])throw f[t];return f[m]}),h=new Promise(f=>{e=()=>f(a),e.r=0;var b=l=>l!==s&&!u.has(l)&&(u.add(l),l&&!l.d&&(e.r++,l.push(e)));n.map(l=>l[N](b))});return e.r?h:a()},I=>(I?c(i[t]=I):p(r),F(s))),s&&s.d<0&&(s.d=0)}})(),U.d=(N,m)=>{for(var t in m)U.o(m,t)&&!U.o(N,t)&&Object.defineProperty(N,t,{enumerable:!0,get:m[t]})},U.o=(N,m)=>Object.prototype.hasOwnProperty.call(N,m);var G=U(4615)})();})();
