// ==UserScript==
// @name         2gis reviews filter
// @description  Hide reviews by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://2gis.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.75918878
// @icon         https://www.google.com/s2/favicons?sz=64&domain=2gis.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/dgis.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var W={5467:(N,d,t)=>{t.d(d,{E2:()=>E});var v=t(9928);function E(f,l={},e=null){const i=(0,v.Sw)(l,e);return i.append(f),i}function h(f,l=null,e={},i={}){const a=createActionLink(f,l,i);return E(a,e)}function p(f,l=null,e=null,i={},a={}){const F=createActionLinkWithIcon(f,e,l,a);return E(F,i)}},9928:(N,d,t)=>{t.d(d,{Sw:()=>C,kU:()=>h});var v=t(4921),E=t(6754);function h(u,r,s){const m=l(u,"text",r);return m.value=s,m}function p(u,r,s,m,B,A){const R=l(u,"number",r);return R.value=s,R.step=m,R.min=B,R.max=A,R}function f(u,r,s){const m=l(u,"checkbox",r);return m.checked=s,m}function l(u={},r=null,s=null){const m=c("input",u);return r&&(m.type=r),s&&(m.addEventListener("keyup",(0,v.sg)(s,200)),m.addEventListener("change",(0,v.sg)(s,100))),m}function e(u={},r=null){return c("span",u,r)}function i(u={},r=null,s=null){const m=c("a",u,r);return s&&(m.href=s),m}function a(u,r=null,s={}){s.cursor||="pointer";const m=i(s,r);return u&&m.addEventListener("click",u),m}function F(u,r,s=null,m={},B={}){m.display||="inline-flex",m.alignItems||="center",m.gap||="0.25em";const A=a(u,s,m);return A.prepend(n(r,B)),A}function S(u={},r=null,s=null){const m=c("button",u,r);return s&&m.addEventListener("click",s),m}function C(u={},r=null){return c("div",u,r)}function b(u={}){return c("i",u)}function n(u,r={}){r.width||="1em",r.height||="1em",r.paddingBottom||="1px";const s=b(r);return s.setAttribute("data-lucide",u),s}function c(u,r,s=null){if(typeof r!="object"||r===null)throw new TypeError("styles should be an object");const m=document.createElement(u);return(0,E.ZM)(m,r),s&&(m.innerHTML=s),m}},573:(N,d,t)=>{t.d(d,{Fi:()=>E,Yl:()=>f,fI:()=>h,s$:()=>p});function v(n,c=document){return!!c.querySelector(n)}function E(n,c=document,u=!1){const r=c.querySelector(n);return u&&!r&&console.log(`No element found for selector: ${n}`),r}function h(n,c=document,u=!1){const r=c.querySelectorAll(n);return u&&!r.length&&console.log(`No elements found for selector: ${n}`),r}function p(n,c=1){let u=n;for(let r=0;r<c;r++){if(!u.parentElement)return null;u=u.parentElement}return u}function f(n,c,u){return[...n.querySelectorAll(c)].find(r=>r.textContent.trim().includes(u))}function l(n,c,u=!1,r=!1,s=null){const m=E(c,n);return e(m,u,r,s)}function e(n,c=!1,u=!1,r=null){if(!n)return r===null?(console.log("No element found"),null):r;const s=n.innerText;return F(s,c,u)}function i(n,c,u=!1){const r=n[c];return e(r,u)}function a(n,c=!1,u=!1){const r=n.textContent;return F(r,c,u)}function F(n,c,u){c&&(n=removeNonNumber(n)),u&&(n=n.replace(",","."));const r=Number(n);return Number.isNaN(r)?(console.log(`Invalid number: ${n}`),0):r}function S(n){return[...n.childNodes].find(c=>c.nodeType===Node.TEXT_NODE)}function C(n){const c=u=>u.nodeType===Node.TEXT_NODE&&u.textContent.trim()!==""?[u]:[...u.childNodes].flatMap(c);return c(n)}function b(n){return normalizeSpacing(n.textContent)}},8506:(N,d,t)=>{t.d(d,{hf:()=>E,kZ:()=>p});var v=t(573);function E(f,l){f.forEach(e=>h(l,e))}function h(f,l){if(!l)return;const e=new RegExp(`(${l})`,"gi"),i=document.createTreeWalker(f,NodeFilter.SHOW_TEXT,null);let a=i.nextNode();const F=[];for(;a;){const{textContent:S}=a;if(e.test(S)){const C=document.createDocumentFragment();let b=0;S.replace(e,(n,c,u)=>{u>b&&C.appendChild(document.createTextNode(S.slice(b,u)));const r=document.createElement("span");r.className="highlightedSubstring",r.style.backgroundColor="yellow",r.textContent=n,C.appendChild(r),b=u+n.length}),b<S.length&&C.appendChild(document.createTextNode(S.slice(b))),F.push({node:a,fragment:C})}a=i.nextNode()}F.forEach(({node:S,fragment:C})=>{S.parentNode.replaceChild(C,S)})}function p(f){(0,v.fI)(".highlightedSubstring",f).forEach(e=>{const{parentNode:i}=e;e.replaceWith(e.textContent),i.normalize()})}},5539:(N,d,t)=>{t.d(d,{Bt:()=>h,Bz:()=>n,GY:()=>c,L5:()=>T,pB:()=>u});var v=t(573);function E(o,w){o.parentNode.insertBefore(w,o.nextSibling)}function h(o){o.style.display="none"}function p(o,w=1){const I=document.querySelector(o);I&&f(I,w)}function f(o,w=1){const I=getElementAncestor(o,w);I&&h(I)}function l(o){b(o),h(o)}function e(o){o.intersectionObserver||runOnceOnIntersection(o,()=>h(o))}function i(o){o.style.display=""}function a(o){const w=C(o);o.style.display=w}function F(o,w){w?h(o):i(o)}function S(o,w){w?e(o):(clearIntersectionObserver(o),i(o))}function C(o){return b(o),o.defaultDisplay}function b(o){if(o.defaultDisplay)return;const{display:w}=getComputedStyle(o);o.defaultDisplay=w}function n(){return{show:[],hide:[]}}function c(o,w,I){o?w.hide.push(I):w.show.push(I)}function u(o){o.show.forEach(i),o.hide.forEach(h)}function r(o,w,I=.3){w?m(o,I):s(o)}function s(o){o.style.opacity=""}function m(o,w=.3){o.style.opacity=w}function B(o){o.style.order=""}function A(o,w){o.style.order=w}function R(o,w){o.style.background=w}function y(o,w){const I=getFirstElement(w);I&&g(o,I)}function g(o,w){const I=createLink();I.href=o,w.parentNode.append(I),I.append(w)}function x(o,w){const I=getFirstElement(w);I&&L(o,I)}function L(o,w){const I=createLink();I.href=o,I.append(...w.childNodes),w.append(I)}function D(){const o=getURLQueryParam("scrollTo");if(!o)return;const w=document.getElementById(o);w?w.scrollIntoView():console.log(`Element with ID "${o}" was not found.`)}function T(o,w,I=null){const V=`${w}-click-passed`,U=I?O=>(0,v.Yl)(O,o,I):O=>(0,v.Fi)(o,O);return function(O){if(O.hasAttribute(V))return!1;const M=U(O);return M&&M.click(),O.setAttribute(V,""),!0}}function k(o,w,I="text/plain"){const V=new Blob([o],{type:I}),U=URL.createObjectURL(V),O=document.createElement("a");O.href=U,O.download=w,document.body.appendChild(O),O.click(),document.body.removeChild(O),requestAnimationFrame(()=>URL.revokeObjectURL(U))}},6754:(N,d,t)=>{t.d(d,{ZM:()=>v});function v(f,l){Object.assign(f.style,l)}function E(f,l="custom-global-style"){let e=document.getElementById(l);e||(e=document.createElement("style"),e.id=l,e.type="text/css",document.head.appendChild(e)),e.textContent=f}function h(f){return Object.entries(f).map(([l,e])=>`${l.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${e};`).join(" ")}function p(f){return f?f.split(";").filter(l=>l.trim()!=="").reduce((l,e)=>{const[i,a]=e.split(":").map(S=>S.trim()),F=i.replace(/-([a-z])/g,(S,C)=>C.toUpperCase());return l[F]=a,l},{}):{}}},4921:(N,d,t)=>{t.d(d,{XW:()=>h,sg:()=>p,wP:()=>i,xk:()=>v});function v(a,F,S=null){const C=a.querySelector(F);return C?Promise.resolve(C):new Promise(b=>{const n=new MutationObserver(u);n.observe(a,{childList:!0,subtree:!0});let c;S&&(c=setTimeout(()=>{n.disconnect(),console.log(`No element found for selector: ${F}`),b(null)},S));function u(){const r=a.querySelector(F);r&&(c&&clearTimeout(c),n.disconnect(),b(r))}})}function E(a,F){return a.querySelector(F)?new Promise(C=>{const b=new MutationObserver(n);b.observe(a,{childList:!0,subtree:!0});function n(){a.querySelector(F)||(b.disconnect(),C())}}):Promise.resolve()}function h(a,F=400){return new Promise(S=>{let C;const b=new MutationObserver(()=>{clearTimeout(C),n()});function n(){C=setTimeout(()=>{b.disconnect(),S()},F)}n(),b.observe(a,{childList:!0,subtree:!0})})}function p(a,F=250){let S;return(...C)=>{clearTimeout(S),S=setTimeout(()=>a(...C),F)}}async function f(a){document.visibilityState==="visible"?await a():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await a()},{once:!0})}function l(a,F){const S=new IntersectionObserver(C=>{C.forEach(b=>{b.isIntersecting&&(F(),e(a))})});a.intersectionObserver=S,S.observe(a)}function e(a){a.intersectionObserver&&(a.intersectionObserver.disconnect(),a.intersectionObserver=null)}function i(a){a&&(a.disconnect(),a=null)}},3829:(N,d,t)=>{t.d(d,{Ay:()=>E});var v=t(8355);function E(e,i){return!h(e,i)}function h(e,i){if(!i.value)return!0;const a=e.toLowerCase(),F=(0,v.R)(i),S=[],C=[];return F.forEach(b=>{if(b.startsWith("!")){const n=b.substring(1);n&&C.push(n)}else S.push(b)}),S.every(b=>a.includes(b))&&C.every(b=>!a.includes(b))}function p(e,i){return i.value!=null&&e<i.value}function f(e,i){return i.value!=null&&e>i.value}function l(e,i){return i.value&&e!==i.value}},4521:(N,d,t)=>{t.d(d,{z:()=>E});var v=t(3048);function E(h,p=null){return{createGlobalFilter(f,l=null,e=h){return v.V.create(f,l,e)},createSectionFilter(f,l=null,e=h){if(!p)throw new Error("sectionId must be provided to use createSectionFilter.");return v.V.createWithCompositeKey(p,f,l,e)}}}},5884:(N,d,t)=>{t.d(d,{Nm:()=>h});var v=t(9928),E=t(5467);function h(l,e,i={},a={}){const F=(0,v.kU)(a,e.updateValueFromEvent,e.value);return(0,E.E2)(F,i,l)}function p(l,e,i,a,F,S={},C={}){const b=createNumberInput(C,e.updateValueFromEvent,e.value,i,a,F);return createControl(b,S,l)}function f(l,e,i={},a={}){const F=createCheckboxInput(a,e.updateValueFromEvent,e.value);return createControl(F,i,l)}},7877:(N,d,t)=>{t.d(d,{E9:()=>E});var v=t(5884);function E(y,g={},x={}){return(0,v.Nm)("\u041F\u043E\u0438\u0441\u043A: ",y,g,x)}function h(y,g={},x={},L=.1,D=3){return createNumberFilterControl("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",y,L,D,5,g,x)}function p(y,g={},x={},L=.1,D=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",y,L,D,5,g,x)}function f(y,g={},x={}){return e("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",y,g,x)}function l(y,g={},x={}){return e("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",y,g,x)}function e(y,g,x={},L={}){return createNumberFilterControl(y,g,"1","1","999999",x,L)}function i(y,g={},x={}){return a("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",y,g,x)}function a(y,g,x={},L={}){return createNumberFilterControl(y,g,"5","0","100",x,L)}function F(y,g={},x={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",y,"5","0","100",g,x)}function S(y,g,x={},L={},D="250"){return createNumberFilterControl(y,g,D,"0","1000000",x,L)}function C(y,g={},x={},L="25"){return S("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",y,g,x,L)}function b(y,g={},x={},L="25"){return S("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",y,g,x,L)}function n(y,g={},x={}){return c("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",y,g,x)}function c(y,g,x={},L={}){return createNumberFilterControl(y,g,"1","0","99999",x,L)}function u(y,g={},x={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",y,"1","2","7",g,x)}function r(y,g={},x={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",y,1,1,10,g,x)}function s(y,g={},x={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",y,g,x)}function m(y,g={},x={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",y,g,x)}function B(y,g={},x={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",y,g,x)}function A(y,g={},x={}){return createCheckboxFilterControl("\u0411\u0430\u043B\u043B\u044B: ",y,g,x)}function R(y,g={},x={}){return createCheckboxFilterControl("\u0412\u043A\u043B: ",y,g,x)}},8355:(N,d,t)=>{t.d(d,{R:()=>v,f:()=>E});function v(h){return h.value.toLowerCase().split(",").map(p=>p.trim()).filter(p=>p!=="")}function E(h){return v(h).filter(p=>!p.startsWith("!"))}},4292:(N,d,t)=>{t.d(d,{C:()=>h});var v=t(8355),E=t(8506);function h(f,l){const e=(0,v.f)(f);(0,E.hf)(e,l)}function p(f,l){const e=getIncludedSearchStrings(f);l.forEach(i=>highlightSubstrings(e,i))}},5213:(N,d,t)=>{t.d(d,{b:()=>h});var v=t(9928),E=t(573);function h(p,f,l=!1,e="customFiltersContainer"){let i=(0,E.Fi)(`#${e}`,p);if(i)if(l)i.remove();else return;i=(0,v.Sw)(),i.id=e,f(i,p)}},8200:(N,d,t)=>{t.d(d,{s:()=>v});function v(E){const{target:h}=E,{type:p}=h;switch(p){case"text":return`"${h.value}"`;case"number":return h.value;case"checkbox":return h.checked;default:return console.log(`Unknown input type: ${p}`),null}}},157:(N,d,t)=>{t.d(d,{Fg:()=>v,vx:()=>h});const v=window.GM_setValue,E=window.GM.setValue,h=window.GM_getValue},1870:(N,d,t)=>{t.d(d,{j:()=>v});class v{constructor(h,p){this.value=h,this.onChange=p}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(N,d,t)=>{t.d(d,{V:()=>f});var v=t(1870),E=t(8200),h=t(3976),p=t(157);class f extends v.j{constructor(e,i=null,a=null){super((0,p.vx)(e,i),a),this.storageKey=e,this.defaultValue=i}static create(e,i=null,a=null){return new f(e,i,a)}static createWithCompositeKey(e,i,a=null,F=null){const S=`${e}-${i}`;return new f(S,a,F)}updateValueFromEvent=e=>{const i=(0,E.s)(e),a=(0,h.$)(i);this.updateValue(a)};updateValue(e,i=!0){this.value!==e&&((0,p.Fg)(this.storageKey,e),this.value=e,i&&this.onChangeIfDefined())}clearValue(e=!1){this.updateValue(null,e)}resetValue(e=!1){this.updateValue(this.defaultValue,e)}}},3976:(N,d,t)=>{t.d(d,{$:()=>v});function v(E){return E===""?null:JSON.parse(E)}},5406:(N,d,t)=>{t.d(d,{k1:()=>C,z2:()=>F});function v(n,c="common",u=!1){const{pathname:r}=window.location;return E(r,n,c,u)}function E(n,c,u,r=!1){const s=n.split("/");c=c<0?s.length+c:c;const m=s[c]||u;return r&&console.log(`Pathname element: ${m}`),m}function h(n,c="common",u=!1){const r=v(n,"",u);return p(r,c,u)}function p(n,c,u){if(!n)return c;const r=n.split("-").at(-1);return u&&console.log(`Pathname element ending: ${r}`),r}function f(n,c,u="common",r=!1){const s=E(n,c,"",r);return p(s,u,r)}function l(n){return new URLSearchParams(window.location.search).get(n)}function e(n){return n.split("?")[0]}function i(n){return window.location.pathname.includes(n)}function a(n){return n.some(c=>i(c))}function F(n){return window.location.pathname.split("/").some(u=>u===n)}function S(n){try{const c=new URL(window.location.href);Object.entries(n).forEach(([u,r])=>{c.searchParams.set(u,r)}),window.location.href=c.toString()}catch(c){console.error("Failed to redirect:",c)}}function C(n,c=[]){const u={pathname:window.location.pathname};c.forEach(A=>{u[A]=l(A)});let r=!1;async function s(){if(r)return;const A={pathname:window.location.pathname};if(c.forEach(R=>{A[R]=l(R)}),Object.keys(u).some(R=>u[R]!==A[R])){Object.assign(u,A),r=!0;try{await n()}catch(R){console.error("Error in URL observer callback:",R)}finally{r=!1}}}function m(){s().catch(A=>{console.error("Error in URL change handler:",A)})}let B=window.location.href;setInterval(()=>{window.location.href!==B&&(B=window.location.href,m())},200),window.addEventListener("popstate",m)}function b(n=[]){C(()=>window.location.reload(),n)}},4615:(N,d,t)=>{t.a(N,async(v,E)=>{try{let A=function(T){const k=(0,l.Yl)(T,"p","\u041E\u0446\u0435\u043D\u0438\u0442\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043E\u0442\u0437\u044B\u0432");k&&(0,f.Bt)((0,l.s$)(k,2));const o=(0,l.Yl)(T,"h3","\u0412\u0441\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");o&&(0,f.Bt)(o.parentElement)},R=function(){if(!s.isFiltersInitialized){const{createGlobalFilter:T}=(0,F.z)(g);s.reviewTextFilter=T("review-text-filter"),s.isFiltersInitialized=!0}},y=function(T,k){(0,S.ZM)(T,a.r.FILTERS_CONTAINER);const o=(0,e.E9)(s.reviewTextFilter,a.r.CONTROL,a.r.TEXT_INPUT);s.reviewsInfo=(0,u.Sw)(a.r.INFO),T.append(o,s.reviewsInfo),k.parentNode.insertBefore(T,k)},g=function(){s.isFiltersInitialized||R();const T=(0,l.fI)(s.reviewSelector),k=(0,f.Bz)();T.forEach(o=>{const w=x(o);(0,f.GY)(w,k,o)}),(0,f.pB)(k),L(T)},x=function(T){r(T),(0,n.kZ)(T);const k=(0,l.Fi)(i.Z.REVIEW_TEXT_WRAP,T);if(!k)return!0;s.reviewTextFilter.value&&(0,b.C)(s.reviewTextFilter,k);const o=k.innerText;return(0,p.Ay)(o,s.reviewTextFilter)},L=function(T){const k=[...T].filter(o=>o.style.display!=="none").length;s.reviewsInfo.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${k} \u0438\u0437 ${T.length} \u043E\u0442\u0437\u044B\u0432\u043E\u0432`},D=function(){s.reviewSelector=null,s.isFiltersInitialized=!1,s.reviewTextFilter=null,s.reviewsInfo=null,(0,C.wP)(s.reviewsObserver)};var h=t(5213),p=t(3829),f=t(5539),l=t(573),e=t(7877),i=t(281),a=t(8697),F=t(4521),S=t(6754),C=t(4921),b=t(4292),n=t(8506),c=t(5406),u=t(9928);const r=(0,f.L5)("span","read-more","\u0427\u0438\u0442\u0430\u0442\u044C \u0446\u0435\u043B\u0438\u043A\u043E\u043C"),s={reviewSelector:null,isFiltersInitialized:!1,reviewTextFilter:null,reviewsInfo:null,reviewsObserver:null};await m(),(0,c.k1)(async()=>{D(),await m()});async function m(){(0,c.z2)("firm")&&(0,c.z2)("reviews")&&(await(0,C.XW)(document.body),await B())}async function B(){const T=await(0,C.xk)(document,i.Z.GOOD_REVIEWS_LABEL),k=(0,l.s$)(T,5);A(k);const o=(0,l.Yl)(k,"button","\u041F\u043E\u043B\u0435\u0437\u043D\u043E"),w=(0,l.s$)(o,7),I=w.classList;I.length<1||(s.reviewSelector=`.${I[0]}`,R(),(0,h.b)(w,y,!0),g(),s.reviewsObserver=new MutationObserver((0,C.sg)(g)),s.reviewsObserver.observe(k,{childList:!0}))}E()}catch(r){E(r)}},1)},281:(N,d,t)=>{t.d(d,{Z:()=>v});const v={GOOD_REVIEWS_LABEL:'label[title="\u041F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435"]',REVIEW_TEXT_WRAP:"div > div > a"}},8697:(N,d,t)=>{t.d(d,{r:()=>E});const E={FILTERS_CONTAINER:{position:"sticky",top:"48px",display:"flex",flexDirection:"column",gap:"4px",padding:"12px 18px 8px 16px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:100},CONTROL:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px",fontWeight:"500",width:"100%",letterSpacing:"0.01em"},TEXT_INPUT:{...{INPUT:{padding:"7px 14px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",outline:"none"}}.INPUT,width:"100%",boxSizing:"border-box"},INFO:{margin:"4px 2px 0",fontSize:"13px",color:"#9ca3af",textAlign:"right"}}}},$={};function P(N){var d=$[N];if(d!==void 0)return d.exports;var t=$[N]={exports:{}};return W[N](t,t.exports,P),t.exports}(()=>{var N=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",v=h=>{h&&h.d<1&&(h.d=1,h.forEach(p=>p.r--),h.forEach(p=>p.r--?p.r++:p()))},E=h=>h.map(p=>{if(p!==null&&typeof p=="object"){if(p[N])return p;if(p.then){var f=[];f.d=0,p.then(i=>{l[d]=i,v(f)},i=>{l[t]=i,v(f)});var l={};return l[N]=i=>i(f),l}}var e={};return e[N]=i=>{},e[d]=p,e});P.a=(h,p,f)=>{var l;f&&((l=[]).d=-1);var e=new Set,i=h.exports,a,F,S,C=new Promise((b,n)=>{S=n,F=b});C[d]=i,C[N]=b=>(l&&b(l),e.forEach(b),C.catch(n=>{})),h.exports=C,p(b=>{a=E(b);var n,c=()=>a.map(r=>{if(r[t])throw r[t];return r[d]}),u=new Promise(r=>{n=()=>r(c),n.r=0;var s=m=>m!==l&&!e.has(m)&&(e.add(m),m&&!m.d&&(n.r++,m.push(n)));a.map(m=>m[N](s))});return n.r?u:c()},b=>(b?S(C[t]=b):F(i),v(l))),l&&l.d<0&&(l.d=0)}})(),P.d=(N,d)=>{for(var t in d)P.o(d,t)&&!P.o(N,t)&&Object.defineProperty(N,t,{enumerable:!0,get:d[t]})},P.o=(N,d)=>Object.prototype.hasOwnProperty.call(N,d);var z=P(4615)})();})();
