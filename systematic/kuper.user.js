// ==UserScript==
// @name         Kuper product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://kuper.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.77032393
// @icon         https://www.google.com/s2/favicons?sz=64&domain=kuper.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/kuper.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var X={7273:(E,f,t)=>{t.d(f,{S:()=>g});var m=t(5558);function v(d={},s=null){return createElement("span",d,s)}function g(d={},s=null){return(0,m.n)("div",d,s)}},5467:(E,f,t)=>{t.d(f,{E2:()=>v});var m=t(7273);function v(s,c={},r=null){const l=(0,m.S)(c,r);return l.append(s),l}function g(s,c=null,r={},l={}){const e=createActionLink(s,c,l);return v(e,r)}function d(s,c=null,r=null,l={},e={},o={}){const u=createActionLinkWithIcon(s,r,c,e,o);return v(u,l)}},5558:(E,f,t)=>{t.d(f,{n:()=>v});var m=t(6754);function v(g,d,s=null){if(typeof d!="object"||d===null)throw new TypeError("styles should be an object");const c=document.createElement(g);return(0,m.ZM)(c,d),s&&(c.innerHTML=s),c}},740:(E,f,t)=>{t.d(f,{S:()=>c,kU:()=>g,o5:()=>d});var m=t(5558),v=t(4921);function g(e,o,u){const n=r(e,"text",o);return n.value=u,n}function d(e,o,u,n,S,T){const i=r(e,"number",o);return i.value=u,i.step=n,i.min=S,i.max=T,i}function s(e,o,u){const n=r(e,"date",o);return n.value=u,n}function c(e,o,u){const n=r(e,"checkbox",o);return n.checked=u,n}function r(e={},o=null,u=null){const n=(0,m.n)("input",e);return o&&(n.type=o),u&&(n.addEventListener("keyup",(0,v.sg)(u,200)),n.addEventListener("change",(0,v.sg)(u,100))),n}function l(e,o,u){const n=createElement("select",e);return o&&n.addEventListener("change",o),n.value=u,n}},573:(E,f,t)=>{t.d(f,{Fi:()=>g,ML:()=>o,YA:()=>l,fI:()=>d,sf:()=>n});var m=t(4214);function v(i,h=document){return!!h.querySelector(i)}function g(i,h=document,p=!1){const w=h.querySelector(i);return p&&!w&&console.log(`No element found for selector: ${i}`),w}function d(i,h=document,p=!1){const w=h.querySelectorAll(i);return p&&!w.length&&console.log(`No elements found for selector: ${i}`),w}function s(i,h=1){let p=i;for(let w=0;w<h;w++){if(!p.parentElement)return null;p=p.parentElement}return p}function c(i,h,p){return[...i.querySelectorAll(h)].find(w=>w.textContent.trim().includes(p))}function r(i,h,p=!1,w=!1,R=null){const V=g(h,i);return l(V,p,w,R)}function l(i,h=!1,p=!1,w=null){if(!i)return w===null?(console.log("No element found"),null):w;const R=i.innerText;return u(R,h,p)}function e(i,h,p=!1){const w=i[h];return l(w,p)}function o(i,h=!1,p=!1){const w=i.textContent;return u(w,h,p)}function u(i,h,p){h&&(i=(0,m.zr)(i)),p&&(i=i.replace(",","."));const w=Number(i);return Number.isNaN(w)?(console.log(`Invalid number: ${i}`),0):w}function n(i){return[...i.childNodes].find(h=>h.nodeType===Node.TEXT_NODE)}function S(i){const h=p=>p.nodeType===Node.TEXT_NODE&&p.textContent.trim()!==""?[p]:[...p.childNodes].flatMap(h);return h(i)}function T(i){return normalizeSpacing(i.textContent)}},5539:(E,f,t)=>{t.d(f,{Bt:()=>v,UC:()=>e,kl:()=>r});function m(a,y){a.parentNode.insertBefore(y,a.nextSibling)}function v(a){a.style.display="none"}function g(a,y=1){const N=document.querySelector(a);N&&d(N,y)}function d(a,y=1){const N=getElementAncestor(a,y);N&&v(N)}function s(a){n(a),v(a)}function c(a){a.intersectionObserver||runOnceOnIntersection(a,()=>v(a))}function r(a){a.style.display=""}function l(a){const y=u(a);a.style.display=y}function e(a,y){y?v(a):r(a)}function o(a,y){y?c(a):(clearIntersectionObserver(a),r(a))}function u(a){return n(a),a.dataset.defaultDisplay}function n(a){if(a.dataset.defaultDisplay)return;const{display:y}=getComputedStyle(a);a.dataset.defaultDisplay=y}function S(){return{show:[],hide:[]}}function T(a,y,N){a?y.hide.push(N):y.show.push(N)}function i(a){a.show.forEach(r),a.hide.forEach(v)}function h(a,y,N=.3){y?w(a,N):p(a)}function p(a){a.style.opacity=""}function w(a,y=.3){a.style.opacity=y}function R(a){a.style.order=""}function V(a,y){a.style.order=y}function B(a,y,N,U="inline-flex"){y.style.display=a?U:"none",N.style.display=a?"none":U}function O(a,y){a.style.background=y}function L(a,y){const N=getFirstElement(y);N&&H(a,N)}function H(a,y){const N=createLink();N.href=a,y.parentNode.append(N),N.append(y)}function P(a,y){const N=getFirstElement(y);N&&C(a,N)}function C(a,y,N={}){const U=createLink(N);U.href=a,U.append(...y.childNodes),y.append(U)}function b(){const a=getURLQueryParam("scrollTo");if(!a)return;const y=document.getElementById(a);y?y.scrollIntoView():console.log(`Element with ID "${a}" was not found.`)}function F(a,y,N=null){const U=`${y}-click-passed`,$=N?x=>findElementByText(x,a,N):x=>getFirstElement(a,x);return function(x){if(x.hasAttribute(U))return!1;const I=$(x);return I&&I.click(),x.setAttribute(U,""),!0}}function k(a,y,N="text/plain"){const U=new Blob([a],{type:N}),$=URL.createObjectURL(U),x=document.createElement("a");x.href=$,x.download=y,document.body.appendChild(x),x.click(),document.body.removeChild(x),requestAnimationFrame(()=>URL.revokeObjectURL($))}},6754:(E,f,t)=>{t.d(f,{ZM:()=>m});function m(s,c){Object.assign(s.style,c)}function v(s,c="custom-global-style"){let r=document.getElementById(c);r||(r=document.createElement("style"),r.id=c,r.type="text/css",document.head.appendChild(r)),r.textContent=s}function g(s){return Object.entries(s).map(([c,r])=>`${c.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${r};`).join(" ")}function d(s){return s?s.split(";").filter(c=>c.trim()!=="").reduce((c,r)=>{const[l,e]=r.split(":").map(u=>u.trim()),o=l.replace(/-([a-z])/g,(u,n)=>n.toUpperCase());return c[o]=e,c},{}):{}}},4921:(E,f,t)=>{t.d(f,{sg:()=>d,xk:()=>m});function m(e,o,u=null){const n=e.querySelector(o);return n?Promise.resolve(n):new Promise(S=>{const T=new MutationObserver(h);T.observe(e,{childList:!0,subtree:!0});let i;u&&(i=setTimeout(()=>{T.disconnect(),console.log(`No element found for selector: ${o}`),S(null)},u));function h(){const p=e.querySelector(o);p&&(i&&clearTimeout(i),T.disconnect(),S(p))}})}function v(e,o){return e.querySelector(o)?new Promise(n=>{const S=new MutationObserver(T);S.observe(e,{childList:!0,subtree:!0});function T(){e.querySelector(o)||(S.disconnect(),n())}}):Promise.resolve()}function g(e,o=400){return new Promise(u=>{let n;const S=new MutationObserver(()=>{clearTimeout(n),T()});function T(){n=setTimeout(()=>{S.disconnect(),u()},o)}T(),S.observe(e,{childList:!0,subtree:!0})})}function d(e,o=250){let u;return function(...n){const S=this;clearTimeout(u),u=setTimeout(()=>e.apply(S,n),o)}}async function s(e){document.visibilityState==="visible"?await e():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await e()},{once:!0})}function c(e,o){const u=new IntersectionObserver(n=>{n.forEach(S=>{S.isIntersecting&&(o(),r(e))})});e.intersectionObserver=u,u.observe(e)}function r(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}function l(e){e&&(e.disconnect(),e=null)}},3829:(E,f,t)=>{t.d(f,{Ay:()=>v,JE:()=>c,iG:()=>r});var m=t(8355);function v(u,n){return!g(u,n)}function g(u,n){if(!n||!n.value)return!0;const S=(0,m._7)(n.value);return d(u,S)}function d(u,n){if(!n||!n.length)return!0;const S=(u||"").toLowerCase();return n.every(T=>s(S,T))}function s(u,n){return n.some(({term:S,isNegative:T})=>{const i=u.includes(S);return T?!i:i})}function c(u,n){return n.value!=null&&u<n.value}function r(u,n){return n.value!=null&&u>n.value}function l(u,n){return n.value==null?!1:u<parseDateFromISO(n.value)}function e(u,n){return n.value==null?!1:u>parseDateFromISO(n.value)}function o(u,n){return n.value&&u!==n.value}},4521:(E,f,t)=>{t.d(f,{z:()=>v});var m=t(3048);function v(g,d=null){return{createGlobalFilter(s,c=null,r=g){return m.V.create(s,c,r)},createSectionFilter(s,c=null,r=g){if(!d)throw new Error("sectionId must be provided to use createSectionFilter.");return m.V.createWithCompositeKey(d,s,c,r)}}}},5884:(E,f,t)=>{t.d(f,{Hw:()=>r,Nm:()=>g,nW:()=>d});var m=t(5467),v=t(740);function g(l,e,o={},u={}){const n=(0,v.kU)(u,e.updateValueFromEvent,e.value);return(0,m.E2)(n,o,l)}function d(l,e,o,u,n,S={},T={}){const i=(0,v.o5)(T,e.updateValueFromEvent,e.value,o,u,n);return(0,m.E2)(i,S,l)}function s(l,e,o={},u={}){const n=createSelect(u,e.updateValueFromEvent,e.value);return createControl(n,o,l)}function c(l,e,o={},u={}){const n=createDateInput(u,e.updateValueFromEvent,e.value);return createControl(n,o,l)}function r(l,e,o={},u={}){const n=(0,v.S)(u,e.updateValueFromEvent,e.value);return(0,m.E2)(n,o,l)}},4402:(E,f,t)=>{t.d(f,{r:()=>v});var m=t(7273);function v(s={}){return(0,m.S)(s,"|")}function g(s,c={},r="customFiltersContainer"){const l=document.getElementById(r);if(!l)return console.log(`Element with id="${r}" not found.`),null;const e=createButton(c,`${arrowUpIcon}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return e.addEventListener("mouseenter",()=>{e.style.filter="brightness(0.9)"}),e.addEventListener("mouseleave",()=>{e.style.filter="brightness(1)"}),e.addEventListener("click",()=>{const o=l.getBoundingClientRect();window.scrollTo({top:o.top+window.scrollY-s,behavior:"smooth"})}),new IntersectionObserver(([o])=>{const u=o.boundingClientRect.top<0,n=!o.isIntersecting&&u;e.style.display=n?"flex":"none"},{threshold:.5}).observe(l),e}function d(s,c={},r=75){const l=g(r,c);l&&s.appendChild(l)}},7877:(E,f,t)=>{t.d(f,{E9:()=>v,EY:()=>R,H1:()=>T,HX:()=>g,X0:()=>s,pW:()=>H});var m=t(5884);function v(C,b={},F={}){return(0,m.Nm)("\u041F\u043E\u0438\u0441\u043A: ",C,b,F)}function g(C,b={},F={},k=.1,a=3){return(0,m.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",C,k,a,5,b,F)}function d(C,b={},F={},k=.1,a=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",C,k,a,5,b,F)}function s(C,b={},F={}){return r("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",C,b,F)}function c(C,b={},F={}){return r("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",C,b,F)}function r(C,b,F={},k={}){return(0,m.nW)(C,b,"1","1","999999",F,k)}function l(C,b={},F={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",C,b,F)}function e(C,b={},F={}){return o("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",C,b,F)}function o(C,b,F={},k={}){return createNumberFilterControl(C,b,"5","0","100",F,k)}function u(C,b={},F={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",C,"5","0","100",b,F)}function n(C,b,F={},k={},a="250"){return(0,m.nW)(C,b,a,"0","1000000",F,k)}function S(C,b={},F={},k="25"){return n("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",C,b,F,k)}function T(C,b={},F={},k="25"){return n("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",C,b,F,k)}function i(C,b={},F={}){return h("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",C,b,F)}function h(C,b,F={},k={}){return createNumberFilterControl(C,b,"1","0","99999",F,k)}function p(C,b={},F={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",C,"1","2","8",b,F)}function w(C,b={},F={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",C,1,1,10,b,F)}function R(C,b={},F={}){return(0,m.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",C,b,F)}function V(C,b={},F={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",C,b,F)}function B(C,b={},F={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",C,b,F)}function O(C,b={},F={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",C,b,F)}function L(C,b={},F={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",C,b,F)}function H(C,b={},F={}){return(0,m.Hw)("\u0412\u043A\u043B: ",C,b,F)}function P(C,b,F={}){const k=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],a={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},y=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),N=[],U=()=>b?parseFloat(b.value)||0:C.value,$=()=>{const x=U();N.forEach(({button:I,value:D})=>{const j=D<=x?a.active:a.inactive;Object.assign(I.style,j)})};return k.forEach(({value:x,emoji:I,tooltip:D})=>{const A=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...F},I);A.title=D,A.type="button",A.addEventListener("click",j=>{j.preventDefault(),C.updateValue(x),b&&(b.value=x),$()}),A.addEventListener("mouseenter",()=>{x<=U()||(A.style.background=a.hover.background)}),A.addEventListener("mouseleave",()=>{$()}),N.push({button:A,value:x}),y.appendChild(A)}),$(),b&&(b.addEventListener("input",$),b.addEventListener("change",$)),y}},8355:(E,f,t)=>{t.d(f,{_7:()=>v});function m(e){if(!e)return[];const u=v(e).flat().filter(n=>n&&!n.isNegative&&n.term).map(n=>n.term);return[...new Set(u)]}function v(e){return e?e.toLowerCase().split(",").map(g).filter(Boolean):[]}function g(e){const o=e.split("/").map(n=>n.trim()).filter(Boolean);if(o.length===0)return null;const u=o.map(d).filter(Boolean);return u.length>0?u:null}function d(e){const o=e.startsWith("!"),u=o?e.slice(1).trim():e;return u?{term:u,isNegative:o}:null}function s(e,o){r(e,u=>u.style.display!=="none",o)}function c(e,o){r(e,u=>u.style.opacity==="",o)}function r(e,o,u){const n=[...e].filter(o).length,S=e.length;l(u,n,S)}function l(e,o,u){e.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${o} \u0438\u0437 ${u}`}},5213:(E,f,t)=>{t.d(f,{b:()=>g});var m=t(573),v=t(7273);function g(d,s,c=!1,r="customFiltersContainer"){let l=(0,m.Fi)(`#${r}`,d);if(l)if(c)l.remove();else return;l=(0,v.S)(),l.id=r,s(l,d)}},4444:(E,f,t)=>{t.d(f,{s:()=>m});function m(v){let s=2166136261;for(let c=0;c<v.length;c+=1){const r=v.charCodeAt(c);s^=r,s=Math.imul(s,16777619)}return s>>>0}},5081:(E,f,t)=>{t.d(f,{B:()=>g});var m=t(4444);function v(d){return(0,m.s)(d).toString(16).padStart(8,"0")}function g(d,s="common"){return d?v(d):s}},8200:(E,f,t)=>{t.d(f,{s:()=>m});function m(v){const{target:g}=v,{type:d}=g;switch(d){case"text":return`"${g.value}"`;case"number":return g.value;case"select-one":return g.value;case"date":return`"${g.value}"`;case"checkbox":return g.checked;default:return console.log(`Unknown input type: ${d}`),null}}},157:(E,f,t)=>{t.d(f,{Fg:()=>m,vx:()=>g});const m=window.GM_setValue,v=window.GM.setValue,g=window.GM_getValue},1870:(E,f,t)=>{t.d(f,{j:()=>m});class m{constructor(g,d){this.value=g,this.onChange=d}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(E,f,t)=>{t.d(f,{V:()=>s});var m=t(1870),v=t(8200),g=t(3976),d=t(157);class s extends m.j{constructor(r,l=null,e=null){super((0,d.vx)(r,l),e),this.storageKey=r,this.defaultValue=l}static create(r,l=null,e=null){return new s(r,l,e)}static createWithCompositeKey(r,l,e=null,o=null){const u=`${r}-${l}`;return new s(u,e,o)}updateValueFromEvent=r=>{const l=(0,v.s)(r),e=(0,g.$)(l);this.updateValue(e)};updateValue(r,l=!0){this.value!==r&&((0,d.Fg)(this.storageKey,r),this.value=r,l&&this.onChangeIfDefined())}clearValue(r=!1){this.updateValue(null,r)}resetValue(r=!1){this.updateValue(this.defaultValue,r)}}},3976:(E,f,t)=>{t.d(f,{$:()=>m});function m(v){return v===""?null:JSON.parse(v)}},4214:(E,f,t)=>{t.d(f,{zr:()=>v});function m(c){return c.replace(/\D/g,"")}function v(c){return c.replace(/[^\d.,-]/g,"")}function g(c){return c.replace(/\s/g,"")}function d(c){return c.charAt(0).toUpperCase()+c.slice(1)}function s(c){return c.replace(/\s+/g," ").trim()}},5406:(E,f,t)=>{t.d(f,{Es:()=>T,Fc:()=>m});function m(i,h="common",p=!1){const{pathname:w}=window.location;return v(w,i,h,p)}function v(i,h,p,w=!1){const R=i.split("/");h=h<0?R.length+h:h;const V=R[h]||p;return w&&console.log(`Pathname element: ${V}`),V}function g(i,h="common",p=!1){const w=m(i,"",p);return d(w,h,p)}function d(i,h,p){if(!i)return h;const w=i.split("-").at(-1);return p&&console.log(`Pathname element ending: ${w}`),w}function s(i,h,p="common",w=!1){const R=v(i,h,"",w);return d(R,p,w)}function c(i){return new URLSearchParams(window.location.search).get(i)}function r(i){return i.split("?")[0]}function l(i){return window.location.pathname.includes(i)}function e(i){return i.some(h=>l(h))}function o(...i){return window.location.pathname.split("/").some(p=>i.includes(p))}function u(i){try{const h=new URL(window.location.href);Object.entries(i).forEach(([p,w])=>{h.searchParams.set(p,w)}),window.location.href=h.toString()}catch(h){console.error("Failed to redirect:",h)}}function n(i,h=[]){const p=new AbortController;let w=!1;const R=B=>{const O=new URL(B),L={pathname:O.pathname};return h.forEach(H=>{L[H]=O.searchParams.get(H)}),L};let V=R(window.location.href);return window.navigation.addEventListener("navigatesuccess",async()=>{if(w)return;const B=R(window.navigation.currentEntry.url);if(Object.keys(V).some(L=>V[L]!==B[L])){V=B,w=!0;try{await i(B)}catch(L){console.error("URL observer error:",L)}finally{w=!1}}},{signal:p.signal}),()=>p.abort()}function S(i,h=[]){const p={pathname:window.location.pathname};h.forEach(O=>{p[O]=c(O)});let w=!1;async function R(){if(w)return;const O={pathname:window.location.pathname};if(h.forEach(L=>{O[L]=c(L)}),Object.keys(p).some(L=>p[L]!==O[L])){Object.assign(p,O),w=!0;try{await i()}catch(L){console.error("Error in URL observer callback:",L)}finally{w=!1}}}function V(){R().catch(O=>{console.error("Error in URL change handler:",O)})}let B=window.location.href;setInterval(()=>{window.location.href!==B&&(console.log("URL changed:",window.location.href),B=window.location.href,V())},200),window.addEventListener("popstate",V)}function T(i=[]){S(()=>window.location.reload(),i)}},9473:(E,f,t)=>{t.a(E,async(m,v)=>{try{let k=function(){const x=(0,r.Fi)(e.Z.CHIP_LIST_ROOT);x&&((0,g.b)(x,a),y())},a=function(x,I){(0,h.ZM)(x,o.r.FILTERS_CONTAINER);const D=(0,l.E9)(V,o.r.CONTROL,o.r.TEXT_INPUT),A=(0,l.X0)(B,o.r.CONTROL,o.r.NUMBER_INPUT),j=(0,l.HX)(O,o.r.CONTROL,o.r.NUMBER_INPUT),z=(0,l.EY)(L,o.r.CONTROL,o.r.CHECKBOX_INPUT),Z=(0,l.H1)(H,o.r.CONTROL,o.r.NUMBER_INPUT),Q=(0,T.nW)("\u041C\u0438\u043D. \u0440\u0430\u0437\u043C\u0435\u0440: ",P,"2","1","10000",o.r.CONTROL,o.r.NUMBER_INPUT),J=(0,i.r)(o.r.CONTROL),W=(0,l.pW)(C,o.r.CONTROL,o.r.CHECKBOX_INPUT);x.append(D,A,j,z,Z,Q,J,W),I.append(x)},y=function(){(0,r.fI)(e.Z.PRODUCT).forEach(N)},N=function(x){if(!C.value){(0,c.kl)(x);return}const I=(0,r.Fi)(e.Z.PRODUCT_NAME,x),D=(0,r.Fi)(e.Z.PRODUCT_PRICE,x);if(!I||!D){(0,c.Bt)(x);return}I.style.webkitLineClamp=3;const A=I.innerText,j=(0,r.sf)(D),z=(0,r.ML)(j,!0,!0),Z=(0,s.Ay)(A,V)||U(x)||(0,s.iG)(z,H)||$(x);(0,c.UC)(x,Z)},U=function(x){const I=(0,r.Fi)(e.Z.PRODUCT_RATING,x),D=(0,r.Fi)(e.Z.PRODUCT_REVIEWS,x);if(!I||I.innerText.startsWith("\u043C\u0430\u043B\u043E")||!D)return!L.value;const A=(0,r.YA)(D,!0,!1,0),j=(0,r.YA)(I,!0,!0,0);return(0,s.JE)(A,B)||(0,s.JE)(j,O)},$=function(x){const I=(0,r.Fi)(e.Z.PRODUCT_VOLUME,x);if(!I)return!1;const D=(0,r.YA)(I,!0,!0,0);return(0,s.JE)(D,P)};var g=t(5213),d=t(5406),s=t(3829),c=t(5539),r=t(573),l=t(7877),e=t(3491),o=t(939),u=t(4521),n=t(4921),S=t(5081),T=t(5884),i=t(4402),h=t(6754);const p=(0,S.B)((0,d.Fc)(3)+(0,d.Fc)(4,""));(0,d.Es)();const{createGlobalFilter:w,createSectionFilter:R}=(0,u.z)(y,p),V=R("name-filter"),B=R("min-reviews-filter"),O=R("min-rating-filter",4.8),L=R("no-rating-filter",!1),H=R("max-price-filter"),P=R("min-volume-filter"),C=w("filter-enabled",!0),b={productRoot:null},F=(0,r.Fi)(e.Z.CATEGORY_ROOT);F&&(b.productRoot=await(0,n.xk)(F,e.Z.PRODUCTS_ROOT),k(),new MutationObserver((0,n.sg)(k)).observe(b.productRoot,{childList:!0,subtree:!0})),v()}catch(p){v(p)}},1)},3491:(E,f,t)=>{t.d(f,{Z:()=>m});const m={CATEGORY_ROOT:'[class^="Category_root_"]',PRODUCTS_ROOT:'[class^="Products_root_"]',CHIP_LIST_ROOT:'[class^="ChipsList_root_"]',PRODUCT:'[class^="ProductCard_root_"]',PRODUCT_NAME:'[class^="ProductCard_title_"]',PRODUCT_PRICE:'[class^="ProductCardPrice_price_"]',PRODUCT_RATING:'[class^="RatingBadge_root_"] > span:nth-child(1) > span',PRODUCT_REVIEWS:'[class^="RatingBadge_root_"] > span:nth-child(2) > span',PRODUCT_VOLUME:'[class^="ProductCard_volume_"]'}},939:(E,f,t)=>{t.d(f,{r:()=>v});const m={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px",height:"20px",backgroundColor:"#fff",boxShadow:"none"}},v={FILTERS_CONTAINER:{display:"flex",gridGap:"12px",paddingTop:"8px",flexFlow:"wrap"},CONTROL:{display:"flex",alignItems:"center",fontSize:"15px"},TEXT_INPUT:{...m.INPUT,width:"150px"},NUMBER_INPUT:{...m.INPUT,width:"55px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}}},Y={};function G(E){var f=Y[E];if(f!==void 0)return f.exports;var t=Y[E]={exports:{}};return X[E](t,t.exports,G),t.exports}(()=>{var E=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",m=g=>{g&&g.d<1&&(g.d=1,g.forEach(d=>d.r--),g.forEach(d=>d.r--?d.r++:d()))},v=g=>g.map(d=>{if(d!==null&&typeof d=="object"){if(d[E])return d;if(d.then){var s=[];s.d=0,d.then(l=>{c[f]=l,m(s)},l=>{c[t]=l,m(s)});var c={};return c[E]=l=>l(s),c}}var r={};return r[E]=l=>{},r[f]=d,r});G.a=(g,d,s)=>{var c;s&&((c=[]).d=-1);var r=new Set,l=g.exports,e,o,u,n=new Promise((S,T)=>{u=T,o=S});n[f]=l,n[E]=S=>(c&&S(c),r.forEach(S),n.catch(T=>{})),g.exports=n,d(S=>{e=v(S);var T,i=()=>e.map(p=>{if(p[t])throw p[t];return p[f]}),h=new Promise(p=>{T=()=>p(i),T.r=0;var w=R=>R!==c&&!r.has(R)&&(r.add(R),R&&!R.d&&(T.r++,R.push(T)));e.map(R=>R[E](w))});return T.r?h:i()},S=>(S?u(n[t]=S):o(l),m(c))),c&&c.d<0&&(c.d=0)}})(),G.d=(E,f)=>{for(var t in f)G.o(f,t)&&!G.o(E,t)&&Object.defineProperty(E,t,{enumerable:!0,get:f[t]})},G.o=(E,f)=>Object.prototype.hasOwnProperty.call(E,f);var M=G(9473)})();})();
