// ==UserScript==
// @name         Kuper product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://kuper.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76953891
// @icon         https://www.google.com/s2/favicons?sz=64&domain=kuper.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/kuper.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var X={5467:(E,m,t)=>{t.d(m,{E2:()=>g});var h=t(9928);function g(p,a={},n=null){const u=(0,h.Sw)(a,n);return u.append(p),u}function w(p,a=null,n={},u={}){const e=createActionLink(p,a,u);return g(e,n)}function v(p,a=null,n=null,u={},e={},i={}){const c=createActionLinkWithIcon(p,n,a,e,i);return g(c,u)}},9928:(E,m,t)=>{t.d(m,{S:()=>a,Sw:()=>b,kU:()=>w,o5:()=>v});var h=t(4921),g=t(6754);function w(d,f,T){const S=n(d,"text",f);return S.value=T,S}function v(d,f,T,S,V,D){const $=n(d,"number",f);return $.value=T,$.step=S,$.min=V,$.max=D,$}function p(d,f,T){const S=n(d,"date",f);return S.value=T,S}function a(d,f,T){const S=n(d,"checkbox",f);return S.checked=T,S}function n(d={},f=null,T=null){const S=s("input",d);return f&&(S.type=f),T&&(S.addEventListener("keyup",(0,h.sg)(T,200)),S.addEventListener("change",(0,h.sg)(T,100))),S}function u(d,f,T){const S=s("select",d);return f&&S.addEventListener("change",f),S.value=T,S}function e(d={},f=null){return s("span",d,f)}function i(d={},f=null,T=null){const S=s("a",d,f);return T&&(S.href=T),S}function c(d,f=null,T={}){T.cursor||="pointer";const S=i(T,f);return d&&S.addEventListener("click",d),S}function l(d,f,T=null,S={},V={}){S.display||="inline-flex",S.alignItems||="center",S.gap||="0.25em";const D=c(d,T,S);return D.prepend(C(f,V)),D}function k(d={},f=null,T=null){const S=s("button",d,f);return T&&S.addEventListener("click",T),S}function b(d={},f=null){return s("div",d,f)}function o(d={},f=null){return s("i",d,f)}function C(d,f={}){f.width||="1em",f.height||="1em";const T=createLucideSvg(d);return applyStyles(T,f),T}function s(d,f,T=null){if(typeof f!="object"||f===null)throw new TypeError("styles should be an object");const S=document.createElement(d);return(0,g.ZM)(S,f),T&&(S.innerHTML=T),S}},573:(E,m,t)=>{t.d(m,{Fi:()=>w,ML:()=>i,YA:()=>u,fI:()=>v,sf:()=>l});var h=t(4214);function g(o,C=document){return!!C.querySelector(o)}function w(o,C=document,s=!1){const d=C.querySelector(o);return s&&!d&&console.log(`No element found for selector: ${o}`),d}function v(o,C=document,s=!1){const d=C.querySelectorAll(o);return s&&!d.length&&console.log(`No elements found for selector: ${o}`),d}function p(o,C=1){let s=o;for(let d=0;d<C;d++){if(!s.parentElement)return null;s=s.parentElement}return s}function a(o,C,s){return[...o.querySelectorAll(C)].find(d=>d.textContent.trim().includes(s))}function n(o,C,s=!1,d=!1,f=null){const T=w(C,o);return u(T,s,d,f)}function u(o,C=!1,s=!1,d=null){if(!o)return d===null?(console.log("No element found"),null):d;const f=o.innerText;return c(f,C,s)}function e(o,C,s=!1){const d=o[C];return u(d,s)}function i(o,C=!1,s=!1){const d=o.textContent;return c(d,C,s)}function c(o,C,s){C&&(o=(0,h.zr)(o)),s&&(o=o.replace(",","."));const d=Number(o);return Number.isNaN(d)?(console.log(`Invalid number: ${o}`),0):d}function l(o){return[...o.childNodes].find(C=>C.nodeType===Node.TEXT_NODE)}function k(o){const C=s=>s.nodeType===Node.TEXT_NODE&&s.textContent.trim()!==""?[s]:[...s.childNodes].flatMap(C);return C(o)}function b(o){return normalizeSpacing(o.textContent)}},5539:(E,m,t)=>{t.d(m,{Bt:()=>g,UC:()=>e,kl:()=>n});function h(r,y){r.parentNode.insertBefore(y,r.nextSibling)}function g(r){r.style.display="none"}function w(r,y=1){const R=document.querySelector(r);R&&v(R,y)}function v(r,y=1){const R=getElementAncestor(r,y);R&&g(R)}function p(r){l(r),g(r)}function a(r){r.intersectionObserver||runOnceOnIntersection(r,()=>g(r))}function n(r){r.style.display=""}function u(r){const y=c(r);r.style.display=y}function e(r,y){y?g(r):n(r)}function i(r,y){y?a(r):(clearIntersectionObserver(r),n(r))}function c(r){return l(r),r.defaultDisplay}function l(r){if(r.defaultDisplay)return;const{display:y}=getComputedStyle(r);r.defaultDisplay=y}function k(){return{show:[],hide:[]}}function b(r,y,R){r?y.hide.push(R):y.show.push(R)}function o(r){r.show.forEach(n),r.hide.forEach(g)}function C(r,y,R=.3){y?d(r,R):s(r)}function s(r){r.style.opacity=""}function d(r,y=.3){r.style.opacity=y}function f(r){r.style.order=""}function T(r,y){r.style.order=y}function S(r,y){r.style.background=y}function V(r,y){const R=getFirstElement(y);R&&D(r,R)}function D(r,y){const R=createLink();R.href=r,y.parentNode.append(R),R.append(y)}function $(r,y){const R=getFirstElement(y);R&&z(r,R)}function z(r,y,R={}){const U=createLink(R);U.href=r,U.append(...y.childNodes),y.append(U)}function x(){const r=getURLQueryParam("scrollTo");if(!r)return;const y=document.getElementById(r);y?y.scrollIntoView():console.log(`Element with ID "${r}" was not found.`)}function F(r,y,R=null){const U=`${y}-click-passed`,j=R?I=>findElementByText(I,r,R):I=>getFirstElement(r,I);return function(I){if(I.hasAttribute(U))return!1;const L=j(I);return L&&L.click(),I.setAttribute(U,""),!0}}function N(r,y,R="text/plain"){const U=new Blob([r],{type:R}),j=URL.createObjectURL(U),I=document.createElement("a");I.href=j,I.download=y,document.body.appendChild(I),I.click(),document.body.removeChild(I),requestAnimationFrame(()=>URL.revokeObjectURL(j))}},6754:(E,m,t)=>{t.d(m,{ZM:()=>h});function h(p,a){Object.assign(p.style,a)}function g(p,a="custom-global-style"){let n=document.getElementById(a);n||(n=document.createElement("style"),n.id=a,n.type="text/css",document.head.appendChild(n)),n.textContent=p}function w(p){return Object.entries(p).map(([a,n])=>`${a.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${n};`).join(" ")}function v(p){return p?p.split(";").filter(a=>a.trim()!=="").reduce((a,n)=>{const[u,e]=n.split(":").map(c=>c.trim()),i=u.replace(/-([a-z])/g,(c,l)=>l.toUpperCase());return a[i]=e,a},{}):{}}},4921:(E,m,t)=>{t.d(m,{sg:()=>v,xk:()=>h});function h(e,i,c=null){const l=e.querySelector(i);return l?Promise.resolve(l):new Promise(k=>{const b=new MutationObserver(C);b.observe(e,{childList:!0,subtree:!0});let o;c&&(o=setTimeout(()=>{b.disconnect(),console.log(`No element found for selector: ${i}`),k(null)},c));function C(){const s=e.querySelector(i);s&&(o&&clearTimeout(o),b.disconnect(),k(s))}})}function g(e,i){return e.querySelector(i)?new Promise(l=>{const k=new MutationObserver(b);k.observe(e,{childList:!0,subtree:!0});function b(){e.querySelector(i)||(k.disconnect(),l())}}):Promise.resolve()}function w(e,i=400){return new Promise(c=>{let l;const k=new MutationObserver(()=>{clearTimeout(l),b()});function b(){l=setTimeout(()=>{k.disconnect(),c()},i)}b(),k.observe(e,{childList:!0,subtree:!0})})}function v(e,i=250){let c;return(...l)=>{clearTimeout(c),c=setTimeout(()=>e(...l),i)}}async function p(e){document.visibilityState==="visible"?await e():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await e()},{once:!0})}function a(e,i){const c=new IntersectionObserver(l=>{l.forEach(k=>{k.isIntersecting&&(i(),n(e))})});e.intersectionObserver=c,c.observe(e)}function n(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}function u(e){e&&(e.disconnect(),e=null)}},3829:(E,m,t)=>{t.d(m,{Ay:()=>g,JE:()=>a,iG:()=>n});var h=t(8355);function g(c,l){return!w(c,l)}function w(c,l){if(!l||!l.value)return!0;const k=(0,h._7)(l.value);return v(c,k)}function v(c,l){if(!l||!l.length)return!0;const k=(c||"").toLowerCase();return l.every(b=>p(k,b))}function p(c,l){return l.some(({term:k,isNegative:b})=>{const o=c.includes(k);return b?!o:o})}function a(c,l){return l.value!=null&&c<l.value}function n(c,l){return l.value!=null&&c>l.value}function u(c,l){return l.value==null?!1:c<parseDateFromISO(l.value)}function e(c,l){return l.value==null?!1:c>parseDateFromISO(l.value)}function i(c,l){return l.value&&c!==l.value}},4521:(E,m,t)=>{t.d(m,{z:()=>g});var h=t(3048);function g(w,v=null){return{createGlobalFilter(p,a=null,n=w){return h.V.create(p,a,n)},createSectionFilter(p,a=null,n=w){if(!v)throw new Error("sectionId must be provided to use createSectionFilter.");return h.V.createWithCompositeKey(v,p,a,n)}}}},5884:(E,m,t)=>{t.d(m,{Hw:()=>n,Nm:()=>w,nW:()=>v});var h=t(9928),g=t(5467);function w(u,e,i={},c={}){const l=(0,h.kU)(c,e.updateValueFromEvent,e.value);return(0,g.E2)(l,i,u)}function v(u,e,i,c,l,k={},b={}){const o=(0,h.o5)(b,e.updateValueFromEvent,e.value,i,c,l);return(0,g.E2)(o,k,u)}function p(u,e,i={},c={}){const l=createSelect(c,e.updateValueFromEvent,e.value);return createControl(l,i,u)}function a(u,e,i={},c={}){const l=createDateInput(c,e.updateValueFromEvent,e.value);return createControl(l,i,u)}function n(u,e,i={},c={}){const l=(0,h.S)(c,e.updateValueFromEvent,e.value);return(0,g.E2)(l,i,u)}},4402:(E,m,t)=>{t.d(m,{r:()=>g});var h=t(9928);function g(p={}){return(0,h.Sw)(p,"|")}function w(p={},a=75,n="customFiltersContainer"){const u=document.getElementById(n);if(!u)return console.log(`Element with id="${n}" not found.`),null;const e=createButton(p,`${arrowUpIcon}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return e.addEventListener("mouseenter",()=>{e.style.filter="brightness(0.9)"}),e.addEventListener("mouseleave",()=>{e.style.filter="brightness(1)"}),e.addEventListener("click",()=>{const i=u.getBoundingClientRect();window.scrollTo({top:i.top+window.scrollY-a})}),new IntersectionObserver(([i])=>{e.style.display=i.isIntersecting?"none":"flex"},{threshold:.5}).observe(u),e}function v(p,a={}){const n=w(a);n&&p.appendChild(n)}},7877:(E,m,t)=>{t.d(m,{E9:()=>g,EY:()=>f,H1:()=>b,HX:()=>w,X0:()=>p,pW:()=>$});var h=t(5884);function g(x,F={},N={}){return(0,h.Nm)("\u041F\u043E\u0438\u0441\u043A: ",x,F,N)}function w(x,F={},N={},r=.1,y=3){return(0,h.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",x,r,y,5,F,N)}function v(x,F={},N={},r=.1,y=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",x,r,y,5,F,N)}function p(x,F={},N={}){return n("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",x,F,N)}function a(x,F={},N={}){return n("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",x,F,N)}function n(x,F,N={},r={}){return(0,h.nW)(x,F,"1","1","999999",N,r)}function u(x,F={},N={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",x,F,N)}function e(x,F={},N={}){return i("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",x,F,N)}function i(x,F,N={},r={}){return createNumberFilterControl(x,F,"5","0","100",N,r)}function c(x,F={},N={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",x,"5","0","100",F,N)}function l(x,F,N={},r={},y="250"){return(0,h.nW)(x,F,y,"0","1000000",N,r)}function k(x,F={},N={},r="25"){return l("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",x,F,N,r)}function b(x,F={},N={},r="25"){return l("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",x,F,N,r)}function o(x,F={},N={}){return C("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",x,F,N)}function C(x,F,N={},r={}){return createNumberFilterControl(x,F,"1","0","99999",N,r)}function s(x,F={},N={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",x,"1","2","8",F,N)}function d(x,F={},N={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",x,1,1,10,F,N)}function f(x,F={},N={}){return(0,h.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",x,F,N)}function T(x,F={},N={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",x,F,N)}function S(x,F={},N={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",x,F,N)}function V(x,F={},N={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",x,F,N)}function D(x,F={},N={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",x,F,N)}function $(x,F={},N={}){return(0,h.Hw)("\u0412\u043A\u043B: ",x,F,N)}function z(x,F,N={}){const r=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],y={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},R=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),U=[],j=()=>F?parseFloat(F.value)||0:x.value,I=()=>{const L=j();U.forEach(({button:O,value:B})=>{const H=B<=L?y.active:y.inactive;Object.assign(O.style,H)})};return r.forEach(({value:L,emoji:O,tooltip:B})=>{const A=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...N},O);A.title=B,A.type="button",A.addEventListener("click",H=>{H.preventDefault(),x.updateValue(L),F&&(F.value=L),I()}),A.addEventListener("mouseenter",()=>{L<=j()||(A.style.background=y.hover.background)}),A.addEventListener("mouseleave",()=>{I()}),U.push({button:A,value:L}),R.appendChild(A)}),I(),F&&(F.addEventListener("input",I),F.addEventListener("change",I)),R}},8355:(E,m,t)=>{t.d(m,{_7:()=>g});function h(u){if(!u)return[];const i=g(u).flat().filter(c=>c&&!c.isNegative&&c.term).map(c=>c.term);return[...new Set(i)]}function g(u){return u?u.toLowerCase().split(",").map(w).filter(Boolean):[]}function w(u){const e=u.split("/").map(c=>c.trim()).filter(Boolean);if(e.length===0)return null;const i=e.map(v).filter(Boolean);return i.length>0?i:null}function v(u){const e=u.startsWith("!"),i=e?u.slice(1).trim():u;return i?{term:i,isNegative:e}:null}function p(u,e){n(u,i=>i.style.display!=="none",e)}function a(u,e){n(u,i=>i.style.opacity==="",e)}function n(u,e,i){const c=[...u].filter(e).length;i.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${c} \u0438\u0437 ${u.length}`}},5213:(E,m,t)=>{t.d(m,{b:()=>w});var h=t(9928),g=t(573);function w(v,p,a=!1,n="customFiltersContainer"){let u=(0,g.Fi)(`#${n}`,v);if(u)if(a)u.remove();else return;u=(0,h.Sw)(),u.id=n,p(u,v)}},4444:(E,m,t)=>{t.d(m,{s:()=>h});function h(g){let p=2166136261;for(let a=0;a<g.length;a+=1){const n=g.charCodeAt(a);p^=n,p=Math.imul(p,16777619)}return p>>>0}},5081:(E,m,t)=>{t.d(m,{B:()=>w});var h=t(4444);function g(v){return(0,h.s)(v).toString(16).padStart(8,"0")}function w(v,p="common"){return v?g(v):p}},8200:(E,m,t)=>{t.d(m,{s:()=>h});function h(g){const{target:w}=g,{type:v}=w;switch(v){case"text":return`"${w.value}"`;case"number":return w.value;case"select-one":return w.value;case"date":return`"${w.value}"`;case"checkbox":return w.checked;default:return console.log(`Unknown input type: ${v}`),null}}},157:(E,m,t)=>{t.d(m,{Fg:()=>h,vx:()=>w});const h=window.GM_setValue,g=window.GM.setValue,w=window.GM_getValue},1870:(E,m,t)=>{t.d(m,{j:()=>h});class h{constructor(w,v){this.value=w,this.onChange=v}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(E,m,t)=>{t.d(m,{V:()=>p});var h=t(1870),g=t(8200),w=t(3976),v=t(157);class p extends h.j{constructor(n,u=null,e=null){super((0,v.vx)(n,u),e),this.storageKey=n,this.defaultValue=u}static create(n,u=null,e=null){return new p(n,u,e)}static createWithCompositeKey(n,u,e=null,i=null){const c=`${n}-${u}`;return new p(c,e,i)}updateValueFromEvent=n=>{const u=(0,g.s)(n),e=(0,w.$)(u);this.updateValue(e)};updateValue(n,u=!0){this.value!==n&&((0,v.Fg)(this.storageKey,n),this.value=n,u&&this.onChangeIfDefined())}clearValue(n=!1){this.updateValue(null,n)}resetValue(n=!1){this.updateValue(this.defaultValue,n)}}},3976:(E,m,t)=>{t.d(m,{$:()=>h});function h(g){return g===""?null:JSON.parse(g)}},4214:(E,m,t)=>{t.d(m,{zr:()=>g});function h(a){return a.replace(/\D/g,"")}function g(a){return a.replace(/[^\d.,-]/g,"")}function w(a){return a.replace(/\s/g,"")}function v(a){return a.charAt(0).toUpperCase()+a.slice(1)}function p(a){return a.replace(/\s+/g," ").trim()}},5406:(E,m,t)=>{t.d(m,{Es:()=>k,Fc:()=>h});function h(b,o="common",C=!1){const{pathname:s}=window.location;return g(s,b,o,C)}function g(b,o,C,s=!1){const d=b.split("/");o=o<0?d.length+o:o;const f=d[o]||C;return s&&console.log(`Pathname element: ${f}`),f}function w(b,o="common",C=!1){const s=h(b,"",C);return v(s,o,C)}function v(b,o,C){if(!b)return o;const s=b.split("-").at(-1);return C&&console.log(`Pathname element ending: ${s}`),s}function p(b,o,C="common",s=!1){const d=g(b,o,"",s);return v(d,C,s)}function a(b){return new URLSearchParams(window.location.search).get(b)}function n(b){return b.split("?")[0]}function u(b){return window.location.pathname.includes(b)}function e(b){return b.some(o=>u(o))}function i(...b){return window.location.pathname.split("/").some(C=>b.includes(C))}function c(b){try{const o=new URL(window.location.href);Object.entries(b).forEach(([C,s])=>{o.searchParams.set(C,s)}),window.location.href=o.toString()}catch(o){console.error("Failed to redirect:",o)}}function l(b,o=[]){const C={pathname:window.location.pathname};o.forEach(S=>{C[S]=a(S)});let s=!1;async function d(){if(s)return;const S={pathname:window.location.pathname};if(o.forEach(V=>{S[V]=a(V)}),Object.keys(C).some(V=>C[V]!==S[V])){Object.assign(C,S),s=!0;try{await b()}catch(V){console.error("Error in URL observer callback:",V)}finally{s=!1}}}function f(){d().catch(S=>{console.error("Error in URL change handler:",S)})}let T=window.location.href;setInterval(()=>{window.location.href!==T&&(T=window.location.href,f())},200),window.addEventListener("popstate",f)}function k(b=[]){l(()=>window.location.reload(),b)}},9473:(E,m,t)=>{t.a(E,async(h,g)=>{try{let r=function(){const L=(0,n.Fi)(e.Z.CHIP_LIST_ROOT);L&&((0,w.b)(L,y),R())},y=function(L,O){(0,C.ZM)(L,i.r.FILTERS_CONTAINER);const B=(0,u.E9)(T,i.r.CONTROL,i.r.TEXT_INPUT),A=(0,u.X0)(S,i.r.CONTROL,i.r.NUMBER_INPUT),H=(0,u.HX)(V,i.r.CONTROL,i.r.NUMBER_INPUT),Z=(0,u.EY)(D,i.r.CONTROL,i.r.CHECKBOX_INPUT),P=(0,u.H1)($,i.r.CONTROL,i.r.NUMBER_INPUT),Q=(0,b.nW)("\u041C\u0438\u043D. \u0440\u0430\u0437\u043C\u0435\u0440: ",z,"2","1","10000",i.r.CONTROL,i.r.NUMBER_INPUT),J=(0,o.r)(i.r.CONTROL),W=(0,u.pW)(x,i.r.CONTROL,i.r.CHECKBOX_INPUT);L.append(B,A,H,Z,P,Q,J,W),O.append(L)},R=function(){(0,n.fI)(e.Z.PRODUCT).forEach(U)},U=function(L){if(!x.value){(0,a.kl)(L);return}const O=(0,n.Fi)(e.Z.PRODUCT_NAME,L),B=(0,n.Fi)(e.Z.PRODUCT_PRICE,L);if(!O||!B){(0,a.Bt)(L);return}O.style.webkitLineClamp=3;const A=O.innerText,H=(0,n.sf)(B),Z=(0,n.ML)(H,!0,!0),P=(0,p.Ay)(A,T)||j(L)||(0,p.iG)(Z,$)||I(L);(0,a.UC)(L,P)},j=function(L){const O=(0,n.Fi)(e.Z.PRODUCT_RATING,L),B=(0,n.Fi)(e.Z.PRODUCT_REVIEWS,L);if(!O||O.innerText.startsWith("\u043C\u0430\u043B\u043E")||!B)return!D.value;const A=(0,n.YA)(B,!0,!1,0),H=(0,n.YA)(O,!0,!0,0);return(0,p.JE)(A,S)||(0,p.JE)(H,V)},I=function(L){const O=(0,n.Fi)(e.Z.PRODUCT_VOLUME,L);if(!O)return!1;const B=(0,n.YA)(O,!0,!0,0);return(0,p.JE)(B,z)};var w=t(5213),v=t(5406),p=t(3829),a=t(5539),n=t(573),u=t(7877),e=t(3491),i=t(939),c=t(4521),l=t(4921),k=t(5081),b=t(5884),o=t(4402),C=t(6754);const s=(0,k.B)((0,v.Fc)(3)+(0,v.Fc)(4,""));(0,v.Es)();const{createGlobalFilter:d,createSectionFilter:f}=(0,c.z)(R,s),T=f("name-filter"),S=f("min-reviews-filter"),V=f("min-rating-filter",4.8),D=f("no-rating-filter",!1),$=f("max-price-filter"),z=f("min-volume-filter"),x=d("filter-enabled",!0),F={productRoot:null},N=(0,n.Fi)(e.Z.CATEGORY_ROOT);N&&(F.productRoot=await(0,l.xk)(N,e.Z.PRODUCTS_ROOT),r(),new MutationObserver((0,l.sg)(r)).observe(F.productRoot,{childList:!0,subtree:!0})),g()}catch(s){g(s)}},1)},3491:(E,m,t)=>{t.d(m,{Z:()=>h});const h={CATEGORY_ROOT:'[class^="Category_root_"]',PRODUCTS_ROOT:'[class^="Products_root_"]',CHIP_LIST_ROOT:'[class^="ChipsList_root_"]',PRODUCT:'[class^="ProductCard_root_"]',PRODUCT_NAME:'[class^="ProductCard_title_"]',PRODUCT_PRICE:'[class^="ProductCardPrice_price_"]',PRODUCT_RATING:'[class^="RatingBadge_root_"] > span:nth-child(1) > span',PRODUCT_REVIEWS:'[class^="RatingBadge_root_"] > span:nth-child(2) > span',PRODUCT_VOLUME:'[class^="ProductCard_volume_"]'}},939:(E,m,t)=>{t.d(m,{r:()=>g});const h={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px",height:"20px",backgroundColor:"#fff",boxShadow:"none"}},g={FILTERS_CONTAINER:{display:"flex",gridGap:"12px",paddingTop:"8px",flexFlow:"wrap"},CONTROL:{display:"flex",alignItems:"center",fontSize:"15px"},TEXT_INPUT:{...h.INPUT,width:"150px"},NUMBER_INPUT:{...h.INPUT,width:"55px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}}},Y={};function G(E){var m=Y[E];if(m!==void 0)return m.exports;var t=Y[E]={exports:{}};return X[E](t,t.exports,G),t.exports}(()=>{var E=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",m=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",h=w=>{w&&w.d<1&&(w.d=1,w.forEach(v=>v.r--),w.forEach(v=>v.r--?v.r++:v()))},g=w=>w.map(v=>{if(v!==null&&typeof v=="object"){if(v[E])return v;if(v.then){var p=[];p.d=0,v.then(u=>{a[m]=u,h(p)},u=>{a[t]=u,h(p)});var a={};return a[E]=u=>u(p),a}}var n={};return n[E]=u=>{},n[m]=v,n});G.a=(w,v,p)=>{var a;p&&((a=[]).d=-1);var n=new Set,u=w.exports,e,i,c,l=new Promise((k,b)=>{c=b,i=k});l[m]=u,l[E]=k=>(a&&k(a),n.forEach(k),l.catch(b=>{})),w.exports=l,v(k=>{e=g(k);var b,o=()=>e.map(s=>{if(s[t])throw s[t];return s[m]}),C=new Promise(s=>{b=()=>s(o),b.r=0;var d=f=>f!==a&&!n.has(f)&&(n.add(f),f&&!f.d&&(b.r++,f.push(b)));e.map(f=>f[E](d))});return b.r?C:o()},k=>(k?c(l[t]=k):i(u),h(a))),a&&a.d<0&&(a.d=0)}})(),G.d=(E,m)=>{for(var t in m)G.o(m,t)&&!G.o(E,t)&&Object.defineProperty(E,t,{enumerable:!0,get:m[t]})},G.o=(E,m)=>Object.prototype.hasOwnProperty.call(E,m);var M=G(9473)})();})();
