// ==UserScript==
// @name         Kuper product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://kuper.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.77101971
// @icon         https://www.google.com/s2/favicons?sz=64&domain=kuper.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/kuper.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var Q={7273:(x,f,n)=>{n.d(f,{S:()=>g});var p=n(5558);function m(d={},l=null){return createElement("span",d,l)}function g(d={},l=null){return(0,p.n)("div",d,l)}},5467:(x,f,n)=>{n.d(f,{E2:()=>m});var p=n(7273);function m(l,c={},o=null){const s=(0,p.S)(c,o);return s.append(l),s}function g(l,c=null,o={},s={}){const e=createActionLink(l,c,s);return m(e,o)}function d(l,c=null,o=null,s={},e={},u={}){const i=createActionLinkWithIcon(l,o,c,e,u);return m(i,s)}},5558:(x,f,n)=>{n.d(f,{n:()=>m});var p=n(6754);function m(g,d,l=null){if(typeof d!="object"||d===null)throw new TypeError("styles should be an object");const c=document.createElement(g);return(0,p.ZM)(c,d),l&&(c.innerHTML=l),c}},740:(x,f,n)=>{n.d(f,{S:()=>c,kU:()=>g,o5:()=>d});var p=n(5558),m=n(4921);function g(e,u,i){const r=o(e,"text",u);return r.value=i,r}function d(e,u,i,r,S,T){const a=o(e,"number",u);return a.value=i,a.step=r,a.min=S,a.max=T,a}function l(e,u,i){const r=o(e,"date",u);return r.value=i,r}function c(e,u,i){const r=o(e,"checkbox",u);return r.checked=i,r}function o(e={},u=null,i=null){const r=(0,p.n)("input",e);return u&&(r.type=u),i&&(r.addEventListener("keyup",(0,m.sg)(i,200)),r.addEventListener("change",(0,m.sg)(i,100))),r}function s(e,u,i){const r=createElement("select",e);return u&&r.addEventListener("change",u),r.value=i,r}},573:(x,f,n)=>{n.d(f,{Fi:()=>g,ML:()=>u,YA:()=>s,fI:()=>d,sf:()=>r});var p=n(4214);function m(a,h=document){return!!h.querySelector(a)}function g(a,h=document,v=!1){const F=h.querySelector(a);return v&&!F&&console.log(`No element found for selector: ${a}`),F}function d(a,h=document,v=!1){const F=h.querySelectorAll(a);return v&&!F.length&&console.log(`No elements found for selector: ${a}`),F}function l(a,h=1){let v=a;for(let F=0;F<h;F++){if(!v.parentElement)return null;v=v.parentElement}return v}function c(a,h,v){return[...a.querySelectorAll(h)].find(F=>F.textContent.trim().includes(v))}function o(a,h,v=!1,F=!1,N=null){const A=g(h,a);return s(A,v,F,N)}function s(a,h=!1,v=!1,F=null){if(!a)return F===null?(console.log("No element found"),null):F;const N=a.innerText;return i(N,h,v)}function e(a,h,v=!1){const F=a[h];return s(F,v)}function u(a,h=!1,v=!1){const F=a.textContent;return i(F,h,v)}function i(a,h,v){h&&(a=(0,p.zr)(a)),v&&(a=a.replace(",","."));const F=Number(a);return Number.isNaN(F)?(console.log(`Invalid number: ${a}`),0):F}function r(a){return[...a.childNodes].find(h=>h.nodeType===Node.TEXT_NODE)}function S(a){const h=v=>v.nodeType===Node.TEXT_NODE&&v.textContent.trim()!==""?[v]:[...v.childNodes].flatMap(h);return h(a)}function T(a){return normalizeSpacing(a.textContent)}},5539:(x,f,n)=>{n.d(f,{Bt:()=>m,UC:()=>u,kl:()=>s});function p(t,y){t.parentNode.insertBefore(y,t.nextSibling)}function m(t){t.style.display="none"}function g(t,y=1){const E=document.querySelector(t);E&&d(E,y)}function d(t,y=1){const E=getElementAncestor(t,y);E&&m(E)}function l(t,y,E){const L=findElementByText(t,y,E);L&&m(L)}function c(t){S(t),m(t)}function o(t){t.intersectionObserver||runOnceOnIntersection(t,()=>m(t))}function s(t){t.style.display=""}function e(t){const y=r(t);t.style.display=y}function u(t,y){y?m(t):s(t)}function i(t,y){y?o(t):(clearIntersectionObserver(t),s(t))}function r(t){return S(t),t.dataset.defaultDisplay}function S(t){if(t.dataset.defaultDisplay)return;const{display:y}=getComputedStyle(t);t.dataset.defaultDisplay=y}function T(){return{show:[],hide:[]}}function a(t,y,E){t?y.hide.push(E):y.show.push(E)}function h(t){t.show.forEach(s),t.hide.forEach(m)}function v(t,y,E=.3){y?N(t,E):F(t)}function F(t){t.style.opacity=""}function N(t,y=.3){t.style.opacity=y}function A(t){t.style.order=""}function U(t,y){t.style.order=y}function O(t,y,E,L="inline-flex"){y.style.display=t?L:"none",E.style.display=t?"none":L}function I(t,y=.3){t.style.transition="opacity 0.3s",t.style.opacity=y,b(t)}function D(t){t.style.opacity="",C(t)}function Z(t){t.style.animation="loading-pulse 2.5s ease-in-out infinite",b(t)}function w(t){t.style.animation="",C(t)}function b(t){t.style.pointerEvents="none",t.style.cursor="wait"}function C(t){t.style.pointerEvents="",t.style.cursor=""}function k(t,y){const E=getFirstElement(y);E&&B(t,E)}function B(t,y){const E=createLink();E.href=t,y.parentNode.append(E),E.append(y)}function G(t,y){const E=getFirstElement(y);E&&P(t,E)}function P(t,y,E={}){const L=createLink(E);L.href=t,L.append(...y.childNodes),y.append(L)}function z(){const t=getURLQueryParam("scrollTo");if(!t)return;const y=document.getElementById(t);y?y.scrollIntoView():console.log(`Element with ID "${t}" was not found.`)}function $(t,y,E=null){const L=`${y}-click-passed`,j=E?V=>findElementByText(V,t,E):V=>getFirstElement(t,V);return function(V){if(V.hasAttribute(L))return!1;const Y=j(V);return Y&&Y.click(),V.setAttribute(L,""),!0}}function R(t,y,E="text/plain"){const L=new Blob([t],{type:E}),j=URL.createObjectURL(L),V=document.createElement("a");V.href=j,V.download=y,document.body.appendChild(V),V.click(),document.body.removeChild(V),requestAnimationFrame(()=>URL.revokeObjectURL(j))}},6754:(x,f,n)=>{n.d(f,{ZM:()=>p});function p(l,c){Object.assign(l.style,c)}function m(l,c="custom-global-style"){let o=document.getElementById(c);o||(o=document.createElement("style"),o.id=c,o.type="text/css",document.head.appendChild(o)),o.textContent=l}function g(l){return Object.entries(l).map(([c,o])=>`${c.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${o};`).join(" ")}function d(l){return l?l.split(";").filter(c=>c.trim()!=="").reduce((c,o)=>{const[s,e]=o.split(":").map(i=>i.trim()),u=s.replace(/-([a-z])/g,(i,r)=>r.toUpperCase());return c[u]=e,c},{}):{}}},4921:(x,f,n)=>{n.d(f,{sg:()=>d,xk:()=>p});function p(e,u,i=null){const r=e.querySelector(u);return r?Promise.resolve(r):new Promise(S=>{const T=new MutationObserver(h);T.observe(e,{childList:!0,subtree:!0});let a;i&&(a=setTimeout(()=>{T.disconnect(),console.log(`No element found for selector: ${u}`),S(null)},i));function h(){const v=e.querySelector(u);v&&(a&&clearTimeout(a),T.disconnect(),S(v))}})}function m(e,u){return e.querySelector(u)?new Promise(r=>{const S=new MutationObserver(T);S.observe(e,{childList:!0,subtree:!0});function T(){e.querySelector(u)||(S.disconnect(),r())}}):Promise.resolve()}function g(e,u=400){return new Promise(i=>{let r;const S=new MutationObserver(()=>{clearTimeout(r),T()});function T(){r=setTimeout(()=>{S.disconnect(),i()},u)}T(),S.observe(e,{childList:!0,subtree:!0})})}function d(e,u=250){let i;return function(...r){const S=this;clearTimeout(i),i=setTimeout(()=>e.apply(S,r),u)}}async function l(e){document.visibilityState==="visible"?await e():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await e()},{once:!0})}function c(e,u){const i=new IntersectionObserver(r=>{r.forEach(S=>{S.isIntersecting&&(u(),o(e))})});e.intersectionObserver=i,i.observe(e)}function o(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}function s(e){e&&(e.disconnect(),e=null)}},3829:(x,f,n)=>{n.d(f,{Ay:()=>m,JE:()=>c,iG:()=>o});var p=n(8355);function m(i,r){return!g(i,r)}function g(i,r){if(!r||!r.value)return!0;const S=(0,p._7)(r.value);return d(i,S)}function d(i,r){if(!r||!r.length)return!0;const S=(i||"").toLowerCase();return r.every(T=>l(S,T))}function l(i,r){return r.some(({term:S,isNegative:T})=>{const a=i.includes(S);return T?!a:a})}function c(i,r){return r.value!=null&&i<r.value}function o(i,r){return r.value!=null&&i>r.value}function s(i,r){return r.value==null?!1:i<parseDateFromISO(r.value)}function e(i,r){return r.value==null?!1:i>parseDateFromISO(r.value)}function u(i,r){return r.value&&i!==r.value}},4521:(x,f,n)=>{n.d(f,{z:()=>m});var p=n(3048);function m(g,d=null){return{createGlobalFilter(l,c=null,o=g){return p.V.create(l,c,o)},createSectionFilter(l,c=null,o=g){if(!d)throw new Error("sectionId must be provided to use createSectionFilter.");return p.V.createWithCompositeKey(d,l,c,o)}}}},5884:(x,f,n)=>{n.d(f,{Hw:()=>o,Nm:()=>g,nW:()=>d});var p=n(5467),m=n(740);function g(s,e,u={},i={}){const r=(0,m.kU)(i,e.updateValueFromEvent,e.value);return(0,p.E2)(r,u,s)}function d(s,e,u,i,r,S={},T={}){const a=(0,m.o5)(T,e.updateValueFromEvent,e.value,u,i,r);return(0,p.E2)(a,S,s)}function l(s,e,u={},i={}){const r=createSelect(i,e.updateValueFromEvent,e.value);return createControl(r,u,s)}function c(s,e,u={},i={}){const r=createDateInput(i,e.updateValueFromEvent,e.value);return createControl(r,u,s)}function o(s,e,u={},i={}){const r=(0,m.S)(i,e.updateValueFromEvent,e.value);return(0,p.E2)(r,u,s)}},4402:(x,f,n)=>{n.d(f,{r:()=>m});var p=n(7273);function m(l={}){return(0,p.S)(l,"|")}function g(l,c={},o="customFiltersContainer"){const s=document.getElementById(o);if(!s)return console.log(`Element with id="${o}" not found.`),null;const e=createButton(c,`${arrowUpIcon}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return e.addEventListener("mouseenter",()=>{e.style.filter="brightness(0.9)"}),e.addEventListener("mouseleave",()=>{e.style.filter="brightness(1)"}),e.addEventListener("click",()=>{const u=s.getBoundingClientRect();window.scrollTo({top:u.top+window.scrollY-l,behavior:"smooth"})}),new IntersectionObserver(([u])=>{const i=u.boundingClientRect.top<0,r=!u.isIntersecting&&i;e.style.display=r?"flex":"none"},{threshold:.5}).observe(s),e}function d(l,c={},o=75){const s=g(o,c);s&&l.appendChild(s)}},7877:(x,f,n)=>{n.d(f,{E9:()=>m,EY:()=>N,H1:()=>T,HX:()=>g,X0:()=>l,pW:()=>D});var p=n(5884);function m(w,b={},C={}){return(0,p.Nm)("\u041F\u043E\u0438\u0441\u043A: ",w,b,C)}function g(w,b={},C={},k=.1,B=3){return(0,p.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,k,B,5,b,C)}function d(w,b={},C={},k=.1,B=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,k,B,5,b,C)}function l(w,b={},C={}){return o("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,b,C)}function c(w,b={},C={}){return o("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,b,C)}function o(w,b,C={},k={}){return(0,p.nW)(w,b,"1","1","999999",C,k)}function s(w,b={},C={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",w,b,C)}function e(w,b={},C={}){return u("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",w,b,C)}function u(w,b,C={},k={}){return createNumberFilterControl(w,b,"5","0","100",C,k)}function i(w,b={},C={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",w,"5","0","100",b,C)}function r(w,b,C={},k={},B="250"){return(0,p.nW)(w,b,B,"0","1000000",C,k)}function S(w,b={},C={},k="25"){return r("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",w,b,C,k)}function T(w,b={},C={},k="25"){return r("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",w,b,C,k)}function a(w,b={},C={}){return h("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",w,b,C)}function h(w,b,C={},k={}){return createNumberFilterControl(w,b,"1","0","99999",C,k)}function v(w,b={},C={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",w,"1","2","8",b,C)}function F(w,b={},C={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",w,1,1,10,b,C)}function N(w,b={},C={}){return(0,p.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",w,b,C)}function A(w,b={},C={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",w,b,C)}function U(w,b={},C={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",w,b,C)}function O(w,b={},C={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",w,b,C)}function I(w,b={},C={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",w,b,C)}function D(w,b={},C={}){return(0,p.Hw)("\u0412\u043A\u043B: ",w,b,C)}function Z(w,b,C={}){const k=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],B={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},G=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),P=[],z=()=>b?parseFloat(b.value)||0:w.value,$=()=>{const R=z();P.forEach(({button:t,value:y})=>{const L=y<=R?B.active:B.inactive;Object.assign(t.style,L)})};return k.forEach(({value:R,emoji:t,tooltip:y})=>{const E=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...C},t);E.title=y,E.type="button",E.addEventListener("click",L=>{L.preventDefault(),w.updateValue(R),b&&(b.value=R),$()}),E.addEventListener("mouseenter",()=>{R<=z()||(E.style.background=B.hover.background)}),E.addEventListener("mouseleave",()=>{$()}),P.push({button:E,value:R}),G.appendChild(E)}),$(),b&&(b.addEventListener("input",$),b.addEventListener("change",$)),G}},8355:(x,f,n)=>{n.d(f,{_7:()=>m});function p(e){if(!e)return[];const i=m(e).flat().filter(r=>r&&!r.isNegative&&r.term).map(r=>r.term);return[...new Set(i)]}function m(e){return e?e.toLowerCase().split(",").map(g).filter(Boolean):[]}function g(e){const u=e.split("/").map(r=>r.trim()).filter(Boolean);if(u.length===0)return null;const i=u.map(d).filter(Boolean);return i.length>0?i:null}function d(e){const u=e.startsWith("!"),i=u?e.slice(1).trim():e;return i?{term:i,isNegative:u}:null}function l(e,u){o(e,i=>i.style.display!=="none",u)}function c(e,u){o(e,i=>i.style.opacity==="",u)}function o(e,u,i){const r=[...e].filter(u).length,S=e.length;s(i,r,S)}function s(e,u,i){e.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${u} \u0438\u0437 ${i}`}},5213:(x,f,n)=>{n.d(f,{b:()=>m});var p=n(7273);function m(g,d,l=!1,c="customFiltersContainer"){let o=g.querySelector(`#${c}`);if(o){if(!l)return;o.replaceChildren()}else o=(0,p.S)(),o.id=c;d(o,g)}},4444:(x,f,n)=>{n.d(f,{s:()=>p});function p(m){let l=2166136261;for(let c=0;c<m.length;c+=1){const o=m.charCodeAt(c);l^=o,l=Math.imul(l,16777619)}return l>>>0}},5081:(x,f,n)=>{n.d(f,{B:()=>g});var p=n(4444);function m(d){return(0,p.s)(d).toString(16).padStart(8,"0")}function g(d,l="common"){return d?m(d):l}},8200:(x,f,n)=>{n.d(f,{s:()=>p});function p(m){const{target:g}=m,{type:d}=g;switch(d){case"text":return`"${g.value}"`;case"number":return g.value;case"select-one":return g.value;case"date":return`"${g.value}"`;case"checkbox":return g.checked;default:return console.log(`Unknown input type: ${d}`),null}}},157:(x,f,n)=>{n.d(f,{Fg:()=>p,vx:()=>g});const p=window.GM_setValue,m=window.GM.setValue,g=window.GM_getValue},1870:(x,f,n)=>{n.d(f,{j:()=>p});class p{constructor(g,d){this.value=g,this.onChange=d}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(x,f,n)=>{n.d(f,{V:()=>l});var p=n(1870),m=n(8200),g=n(3976),d=n(157);class l extends p.j{constructor(o,s=null,e=null){super((0,d.vx)(o,s),e),this.storageKey=o,this.defaultValue=s}static create(o,s=null,e=null){return new l(o,s,e)}static createWithCompositeKey(o,s,e=null,u=null){const i=`${o}-${s}`;return new l(i,e,u)}updateValueFromEvent=o=>{const s=(0,m.s)(o),e=(0,g.$)(s);this.updateValue(e)};updateValue(o,s=!0){this.value!==o&&((0,d.Fg)(this.storageKey,o),this.value=o,s&&this.onChangeIfDefined())}clearValue(o=!1){this.updateValue(null,o)}resetValue(o=!1){this.updateValue(this.defaultValue,o)}}},3976:(x,f,n)=>{n.d(f,{$:()=>p});function p(m){return m===""?null:JSON.parse(m)}},4214:(x,f,n)=>{n.d(f,{zr:()=>m});function p(c){return c.replace(/\D/g,"")}function m(c){return c.replace(/[^\d.,-]/g,"")}function g(c){return c.replace(/\s/g,"")}function d(c){return c.charAt(0).toUpperCase()+c.slice(1)}function l(c){return c.replace(/\s+/g," ").trim()}},5406:(x,f,n)=>{n.d(f,{Es:()=>T,Fc:()=>p});function p(a,h="common",v=!1){const{pathname:F}=window.location;return m(F,a,h,v)}function m(a,h,v,F=!1){const N=a.split("/");h=h<0?N.length+h:h;const A=N[h]||v;return F&&console.log(`Pathname element: ${A}`),A}function g(a,h="common",v=!1){const F=p(a,"",v);return d(F,h,v)}function d(a,h,v){if(!a)return h;const F=a.split("-").at(-1);return v&&console.log(`Pathname element ending: ${F}`),F}function l(a,h,v="common",F=!1){const N=m(a,h,"",F);return d(N,v,F)}function c(a){return new URLSearchParams(window.location.search).get(a)}function o(a){return a.split("?")[0]}function s(a){return window.location.pathname.includes(a)}function e(a){return a.some(h=>s(h))}function u(...a){return window.location.pathname.split("/").some(v=>a.includes(v))}function i(a){try{const h=new URL(window.location.href);Object.entries(a).forEach(([v,F])=>{h.searchParams.set(v,F)}),window.location.href=h.toString()}catch(h){console.error("Failed to redirect:",h)}}function r(a,h=[]){const v=new AbortController;let F=!1;const N=U=>{const O=new URL(U),I={pathname:O.pathname};return h.forEach(D=>{I[D]=O.searchParams.get(D)}),I};let A=N(window.location.href);return window.navigation.addEventListener("navigatesuccess",async()=>{if(F)return;const U=N(window.navigation.currentEntry.url);if(Object.keys(A).some(I=>A[I]!==U[I])){A=U,F=!0;try{await a(U)}catch(I){console.error("URL observer error:",I)}finally{F=!1}}},{signal:v.signal}),()=>v.abort()}function S(a,h=[]){const v={pathname:window.location.pathname};h.forEach(O=>{v[O]=c(O)});let F=!1;async function N(){if(F)return;const O={pathname:window.location.pathname};if(h.forEach(I=>{O[I]=c(I)}),Object.keys(v).some(I=>v[I]!==O[I])){Object.assign(v,O),F=!0;try{await a()}catch(I){console.error("Error in URL observer callback:",I)}finally{F=!1}}}function A(){N().catch(O=>{console.error("Error in URL change handler:",O)})}let U=window.location.href;setInterval(()=>{window.location.href!==U&&(console.log("URL changed:",window.location.href),U=window.location.href,A())},200),window.addEventListener("popstate",A)}function T(a=[]){S(()=>window.location.reload(),a)}},9473:(x,f,n)=>{n.a(x,async(p,m)=>{try{let k=function(){const R=(0,o.Fi)(e.Z.CHIP_LIST_ROOT);R&&((0,g.b)(R,B),G())},B=function(R,t){(0,h.ZM)(R,u.r.FILTERS_CONTAINER);const y=(0,s.E9)(A,u.r.CONTROL,u.r.TEXT_INPUT),E=(0,s.X0)(U,u.r.CONTROL,u.r.NUMBER_INPUT),L=(0,s.HX)(O,u.r.CONTROL,u.r.NUMBER_INPUT),j=(0,s.EY)(I,u.r.CONTROL,u.r.CHECKBOX_INPUT),V=(0,s.H1)(D,u.r.CONTROL,u.r.NUMBER_INPUT),Y=(0,T.nW)("\u041C\u0438\u043D. \u0440\u0430\u0437\u043C\u0435\u0440: ",Z,"2","1","10000",u.r.CONTROL,u.r.NUMBER_INPUT),J=(0,a.r)(u.r.CONTROL),W=(0,s.pW)(w,u.r.CONTROL,u.r.CHECKBOX_INPUT);R.append(y,E,L,j,V,Y,J,W),t.append(R)},G=function(){(0,o.fI)(e.Z.PRODUCT).forEach(P)},P=function(R){if(!w.value){(0,c.kl)(R);return}const t=(0,o.Fi)(e.Z.PRODUCT_NAME,R),y=(0,o.Fi)(e.Z.PRODUCT_PRICE,R);if(!t||!y){(0,c.Bt)(R);return}t.style.webkitLineClamp=3;const E=t.innerText,L=(0,o.sf)(y),j=(0,o.ML)(L,!0,!0),V=(0,l.Ay)(E,A)||z(R)||(0,l.iG)(j,D)||$(R);(0,c.UC)(R,V)},z=function(R){const t=(0,o.Fi)(e.Z.PRODUCT_RATING,R),y=(0,o.Fi)(e.Z.PRODUCT_REVIEWS,R);if(!t||t.innerText.startsWith("\u043C\u0430\u043B\u043E")||!y)return!I.value;const E=(0,o.YA)(y,!0,!1,0),L=(0,o.YA)(t,!0,!0,0);return(0,l.JE)(E,U)||(0,l.JE)(L,O)},$=function(R){const t=(0,o.Fi)(e.Z.PRODUCT_VOLUME,R);if(!t)return!1;const y=(0,o.YA)(t,!0,!0,0);return(0,l.JE)(y,Z)};var g=n(5213),d=n(5406),l=n(3829),c=n(5539),o=n(573),s=n(7877),e=n(3491),u=n(939),i=n(4521),r=n(4921),S=n(5081),T=n(5884),a=n(4402),h=n(6754);const v=(0,S.B)((0,d.Fc)(3)+(0,d.Fc)(4,""));(0,d.Es)();const{createGlobalFilter:F,createSectionFilter:N}=(0,i.z)(G,v),A=N("name-filter"),U=N("min-reviews-filter"),O=N("min-rating-filter",4.8),I=N("no-rating-filter",!1),D=N("max-price-filter"),Z=N("min-volume-filter"),w=F("filter-enabled",!0),b={productRoot:null},C=(0,o.Fi)(e.Z.CATEGORY_ROOT);C&&(b.productRoot=await(0,r.xk)(C,e.Z.PRODUCTS_ROOT),k(),new MutationObserver((0,r.sg)(k)).observe(b.productRoot,{childList:!0,subtree:!0})),m()}catch(v){m(v)}},1)},3491:(x,f,n)=>{n.d(f,{Z:()=>p});const p={CATEGORY_ROOT:'[class^="Category_root_"]',PRODUCTS_ROOT:'[class^="Products_root_"]',CHIP_LIST_ROOT:'[class^="ChipsList_root_"]',PRODUCT:'[class^="ProductCard_root_"]',PRODUCT_NAME:'[class^="ProductCard_title_"]',PRODUCT_PRICE:'[class^="ProductCardPrice_price_"]',PRODUCT_RATING:'[class^="RatingBadge_root_"] > span:nth-child(1) > span',PRODUCT_REVIEWS:'[class^="RatingBadge_root_"] > span:nth-child(2) > span',PRODUCT_VOLUME:'[class^="ProductCard_volume_"]'}},939:(x,f,n)=>{n.d(f,{r:()=>m});const p={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px",height:"20px",backgroundColor:"#fff",boxShadow:"none"}},m={FILTERS_CONTAINER:{display:"flex",gridGap:"12px",paddingTop:"8px",flexFlow:"wrap"},CONTROL:{display:"flex",alignItems:"center",fontSize:"15px"},TEXT_INPUT:{...p.INPUT,width:"150px"},NUMBER_INPUT:{...p.INPUT,width:"55px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}}},X={};function H(x){var f=X[x];if(f!==void 0)return f.exports;var n=X[x]={exports:{}};return Q[x](n,n.exports,H),n.exports}(()=>{var x=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",n=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",p=g=>{g&&g.d<1&&(g.d=1,g.forEach(d=>d.r--),g.forEach(d=>d.r--?d.r++:d()))},m=g=>g.map(d=>{if(d!==null&&typeof d=="object"){if(d[x])return d;if(d.then){var l=[];l.d=0,d.then(s=>{c[f]=s,p(l)},s=>{c[n]=s,p(l)});var c={};return c[x]=s=>s(l),c}}var o={};return o[x]=s=>{},o[f]=d,o});H.a=(g,d,l)=>{var c;l&&((c=[]).d=-1);var o=new Set,s=g.exports,e,u,i,r=new Promise((S,T)=>{i=T,u=S});r[f]=s,r[x]=S=>(c&&S(c),o.forEach(S),r.catch(T=>{})),g.exports=r,d(S=>{e=m(S);var T,a=()=>e.map(v=>{if(v[n])throw v[n];return v[f]}),h=new Promise(v=>{T=()=>v(a),T.r=0;var F=N=>N!==c&&!o.has(N)&&(o.add(N),N&&!N.d&&(T.r++,N.push(T)));e.map(N=>N[x](F))});return T.r?h:a()},S=>(S?i(r[n]=S):u(s),p(c))),c&&c.d<0&&(c.d=0)}})(),H.d=(x,f)=>{for(var n in f)H.o(f,n)&&!H.o(x,n)&&Object.defineProperty(x,n,{enumerable:!0,get:f[n]})},H.o=(x,f)=>Object.prototype.hasOwnProperty.call(x,f);var M=H(9473)})();})();
