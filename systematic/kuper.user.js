// ==UserScript==
// @name         Kuper product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://kuper.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.77144488
// @icon         https://www.google.com/s2/favicons?sz=64&domain=kuper.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/kuper.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var X={7273:(x,f,n)=>{n.d(f,{S:()=>v});var p=n(5558);function m(d={},l=null){return createElement("span",d,l)}function v(d={},l=null){return(0,p.n)("div",d,l)}},5467:(x,f,n)=>{n.d(f,{E2:()=>m});var p=n(7273);function m(l,c={},u=null){const s=(0,p.S)(c,u);return s.append(l),s}function v(l,c=null,u={},s={}){const e=createActionLink(l,c,s);return m(e,u)}function d(l,c=null,u=null,s={},e={},o={}){const i=createActionLinkWithIcon(l,u,c,e,o);return m(i,s)}},5558:(x,f,n)=>{n.d(f,{n:()=>m});var p=n(6754);function m(v,d,l=null){if(typeof d!="object"||d===null)throw new TypeError("styles should be an object");const c=document.createElement(v);return(0,p.ZM)(c,d),l&&(c.innerHTML=l),c}},740:(x,f,n)=>{n.d(f,{S:()=>c,kU:()=>v,o5:()=>d});var p=n(5558),m=n(4921);function v(e,o,i){const r=u(e,"text",o);return r.value=i,r}function d(e,o,i,r,S,N){const a=u(e,"number",o);return a.value=i,a.step=r,a.min=S,a.max=N,a}function l(e,o,i){const r=u(e,"date",o);return r.value=i,r}function c(e,o,i){const r=u(e,"checkbox",o);return r.checked=i,r}function u(e={},o=null,i=null){const r=(0,p.n)("input",e);return o&&(r.type=o),i&&(r.addEventListener("keyup",(0,m.sg)(i,200)),r.addEventListener("change",(0,m.sg)(i,100))),r}function s(e,o,i){const r=createElement("select",e);return o&&r.addEventListener("change",o),r.value=i,r}},573:(x,f,n)=>{n.d(f,{Fi:()=>v,ML:()=>o,YA:()=>s,fI:()=>d,sf:()=>r});var p=n(4214);function m(a,b=document){return!!b.querySelector(a)}function v(a,b=document,y=!1){const w=b.querySelector(a);return y&&!w&&console.log(`No element found for selector: ${a}`),w}function d(a,b=document,y=!1){const w=b.querySelectorAll(a);return y&&!w.length&&console.log(`No elements found for selector: ${a}`),w}function l(a,b=1){let y=a;for(let w=0;w<b;w++){if(!y.parentElement)return null;y=y.parentElement}return y}function c(a,b,y){return[...a.querySelectorAll(b)].find(w=>w.textContent.trim().includes(y))}function u(a,b,y=!1,w=!1,T=null){const V=v(b,a);return s(V,y,w,T)}function s(a,b=!1,y=!1,w=null){if(!a)return w===null?(console.log("No element found"),null):w;const T=a.innerText;return i(T,b,y)}function e(a,b,y=!1){const w=a[b];return s(w,y)}function o(a,b=!1,y=!1){const w=a.textContent;return i(w,b,y)}function i(a,b,y){b&&(a=(0,p.zr)(a)),y&&(a=a.replace(",","."));const w=Number(a);return Number.isNaN(w)?(console.log(`Invalid number: ${a}`),0):w}function r(a){return[...a.childNodes].find(b=>b.nodeType===Node.TEXT_NODE)}function S(a){const b=y=>y.nodeType===Node.TEXT_NODE&&y.textContent.trim()!==""?[y]:[...y.childNodes].flatMap(b);return b(a)}function N(a){return normalizeSpacing(a.textContent)}},5539:(x,f,n)=>{n.d(f,{Bt:()=>m,UC:()=>o,kl:()=>s});function p(t,g){t.parentNode.insertBefore(g,t.nextSibling)}function m(t){t.style.display="none"}function v(t,g=1){const E=document.querySelector(t);E&&d(E,g)}function d(t,g=1){const E=getElementAncestor(t,g);E&&m(E)}function l(t,g,E){const R=findElementByText(t,g,E);R&&m(R)}function c(t){S(t),m(t)}function u(t){t.intersectionObserver||runOnceOnIntersection(t,()=>m(t))}function s(t){t.style.display=""}function e(t){const g=r(t);t.style.display=g}function o(t,g){g?m(t):s(t)}function i(t,g){g?u(t):(clearIntersectionObserver(t),s(t))}function r(t){return S(t),t.dataset.defaultDisplay}function S(t){if(t.dataset.defaultDisplay)return;const{display:g}=getComputedStyle(t);t.dataset.defaultDisplay=g}function N(){return{show:[],hide:[]}}function a(t,g,E){t?g.hide.push(E):g.show.push(E)}function b(t){t.show.forEach(s),t.hide.forEach(m)}function y(t,g,E=.3){g?T(t,E):w(t)}function w(t){t.style.opacity=""}function T(t,g=.3){t.style.opacity=g}function V(t){t.style.order=""}function U(t,g){t.style.order=g}function B(t,g,E,R="inline-flex"){g.style.display=t?R:"none",E.style.display=t?"none":R}function A(t,g=.3){t.style.transition="opacity 0.3s",t.style.opacity=g,h(t)}function D(t){t.style.opacity="",C(t)}function Z(t){t.style.animation="loading-pulse 2.5s ease-in-out infinite",h(t)}function F(t){t.style.animation="",C(t)}function h(t){t.style.pointerEvents="none",t.style.cursor="wait"}function C(t){t.style.pointerEvents="",t.style.cursor=""}function L(t,g){const E=getFirstElement(g);E&&O(t,E)}function O(t,g){const E=createLink();E.href=t,g.parentNode.append(E),E.append(g)}function G(t,g){const E=getFirstElement(g);E&&P(t,E)}function P(t,g,E={}){const R=createLink(E);R.href=t,R.append(...g.childNodes),g.append(R)}function z(){const t=getURLQueryParam("scrollTo");if(!t)return;const g=document.getElementById(t);g?g.scrollIntoView():console.log(`Element with ID "${t}" was not found.`)}function $(t,g,E=null){const R=`${g}-click-passed`,H=E?I=>findElementByText(I,t,E):I=>getFirstElement(t,I);return function(I){if(I.hasAttribute(R))return!1;const Y=H(I);return Y&&Y.click(),I.setAttribute(R,""),!0}}function k(t,g,E="text/plain"){const R=new Blob([t],{type:E}),H=URL.createObjectURL(R),I=document.createElement("a");I.href=H,I.download=g,document.body.appendChild(I),I.click(),document.body.removeChild(I),requestAnimationFrame(()=>URL.revokeObjectURL(H))}},6754:(x,f,n)=>{n.d(f,{ZM:()=>p});function p(l,c){Object.assign(l.style,c)}function m(l,c="custom-global-style"){let u=document.getElementById(c);u||(u=document.createElement("style"),u.id=c,u.type="text/css",document.head.appendChild(u)),u.textContent=l}function v(l){return Object.entries(l).map(([c,u])=>`${c.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${u};`).join(" ")}function d(l){return l?l.split(";").filter(c=>c.trim()!=="").reduce((c,u)=>{const[s,e]=u.split(":").map(i=>i.trim()),o=s.replace(/-([a-z])/g,(i,r)=>r.toUpperCase());return c[o]=e,c},{}):{}}},4921:(x,f,n)=>{n.d(f,{sg:()=>d,xk:()=>p});function p(e,o,i=null){const r=e.querySelector(o);return r?Promise.resolve(r):new Promise(S=>{const N=new MutationObserver(b);N.observe(e,{childList:!0,subtree:!0});let a;i&&(a=setTimeout(()=>{N.disconnect(),console.log(`No element found for selector: ${o}`),S(null)},i));function b(){const y=e.querySelector(o);y&&(a&&clearTimeout(a),N.disconnect(),S(y))}})}function m(e,o){return e.querySelector(o)?new Promise(r=>{const S=new MutationObserver(N);S.observe(e,{childList:!0,subtree:!0});function N(){e.querySelector(o)||(S.disconnect(),r())}}):Promise.resolve()}function v(e,o=400){return new Promise(i=>{let r;const S=new MutationObserver(()=>{clearTimeout(r),N()});function N(){r=setTimeout(()=>{S.disconnect(),i()},o)}N(),S.observe(e,{childList:!0,subtree:!0})})}function d(e,o=250){let i;return function(...r){const S=this;clearTimeout(i),i=setTimeout(()=>e.apply(S,r),o)}}async function l(e){document.visibilityState==="visible"?await e():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await e()},{once:!0})}function c(e,o){const i=new IntersectionObserver(r=>{r.forEach(S=>{S.isIntersecting&&(o(),u(e))})});e.intersectionObserver=i,i.observe(e)}function u(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}function s(e){e&&(e.disconnect(),e=null)}},3829:(x,f,n)=>{n.d(f,{Ay:()=>m,JE:()=>c,iG:()=>u});var p=n(8355);function m(i,r){return!v(i,r)}function v(i,r){if(!r||!r.value)return!0;const S=(0,p._7)(r.value);return d(i,S)}function d(i,r){if(!r||!r.length)return!0;const S=(i||"").toLowerCase();return r.every(N=>l(S,N))}function l(i,r){return r.some(({term:S,isNegative:N})=>{const a=i.includes(S);return N?!a:a})}function c(i,r){return r.value!=null&&i<r.value}function u(i,r){return r.value!=null&&i>r.value}function s(i,r){return r.value==null?!1:i<parseDateFromISO(r.value)}function e(i,r){return r.value==null?!1:i>parseDateFromISO(r.value)}function o(i,r){return r.value&&i!==r.value}},4521:(x,f,n)=>{n.d(f,{z:()=>m});var p=n(3048);function m(v,d=null){return{createGlobalFilter(l,c=null,u=v){return p.V.create(l,c,u)},createSectionFilter(l,c=null,u=v){if(!d)throw new Error("sectionId must be provided to use createSectionFilter.");return p.V.createWithCompositeKey(d,l,c,u)}}}},5884:(x,f,n)=>{n.d(f,{Hw:()=>u,Nm:()=>v,nW:()=>d});var p=n(5467),m=n(740);function v(s,e,o={},i={}){const r=(0,m.kU)(i,e.updateValueFromEvent,e.value);return(0,p.E2)(r,o,s)}function d(s,e,o,i,r,S={},N={}){const a=(0,m.o5)(N,e.updateValueFromEvent,e.value,o,i,r);return(0,p.E2)(a,S,s)}function l(s,e,o={},i={}){const r=createSelect(i,e.updateValueFromEvent,e.value);return createControl(r,o,s)}function c(s,e,o={},i={}){const r=createDateInput(i,e.updateValueFromEvent,e.value);return createControl(r,o,s)}function u(s,e,o={},i={}){const r=(0,m.S)(i,e.updateValueFromEvent,e.value);return(0,p.E2)(r,o,s)}},4402:(x,f,n)=>{n.d(f,{r:()=>m});var p=n(7273);function m(l={}){return(0,p.S)(l,"|")}function v(l,c={},u="customFiltersContainer"){const s=document.getElementById(u);if(!s)return console.log(`Element with id="${u}" not found.`),null;const e=createButton(c,`${arrowUpIcon}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return e.addEventListener("mouseenter",()=>{e.style.filter="brightness(0.9)"}),e.addEventListener("mouseleave",()=>{e.style.filter="brightness(1)"}),e.addEventListener("click",()=>{const o=s.getBoundingClientRect();window.scrollTo({top:o.top+window.scrollY-l,behavior:"smooth"})}),new IntersectionObserver(([o])=>{const i=o.boundingClientRect.top<0,r=!o.isIntersecting&&i;e.style.display=r?"flex":"none"},{threshold:.5}).observe(s),e}function d(l,c={},u=75){const s=v(u,c);s&&l.appendChild(s)}},7877:(x,f,n)=>{n.d(f,{E9:()=>m,EY:()=>T,H1:()=>N,HX:()=>v,X0:()=>l,pW:()=>D});var p=n(5884);function m(F,h={},C={}){return(0,p.Nm)("\u041F\u043E\u0438\u0441\u043A: ",F,h,C)}function v(F,h={},C={},L=.1,O=3){return(0,p.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",F,L,O,5,h,C)}function d(F,h={},C={},L=.1,O=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",F,L,O,5,h,C)}function l(F,h={},C={}){return u("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",F,h,C)}function c(F,h={},C={}){return u("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",F,h,C)}function u(F,h,C={},L={}){return(0,p.nW)(F,h,"1","1","999999",C,L)}function s(F,h={},C={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",F,h,C)}function e(F,h={},C={}){return o("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",F,h,C)}function o(F,h,C={},L={}){return createNumberFilterControl(F,h,"5","0","100",C,L)}function i(F,h={},C={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",F,"5","0","100",h,C)}function r(F,h,C={},L={},O="250"){return(0,p.nW)(F,h,O,"0","1000000",C,L)}function S(F,h={},C={},L="25"){return r("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",F,h,C,L)}function N(F,h={},C={},L="25"){return r("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",F,h,C,L)}function a(F,h={},C={}){return b("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",F,h,C)}function b(F,h,C={},L={}){return createNumberFilterControl(F,h,"1","0","99999",C,L)}function y(F,h={},C={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",F,"1","2","8",h,C)}function w(F,h={},C={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",F,1,1,10,h,C)}function T(F,h={},C={}){return(0,p.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",F,h,C)}function V(F,h={},C={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",F,h,C)}function U(F,h={},C={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",F,h,C)}function B(F,h={},C={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",F,h,C)}function A(F,h={},C={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",F,h,C)}function D(F,h={},C={}){return(0,p.Hw)("\u0412\u043A\u043B: ",F,h,C)}function Z(F,h,C={}){const L=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],O={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},G=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),P=[],z=()=>h?parseFloat(h.value)||0:F.value,$=()=>{const k=z();P.forEach(({button:t,value:g})=>{const R=g<=k?O.active:O.inactive;Object.assign(t.style,R)})};return L.forEach(({value:k,emoji:t,tooltip:g})=>{const E=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...C},t);E.title=g,E.type="button",E.addEventListener("click",R=>{R.preventDefault(),F.updateValue(k),h&&(h.value=k),$()}),E.addEventListener("mouseenter",()=>{k<=z()||(E.style.background=O.hover.background)}),E.addEventListener("mouseleave",()=>{$()}),P.push({button:E,value:k}),G.appendChild(E)}),$(),h&&(h.addEventListener("input",$),h.addEventListener("change",$)),G}},8355:(x,f,n)=>{n.d(f,{_7:()=>m});function p(e){if(!e)return[];const i=m(e).flat().filter(r=>r&&!r.isNegative&&r.term).map(r=>r.term);return[...new Set(i)]}function m(e){return e?e.toLowerCase().split(",").map(v).filter(Boolean):[]}function v(e){const o=e.split("/").map(r=>r.trim()).filter(Boolean);if(o.length===0)return null;const i=o.map(d).filter(Boolean);return i.length>0?i:null}function d(e){const o=e.startsWith("!"),i=o?e.slice(1).trim():e;return i?{term:i,isNegative:o}:null}function l(e,o){u(e,i=>i.style.display!=="none",o)}function c(e,o){u(e,i=>i.style.opacity==="",o)}function u(e,o,i){const r=[...e].filter(o).length,S=e.length;s(i,r,S)}function s(e,o,i){e.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${o} \u0438\u0437 ${i}`}},5213:(x,f,n)=>{n.d(f,{b:()=>m});var p=n(7273);function m(v,d,l=!1,c="customFiltersContainer"){let u=v.querySelector(`#${c}`);if(u){if(!l)return;u.replaceChildren()}else u=(0,p.S)(),u.id=c;d(u,v)}},4444:(x,f,n)=>{n.d(f,{s:()=>p});function p(m){let l=2166136261;for(let c=0;c<m.length;c+=1){const u=m.charCodeAt(c);l^=u,l=Math.imul(l,16777619)}return l>>>0}},5081:(x,f,n)=>{n.d(f,{B:()=>v});var p=n(4444);function m(d){return(0,p.s)(d).toString(16).padStart(8,"0")}function v(d,l="common"){return d?m(d):l}},8200:(x,f,n)=>{n.d(f,{s:()=>p});function p(m){const{target:v}=m,{type:d}=v;switch(d){case"text":return`"${v.value}"`;case"number":return v.value;case"select-one":return v.value;case"date":return`"${v.value}"`;case"checkbox":return v.checked;default:return console.log(`Unknown input type: ${d}`),null}}},157:(x,f,n)=>{n.d(f,{Fg:()=>p,vx:()=>v});const p=window.GM_setValue,m=window.GM.setValue,v=window.GM_getValue},1870:(x,f,n)=>{n.d(f,{j:()=>p});class p{constructor(v,d){this.value=v,this.onChange=d}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(x,f,n)=>{n.d(f,{V:()=>l});var p=n(1870),m=n(8200),v=n(3976),d=n(157);class l extends p.j{constructor(u,s=null,e=null){super((0,d.vx)(u,s),e),this.storageKey=u,this.defaultValue=s}static create(u,s=null,e=null){return new l(u,s,e)}static createWithCompositeKey(u,s,e=null,o=null){const i=`${u}-${s}`;return new l(i,e,o)}updateValueFromEvent=u=>{const s=(0,m.s)(u),e=(0,v.$)(s);this.updateValue(e)};updateValue(u,s=!0){this.value!==u&&((0,d.Fg)(this.storageKey,u),this.value=u,s&&this.onChangeIfDefined())}clearValue(u=!1){this.updateValue(null,u)}resetValue(u=!1){this.updateValue(this.defaultValue,u)}}},3976:(x,f,n)=>{n.d(f,{$:()=>p});function p(m){return m===""?null:JSON.parse(m)}},4214:(x,f,n)=>{n.d(f,{zr:()=>m});function p(c){return c.replace(/\D/g,"")}function m(c){return c.replace(/[^\d.,-]/g,"")}function v(c){return c.replace(/\s/g,"")}function d(c){return c.charAt(0).toUpperCase()+c.slice(1)}function l(c){return c.replace(/\s+/g," ").trim()}},5406:(x,f,n)=>{n.d(f,{Es:()=>N,Fc:()=>p});function p(a,b="common",y=!1){const{pathname:w}=window.location;return m(w,a,b,y)}function m(a,b,y,w=!1){const T=a.split("/");b=b<0?T.length+b:b;const V=T[b]||y;return w&&console.log(`Pathname element: ${V}`),V}function v(a,b="common",y=!1){const w=p(a,"",y);return d(w,b,y)}function d(a,b,y){if(!a)return b;const w=a.split("-").at(-1);return y&&console.log(`Pathname element ending: ${w}`),w}function l(a,b,y="common",w=!1){const T=m(a,b,"",w);return d(T,y,w)}function c(a){return new URLSearchParams(window.location.search).get(a)}function u(a){return a.split("?")[0]}function s(a){return window.location.pathname.endsWith(a)}function e(a){return window.location.pathname.includes(a)}function o(a){return a.some(b=>e(b))}function i(...a){return window.location.pathname.split("/").some(y=>a.includes(y))}function r(a){try{const b=new URL(window.location.href);Object.entries(a).forEach(([y,w])=>{b.searchParams.set(y,w)}),window.location.href=b.toString()}catch(b){console.error("Failed to redirect:",b)}}function S(a,b=[]){const y=new AbortController;let w=!1;const T=U=>{const B=new URL(U),A={pathname:B.pathname};return b.forEach(D=>{A[D]=B.searchParams.get(D)}),A};let V=T(window.location.href);return window.navigation.addEventListener("navigatesuccess",async()=>{if(w)return;const U=T(window.navigation.currentEntry.url);if(Object.keys(V).some(A=>V[A]!==U[A])){V=U,w=!0;try{await a(U)}catch(A){console.error("URL observer error:",A)}finally{w=!1}}},{signal:y.signal}),()=>y.abort()}function N(a=[]){S(()=>window.location.reload(),a)}},9473:(x,f,n)=>{n.a(x,async(p,m)=>{try{let L=function(){const k=(0,u.Fi)(e.Z.CHIP_LIST_ROOT);k&&((0,v.b)(k,O),G())},O=function(k,t){(0,b.ZM)(k,o.r.FILTERS_CONTAINER);const g=(0,s.E9)(V,o.r.CONTROL,o.r.TEXT_INPUT),E=(0,s.X0)(U,o.r.CONTROL,o.r.NUMBER_INPUT),R=(0,s.HX)(B,o.r.CONTROL,o.r.NUMBER_INPUT),H=(0,s.EY)(A,o.r.CONTROL,o.r.CHECKBOX_INPUT),I=(0,s.H1)(D,o.r.CONTROL,o.r.NUMBER_INPUT),Y=(0,N.nW)("\u041C\u0438\u043D. \u0440\u0430\u0437\u043C\u0435\u0440: ",Z,"2","1","10000",o.r.CONTROL,o.r.NUMBER_INPUT),J=(0,a.r)(o.r.CONTROL),W=(0,s.pW)(F,o.r.CONTROL,o.r.CHECKBOX_INPUT);k.append(g,E,R,H,I,Y,J,W),t.append(k)},G=function(){(0,u.fI)(e.Z.PRODUCT).forEach(P)},P=function(k){if(!F.value){(0,c.kl)(k);return}const t=(0,u.Fi)(e.Z.PRODUCT_NAME,k),g=(0,u.Fi)(e.Z.PRODUCT_PRICE,k);if(!t||!g){(0,c.Bt)(k);return}t.style.webkitLineClamp=3;const E=t.innerText,R=(0,u.sf)(g),H=(0,u.ML)(R,!0,!0),I=(0,l.Ay)(E,V)||z(k)||(0,l.iG)(H,D)||$(k);(0,c.UC)(k,I)},z=function(k){const t=(0,u.Fi)(e.Z.PRODUCT_RATING,k),g=(0,u.Fi)(e.Z.PRODUCT_REVIEWS,k);if(!t||t.innerText.startsWith("\u043C\u0430\u043B\u043E")||!g)return!A.value;const E=(0,u.YA)(g,!0,!1,0),R=(0,u.YA)(t,!0,!0,0);return(0,l.JE)(E,U)||(0,l.JE)(R,B)},$=function(k){const t=(0,u.Fi)(e.Z.PRODUCT_VOLUME,k);if(!t)return!1;const g=(0,u.YA)(t,!0,!0,0);return(0,l.JE)(g,Z)};var v=n(5213),d=n(5406),l=n(3829),c=n(5539),u=n(573),s=n(7877),e=n(3491),o=n(939),i=n(4521),r=n(4921),S=n(5081),N=n(5884),a=n(4402),b=n(6754);const y=(0,S.B)((0,d.Fc)(3)+(0,d.Fc)(4,""));(0,d.Es)();const{createGlobalFilter:w,createSectionFilter:T}=(0,i.z)(G,y),V=T("name-filter"),U=T("min-reviews-filter"),B=T("min-rating-filter",4.8),A=T("no-rating-filter",!1),D=T("max-price-filter"),Z=T("min-volume-filter"),F=w("filter-enabled",!0),h={productRoot:null},C=(0,u.Fi)(e.Z.CATEGORY_ROOT);C&&(h.productRoot=await(0,r.xk)(C,e.Z.PRODUCTS_ROOT),L(),new MutationObserver((0,r.sg)(L)).observe(h.productRoot,{childList:!0,subtree:!0})),m()}catch(y){m(y)}},1)},3491:(x,f,n)=>{n.d(f,{Z:()=>p});const p={CATEGORY_ROOT:'[class^="Category_root_"]',PRODUCTS_ROOT:'[class^="Products_root_"]',CHIP_LIST_ROOT:'[class^="ChipsList_root_"]',PRODUCT:'[class^="ProductCard_root_"]',PRODUCT_NAME:'[class^="ProductCard_title_"]',PRODUCT_PRICE:'[class^="ProductCardPrice_price_"]',PRODUCT_RATING:'[class^="RatingBadge_root_"] > span:nth-child(1) > span',PRODUCT_REVIEWS:'[class^="RatingBadge_root_"] > span:nth-child(2) > span',PRODUCT_VOLUME:'[class^="ProductCard_volume_"]'}},939:(x,f,n)=>{n.d(f,{r:()=>m});const p={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px",height:"20px",backgroundColor:"#fff",boxShadow:"none"}},m={FILTERS_CONTAINER:{display:"flex",gridGap:"12px",paddingTop:"8px",flexFlow:"wrap"},CONTROL:{display:"flex",alignItems:"center",fontSize:"15px"},TEXT_INPUT:{...p.INPUT,width:"150px"},NUMBER_INPUT:{...p.INPUT,width:"55px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}}},Q={};function j(x){var f=Q[x];if(f!==void 0)return f.exports;var n=Q[x]={exports:{}};return X[x](n,n.exports,j),n.exports}(()=>{var x=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",n=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",p=v=>{v&&v.d<1&&(v.d=1,v.forEach(d=>d.r--),v.forEach(d=>d.r--?d.r++:d()))},m=v=>v.map(d=>{if(d!==null&&typeof d=="object"){if(d[x])return d;if(d.then){var l=[];l.d=0,d.then(s=>{c[f]=s,p(l)},s=>{c[n]=s,p(l)});var c={};return c[x]=s=>s(l),c}}var u={};return u[x]=s=>{},u[f]=d,u});j.a=(v,d,l)=>{var c;l&&((c=[]).d=-1);var u=new Set,s=v.exports,e,o,i,r=new Promise((S,N)=>{i=N,o=S});r[f]=s,r[x]=S=>(c&&S(c),u.forEach(S),r.catch(N=>{})),v.exports=r,d(S=>{e=m(S);var N,a=()=>e.map(y=>{if(y[n])throw y[n];return y[f]}),b=new Promise(y=>{N=()=>y(a),N.r=0;var w=T=>T!==c&&!u.has(T)&&(u.add(T),T&&!T.d&&(N.r++,T.push(N)));e.map(T=>T[x](w))});return N.r?b:a()},S=>(S?i(r[n]=S):o(s),p(c))),c&&c.d<0&&(c.d=0)}})(),j.d=(x,f)=>{for(var n in f)j.o(f,n)&&!j.o(x,n)&&Object.defineProperty(x,n,{enumerable:!0,get:f[n]})},j.o=(x,f)=>Object.prototype.hasOwnProperty.call(x,f);var M=j(9473)})();})();
