// ==UserScript==
// @name         Kuper product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://kuper.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76970372
// @icon         https://www.google.com/s2/favicons?sz=64&domain=kuper.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/kuper.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var X={7273:(E,f,t)=>{t.d(f,{S:()=>h});var p=t(5558);function m(d={},s=null){return createElement("span",d,s)}function h(d={},s=null){return(0,p.n)("div",d,s)}},5467:(E,f,t)=>{t.d(f,{E2:()=>m});var p=t(7273);function m(s,l={},n=null){const i=(0,p.S)(l,n);return i.append(s),i}function h(s,l=null,n={},i={}){const e=createActionLink(s,l,i);return m(e,n)}function d(s,l=null,n=null,i={},e={},o={}){const a=createActionLinkWithIcon(s,n,l,e,o);return m(a,i)}},5558:(E,f,t)=>{t.d(f,{n:()=>m});var p=t(6754);function m(h,d,s=null){if(typeof d!="object"||d===null)throw new TypeError("styles should be an object");const l=document.createElement(h);return(0,p.ZM)(l,d),s&&(l.innerHTML=s),l}},740:(E,f,t)=>{t.d(f,{S:()=>l,kU:()=>h,o5:()=>d});var p=t(5558),m=t(4921);function h(e,o,a){const u=n(e,"text",o);return u.value=a,u}function d(e,o,a,u,S,b){const c=n(e,"number",o);return c.value=a,c.step=u,c.min=S,c.max=b,c}function s(e,o,a){const u=n(e,"date",o);return u.value=a,u}function l(e,o,a){const u=n(e,"checkbox",o);return u.checked=a,u}function n(e={},o=null,a=null){const u=(0,p.n)("input",e);return o&&(u.type=o),a&&(u.addEventListener("keyup",(0,m.sg)(a,200)),u.addEventListener("change",(0,m.sg)(a,100))),u}function i(e,o,a){const u=createElement("select",e);return o&&u.addEventListener("change",o),u.value=a,u}},573:(E,f,t)=>{t.d(f,{Fi:()=>h,ML:()=>o,YA:()=>i,fI:()=>d,sf:()=>u});var p=t(4214);function m(c,F=document){return!!F.querySelector(c)}function h(c,F=document,v=!1){const x=F.querySelector(c);return v&&!x&&console.log(`No element found for selector: ${c}`),x}function d(c,F=document,v=!1){const x=F.querySelectorAll(c);return v&&!x.length&&console.log(`No elements found for selector: ${c}`),x}function s(c,F=1){let v=c;for(let x=0;x<F;x++){if(!v.parentElement)return null;v=v.parentElement}return v}function l(c,F,v){return[...c.querySelectorAll(F)].find(x=>x.textContent.trim().includes(v))}function n(c,F,v=!1,x=!1,R=null){const D=h(F,c);return i(D,v,x,R)}function i(c,F=!1,v=!1,x=null){if(!c)return x===null?(console.log("No element found"),null):x;const R=c.innerText;return a(R,F,v)}function e(c,F,v=!1){const x=c[F];return i(x,v)}function o(c,F=!1,v=!1){const x=c.textContent;return a(x,F,v)}function a(c,F,v){F&&(c=(0,p.zr)(c)),v&&(c=c.replace(",","."));const x=Number(c);return Number.isNaN(x)?(console.log(`Invalid number: ${c}`),0):x}function u(c){return[...c.childNodes].find(F=>F.nodeType===Node.TEXT_NODE)}function S(c){const F=v=>v.nodeType===Node.TEXT_NODE&&v.textContent.trim()!==""?[v]:[...v.childNodes].flatMap(F);return F(c)}function b(c){return normalizeSpacing(c.textContent)}},5539:(E,f,t)=>{t.d(f,{Bt:()=>m,UC:()=>e,kl:()=>n});function p(r,C){r.parentNode.insertBefore(C,r.nextSibling)}function m(r){r.style.display="none"}function h(r,C=1){const N=document.querySelector(r);N&&d(N,C)}function d(r,C=1){const N=getElementAncestor(r,C);N&&m(N)}function s(r){u(r),m(r)}function l(r){r.intersectionObserver||runOnceOnIntersection(r,()=>m(r))}function n(r){r.style.display=""}function i(r){const C=a(r);r.style.display=C}function e(r,C){C?m(r):n(r)}function o(r,C){C?l(r):(clearIntersectionObserver(r),n(r))}function a(r){return u(r),r.dataset.defaultDisplay}function u(r){if(r.dataset.defaultDisplay)return;const{display:C}=getComputedStyle(r);r.dataset.defaultDisplay=C}function S(){return{show:[],hide:[]}}function b(r,C,N){r?C.hide.push(N):C.show.push(N)}function c(r){r.show.forEach(n),r.hide.forEach(m)}function F(r,C,N=.3){C?x(r,N):v(r)}function v(r){r.style.opacity=""}function x(r,C=.3){r.style.opacity=C}function R(r){r.style.order=""}function D(r,C){r.style.order=C}function O(r,C){r.style.background=C}function U(r,C){const N=getFirstElement(C);N&&j(r,N)}function j(r,C){const N=createLink();N.href=r,C.parentNode.append(N),N.append(C)}function G(r,C){const N=getFirstElement(C);N&&P(r,N)}function P(r,C,N={}){const V=createLink(N);V.href=r,V.append(...C.childNodes),C.append(V)}function w(){const r=getURLQueryParam("scrollTo");if(!r)return;const C=document.getElementById(r);C?C.scrollIntoView():console.log(`Element with ID "${r}" was not found.`)}function g(r,C,N=null){const V=`${C}-click-passed`,$=N?k=>findElementByText(k,r,N):k=>getFirstElement(r,k);return function(k){if(k.hasAttribute(V))return!1;const T=$(k);return T&&T.click(),k.setAttribute(V,""),!0}}function y(r,C,N="text/plain"){const V=new Blob([r],{type:N}),$=URL.createObjectURL(V),k=document.createElement("a");k.href=$,k.download=C,document.body.appendChild(k),k.click(),document.body.removeChild(k),requestAnimationFrame(()=>URL.revokeObjectURL($))}},6754:(E,f,t)=>{t.d(f,{ZM:()=>p});function p(s,l){Object.assign(s.style,l)}function m(s,l="custom-global-style"){let n=document.getElementById(l);n||(n=document.createElement("style"),n.id=l,n.type="text/css",document.head.appendChild(n)),n.textContent=s}function h(s){return Object.entries(s).map(([l,n])=>`${l.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${n};`).join(" ")}function d(s){return s?s.split(";").filter(l=>l.trim()!=="").reduce((l,n)=>{const[i,e]=n.split(":").map(a=>a.trim()),o=i.replace(/-([a-z])/g,(a,u)=>u.toUpperCase());return l[o]=e,l},{}):{}}},4921:(E,f,t)=>{t.d(f,{sg:()=>d,xk:()=>p});function p(e,o,a=null){const u=e.querySelector(o);return u?Promise.resolve(u):new Promise(S=>{const b=new MutationObserver(F);b.observe(e,{childList:!0,subtree:!0});let c;a&&(c=setTimeout(()=>{b.disconnect(),console.log(`No element found for selector: ${o}`),S(null)},a));function F(){const v=e.querySelector(o);v&&(c&&clearTimeout(c),b.disconnect(),S(v))}})}function m(e,o){return e.querySelector(o)?new Promise(u=>{const S=new MutationObserver(b);S.observe(e,{childList:!0,subtree:!0});function b(){e.querySelector(o)||(S.disconnect(),u())}}):Promise.resolve()}function h(e,o=400){return new Promise(a=>{let u;const S=new MutationObserver(()=>{clearTimeout(u),b()});function b(){u=setTimeout(()=>{S.disconnect(),a()},o)}b(),S.observe(e,{childList:!0,subtree:!0})})}function d(e,o=250){let a;return function(...u){const S=this;clearTimeout(a),a=setTimeout(()=>e.apply(S,u),o)}}async function s(e){document.visibilityState==="visible"?await e():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await e()},{once:!0})}function l(e,o){const a=new IntersectionObserver(u=>{u.forEach(S=>{S.isIntersecting&&(o(),n(e))})});e.intersectionObserver=a,a.observe(e)}function n(e){e.intersectionObserver&&(e.intersectionObserver.disconnect(),e.intersectionObserver=null)}function i(e){e&&(e.disconnect(),e=null)}},3829:(E,f,t)=>{t.d(f,{Ay:()=>m,JE:()=>l,iG:()=>n});var p=t(8355);function m(a,u){return!h(a,u)}function h(a,u){if(!u||!u.value)return!0;const S=(0,p._7)(u.value);return d(a,S)}function d(a,u){if(!u||!u.length)return!0;const S=(a||"").toLowerCase();return u.every(b=>s(S,b))}function s(a,u){return u.some(({term:S,isNegative:b})=>{const c=a.includes(S);return b?!c:c})}function l(a,u){return u.value!=null&&a<u.value}function n(a,u){return u.value!=null&&a>u.value}function i(a,u){return u.value==null?!1:a<parseDateFromISO(u.value)}function e(a,u){return u.value==null?!1:a>parseDateFromISO(u.value)}function o(a,u){return u.value&&a!==u.value}},4521:(E,f,t)=>{t.d(f,{z:()=>m});var p=t(3048);function m(h,d=null){return{createGlobalFilter(s,l=null,n=h){return p.V.create(s,l,n)},createSectionFilter(s,l=null,n=h){if(!d)throw new Error("sectionId must be provided to use createSectionFilter.");return p.V.createWithCompositeKey(d,s,l,n)}}}},5884:(E,f,t)=>{t.d(f,{Hw:()=>n,Nm:()=>h,nW:()=>d});var p=t(5467),m=t(740);function h(i,e,o={},a={}){const u=(0,m.kU)(a,e.updateValueFromEvent,e.value);return(0,p.E2)(u,o,i)}function d(i,e,o,a,u,S={},b={}){const c=(0,m.o5)(b,e.updateValueFromEvent,e.value,o,a,u);return(0,p.E2)(c,S,i)}function s(i,e,o={},a={}){const u=createSelect(a,e.updateValueFromEvent,e.value);return createControl(u,o,i)}function l(i,e,o={},a={}){const u=createDateInput(a,e.updateValueFromEvent,e.value);return createControl(u,o,i)}function n(i,e,o={},a={}){const u=(0,m.S)(a,e.updateValueFromEvent,e.value);return(0,p.E2)(u,o,i)}},4402:(E,f,t)=>{t.d(f,{r:()=>m});var p=t(7273);function m(s={}){return(0,p.S)(s,"|")}function h(s={},l=75,n="customFiltersContainer"){const i=document.getElementById(n);if(!i)return console.log(`Element with id="${n}" not found.`),null;const e=createButton(s,`${arrowUpIcon}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return e.addEventListener("mouseenter",()=>{e.style.filter="brightness(0.9)"}),e.addEventListener("mouseleave",()=>{e.style.filter="brightness(1)"}),e.addEventListener("click",()=>{const o=i.getBoundingClientRect();window.scrollTo({top:o.top+window.scrollY-l})}),new IntersectionObserver(([o])=>{e.style.display=o.isIntersecting?"none":"flex"},{threshold:.5}).observe(i),e}function d(s,l={}){const n=h(l);n&&s.appendChild(n)}},7877:(E,f,t)=>{t.d(f,{E9:()=>m,EY:()=>R,H1:()=>b,HX:()=>h,X0:()=>s,pW:()=>G});var p=t(5884);function m(w,g={},y={}){return(0,p.Nm)("\u041F\u043E\u0438\u0441\u043A: ",w,g,y)}function h(w,g={},y={},r=.1,C=3){return(0,p.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,r,C,5,g,y)}function d(w,g={},y={},r=.1,C=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,r,C,5,g,y)}function s(w,g={},y={}){return n("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,g,y)}function l(w,g={},y={}){return n("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,g,y)}function n(w,g,y={},r={}){return(0,p.nW)(w,g,"1","1","999999",y,r)}function i(w,g={},y={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",w,g,y)}function e(w,g={},y={}){return o("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",w,g,y)}function o(w,g,y={},r={}){return createNumberFilterControl(w,g,"5","0","100",y,r)}function a(w,g={},y={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",w,"5","0","100",g,y)}function u(w,g,y={},r={},C="250"){return(0,p.nW)(w,g,C,"0","1000000",y,r)}function S(w,g={},y={},r="25"){return u("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",w,g,y,r)}function b(w,g={},y={},r="25"){return u("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",w,g,y,r)}function c(w,g={},y={}){return F("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",w,g,y)}function F(w,g,y={},r={}){return createNumberFilterControl(w,g,"1","0","99999",y,r)}function v(w,g={},y={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",w,"1","2","8",g,y)}function x(w,g={},y={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",w,1,1,10,g,y)}function R(w,g={},y={}){return(0,p.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",w,g,y)}function D(w,g={},y={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",w,g,y)}function O(w,g={},y={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",w,g,y)}function U(w,g={},y={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",w,g,y)}function j(w,g={},y={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",w,g,y)}function G(w,g={},y={}){return(0,p.Hw)("\u0412\u043A\u043B: ",w,g,y)}function P(w,g,y={}){const r=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],C={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},N=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),V=[],$=()=>g?parseFloat(g.value)||0:w.value,k=()=>{const T=$();V.forEach(({button:L,value:A})=>{const B=A<=T?C.active:C.inactive;Object.assign(L.style,B)})};return r.forEach(({value:T,emoji:L,tooltip:A})=>{const I=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...y},L);I.title=A,I.type="button",I.addEventListener("click",B=>{B.preventDefault(),w.updateValue(T),g&&(g.value=T),k()}),I.addEventListener("mouseenter",()=>{T<=$()||(I.style.background=C.hover.background)}),I.addEventListener("mouseleave",()=>{k()}),V.push({button:I,value:T}),N.appendChild(I)}),k(),g&&(g.addEventListener("input",k),g.addEventListener("change",k)),N}},8355:(E,f,t)=>{t.d(f,{_7:()=>m});function p(i){if(!i)return[];const o=m(i).flat().filter(a=>a&&!a.isNegative&&a.term).map(a=>a.term);return[...new Set(o)]}function m(i){return i?i.toLowerCase().split(",").map(h).filter(Boolean):[]}function h(i){const e=i.split("/").map(a=>a.trim()).filter(Boolean);if(e.length===0)return null;const o=e.map(d).filter(Boolean);return o.length>0?o:null}function d(i){const e=i.startsWith("!"),o=e?i.slice(1).trim():i;return o?{term:o,isNegative:e}:null}function s(i,e){n(i,o=>o.style.display!=="none",e)}function l(i,e){n(i,o=>o.style.opacity==="",e)}function n(i,e,o){const a=[...i].filter(e).length;o.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${a} \u0438\u0437 ${i.length}`}},5213:(E,f,t)=>{t.d(f,{b:()=>h});var p=t(573),m=t(7273);function h(d,s,l=!1,n="customFiltersContainer"){let i=(0,p.Fi)(`#${n}`,d);if(i)if(l)i.remove();else return;i=(0,m.S)(),i.id=n,s(i,d)}},4444:(E,f,t)=>{t.d(f,{s:()=>p});function p(m){let s=2166136261;for(let l=0;l<m.length;l+=1){const n=m.charCodeAt(l);s^=n,s=Math.imul(s,16777619)}return s>>>0}},5081:(E,f,t)=>{t.d(f,{B:()=>h});var p=t(4444);function m(d){return(0,p.s)(d).toString(16).padStart(8,"0")}function h(d,s="common"){return d?m(d):s}},8200:(E,f,t)=>{t.d(f,{s:()=>p});function p(m){const{target:h}=m,{type:d}=h;switch(d){case"text":return`"${h.value}"`;case"number":return h.value;case"select-one":return h.value;case"date":return`"${h.value}"`;case"checkbox":return h.checked;default:return console.log(`Unknown input type: ${d}`),null}}},157:(E,f,t)=>{t.d(f,{Fg:()=>p,vx:()=>h});const p=window.GM_setValue,m=window.GM.setValue,h=window.GM_getValue},1870:(E,f,t)=>{t.d(f,{j:()=>p});class p{constructor(h,d){this.value=h,this.onChange=d}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(E,f,t)=>{t.d(f,{V:()=>s});var p=t(1870),m=t(8200),h=t(3976),d=t(157);class s extends p.j{constructor(n,i=null,e=null){super((0,d.vx)(n,i),e),this.storageKey=n,this.defaultValue=i}static create(n,i=null,e=null){return new s(n,i,e)}static createWithCompositeKey(n,i,e=null,o=null){const a=`${n}-${i}`;return new s(a,e,o)}updateValueFromEvent=n=>{const i=(0,m.s)(n),e=(0,h.$)(i);this.updateValue(e)};updateValue(n,i=!0){this.value!==n&&((0,d.Fg)(this.storageKey,n),this.value=n,i&&this.onChangeIfDefined())}clearValue(n=!1){this.updateValue(null,n)}resetValue(n=!1){this.updateValue(this.defaultValue,n)}}},3976:(E,f,t)=>{t.d(f,{$:()=>p});function p(m){return m===""?null:JSON.parse(m)}},4214:(E,f,t)=>{t.d(f,{zr:()=>m});function p(l){return l.replace(/\D/g,"")}function m(l){return l.replace(/[^\d.,-]/g,"")}function h(l){return l.replace(/\s/g,"")}function d(l){return l.charAt(0).toUpperCase()+l.slice(1)}function s(l){return l.replace(/\s+/g," ").trim()}},5406:(E,f,t)=>{t.d(f,{Es:()=>S,Fc:()=>p});function p(b,c="common",F=!1){const{pathname:v}=window.location;return m(v,b,c,F)}function m(b,c,F,v=!1){const x=b.split("/");c=c<0?x.length+c:c;const R=x[c]||F;return v&&console.log(`Pathname element: ${R}`),R}function h(b,c="common",F=!1){const v=p(b,"",F);return d(v,c,F)}function d(b,c,F){if(!b)return c;const v=b.split("-").at(-1);return F&&console.log(`Pathname element ending: ${v}`),v}function s(b,c,F="common",v=!1){const x=m(b,c,"",v);return d(x,F,v)}function l(b){return new URLSearchParams(window.location.search).get(b)}function n(b){return b.split("?")[0]}function i(b){return window.location.pathname.includes(b)}function e(b){return b.some(c=>i(c))}function o(...b){return window.location.pathname.split("/").some(F=>b.includes(F))}function a(b){try{const c=new URL(window.location.href);Object.entries(b).forEach(([F,v])=>{c.searchParams.set(F,v)}),window.location.href=c.toString()}catch(c){console.error("Failed to redirect:",c)}}function u(b,c=[]){const F={pathname:window.location.pathname};c.forEach(O=>{F[O]=l(O)});let v=!1;async function x(){if(v)return;const O={pathname:window.location.pathname};if(c.forEach(U=>{O[U]=l(U)}),Object.keys(F).some(U=>F[U]!==O[U])){Object.assign(F,O),v=!0;try{await b()}catch(U){console.error("Error in URL observer callback:",U)}finally{v=!1}}}function R(){x().catch(O=>{console.error("Error in URL change handler:",O)})}let D=window.location.href;setInterval(()=>{window.location.href!==D&&(D=window.location.href,R())},200),window.addEventListener("popstate",R)}function S(b=[]){u(()=>window.location.reload(),b)}},9473:(E,f,t)=>{t.a(E,async(p,m)=>{try{let r=function(){const T=(0,n.Fi)(e.Z.CHIP_LIST_ROOT);T&&((0,h.b)(T,C),N())},C=function(T,L){(0,F.ZM)(T,o.r.FILTERS_CONTAINER);const A=(0,i.E9)(D,o.r.CONTROL,o.r.TEXT_INPUT),I=(0,i.X0)(O,o.r.CONTROL,o.r.NUMBER_INPUT),B=(0,i.HX)(U,o.r.CONTROL,o.r.NUMBER_INPUT),z=(0,i.EY)(j,o.r.CONTROL,o.r.CHECKBOX_INPUT),Z=(0,i.H1)(G,o.r.CONTROL,o.r.NUMBER_INPUT),Q=(0,b.nW)("\u041C\u0438\u043D. \u0440\u0430\u0437\u043C\u0435\u0440: ",P,"2","1","10000",o.r.CONTROL,o.r.NUMBER_INPUT),J=(0,c.r)(o.r.CONTROL),W=(0,i.pW)(w,o.r.CONTROL,o.r.CHECKBOX_INPUT);T.append(A,I,B,z,Z,Q,J,W),L.append(T)},N=function(){(0,n.fI)(e.Z.PRODUCT).forEach(V)},V=function(T){if(!w.value){(0,l.kl)(T);return}const L=(0,n.Fi)(e.Z.PRODUCT_NAME,T),A=(0,n.Fi)(e.Z.PRODUCT_PRICE,T);if(!L||!A){(0,l.Bt)(T);return}L.style.webkitLineClamp=3;const I=L.innerText,B=(0,n.sf)(A),z=(0,n.ML)(B,!0,!0),Z=(0,s.Ay)(I,D)||$(T)||(0,s.iG)(z,G)||k(T);(0,l.UC)(T,Z)},$=function(T){const L=(0,n.Fi)(e.Z.PRODUCT_RATING,T),A=(0,n.Fi)(e.Z.PRODUCT_REVIEWS,T);if(!L||L.innerText.startsWith("\u043C\u0430\u043B\u043E")||!A)return!j.value;const I=(0,n.YA)(A,!0,!1,0),B=(0,n.YA)(L,!0,!0,0);return(0,s.JE)(I,O)||(0,s.JE)(B,U)},k=function(T){const L=(0,n.Fi)(e.Z.PRODUCT_VOLUME,T);if(!L)return!1;const A=(0,n.YA)(L,!0,!0,0);return(0,s.JE)(A,P)};var h=t(5213),d=t(5406),s=t(3829),l=t(5539),n=t(573),i=t(7877),e=t(3491),o=t(939),a=t(4521),u=t(4921),S=t(5081),b=t(5884),c=t(4402),F=t(6754);const v=(0,S.B)((0,d.Fc)(3)+(0,d.Fc)(4,""));(0,d.Es)();const{createGlobalFilter:x,createSectionFilter:R}=(0,a.z)(N,v),D=R("name-filter"),O=R("min-reviews-filter"),U=R("min-rating-filter",4.8),j=R("no-rating-filter",!1),G=R("max-price-filter"),P=R("min-volume-filter"),w=x("filter-enabled",!0),g={productRoot:null},y=(0,n.Fi)(e.Z.CATEGORY_ROOT);y&&(g.productRoot=await(0,u.xk)(y,e.Z.PRODUCTS_ROOT),r(),new MutationObserver((0,u.sg)(r)).observe(g.productRoot,{childList:!0,subtree:!0})),m()}catch(v){m(v)}},1)},3491:(E,f,t)=>{t.d(f,{Z:()=>p});const p={CATEGORY_ROOT:'[class^="Category_root_"]',PRODUCTS_ROOT:'[class^="Products_root_"]',CHIP_LIST_ROOT:'[class^="ChipsList_root_"]',PRODUCT:'[class^="ProductCard_root_"]',PRODUCT_NAME:'[class^="ProductCard_title_"]',PRODUCT_PRICE:'[class^="ProductCardPrice_price_"]',PRODUCT_RATING:'[class^="RatingBadge_root_"] > span:nth-child(1) > span',PRODUCT_REVIEWS:'[class^="RatingBadge_root_"] > span:nth-child(2) > span',PRODUCT_VOLUME:'[class^="ProductCard_volume_"]'}},939:(E,f,t)=>{t.d(f,{r:()=>m});const p={INPUT:{marginLeft:"6px",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"7px 14px 6px",fontSize:"15px",height:"20px",backgroundColor:"#fff",boxShadow:"none"}},m={FILTERS_CONTAINER:{display:"flex",gridGap:"12px",paddingTop:"8px",flexFlow:"wrap"},CONTROL:{display:"flex",alignItems:"center",fontSize:"15px"},TEXT_INPUT:{...p.INPUT,width:"150px"},NUMBER_INPUT:{...p.INPUT,width:"55px"},CHECKBOX_INPUT:{marginLeft:"6px",width:"21px",height:"21px",webkitAppearance:"auto"}}}},Y={};function H(E){var f=Y[E];if(f!==void 0)return f.exports;var t=Y[E]={exports:{}};return X[E](t,t.exports,H),t.exports}(()=>{var E=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",p=h=>{h&&h.d<1&&(h.d=1,h.forEach(d=>d.r--),h.forEach(d=>d.r--?d.r++:d()))},m=h=>h.map(d=>{if(d!==null&&typeof d=="object"){if(d[E])return d;if(d.then){var s=[];s.d=0,d.then(i=>{l[f]=i,p(s)},i=>{l[t]=i,p(s)});var l={};return l[E]=i=>i(s),l}}var n={};return n[E]=i=>{},n[f]=d,n});H.a=(h,d,s)=>{var l;s&&((l=[]).d=-1);var n=new Set,i=h.exports,e,o,a,u=new Promise((S,b)=>{a=b,o=S});u[f]=i,u[E]=S=>(l&&S(l),n.forEach(S),u.catch(b=>{})),h.exports=u,d(S=>{e=m(S);var b,c=()=>e.map(v=>{if(v[t])throw v[t];return v[f]}),F=new Promise(v=>{b=()=>v(c),b.r=0;var x=R=>R!==l&&!n.has(R)&&(n.add(R),R&&!R.d&&(b.r++,R.push(b)));e.map(R=>R[E](x))});return b.r?F:c()},S=>(S?a(u[t]=S):o(i),p(l))),l&&l.d<0&&(l.d=0)}})(),H.d=(E,f)=>{for(var t in f)H.o(f,t)&&!H.o(E,t)&&Object.defineProperty(E,t,{enumerable:!0,get:f[t]})},H.o=(E,f)=>Object.prototype.hasOwnProperty.call(E,f);var M=H(9473)})();})();
