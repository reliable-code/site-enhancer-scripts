// ==UserScript==
// @name         Vseins product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.vseinstrumenti.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.77116688
// @icon         https://www.google.com/s2/favicons?sz=64&domain=vseinstrumenti.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/vseins.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var de={7273:(N,h,l)=>{l.d(h,{S:()=>C});var y=l(5558);function w(m={},v=null){return createElement("span",m,v)}function C(m={},v=null){return(0,y.n)("div",m,v)}},5558:(N,h,l)=>{l.d(h,{n:()=>w});var y=l(6754);function w(C,m,v=null){if(typeof m!="object"||m===null)throw new TypeError("styles should be an object");const c=document.createElement(C);return(0,y.ZM)(c,m),v&&(c.innerHTML=v),c}},573:(N,h,l)=>{l.d(h,{Fi:()=>C,fI:()=>m,q7:()=>E});var y=l(4214);function w(i,u=document){return!!u.querySelector(i)}function C(i,u=document,a=!1){const s=u.querySelector(i);return a&&!s&&console.log(`No element found for selector: ${i}`),s}function m(i,u=document,a=!1){const s=u.querySelectorAll(i);return a&&!s.length&&console.log(`No elements found for selector: ${i}`),s}function v(i,u=1){let a=i;for(let s=0;s<u;s++){if(!a.parentElement)return null;a=a.parentElement}return a}function c(i,u,a){return[...i.querySelectorAll(u)].find(s=>s.textContent.trim().includes(a))}function E(i,u,a=!1,s=!1,O=null){const B=C(u,i);return L(B,a,s,O)}function L(i,u=!1,a=!1,s=null){if(!i)return s===null?(console.log("No element found"),null):s;const O=i.innerText;return T(O,u,a)}function p(i,u,a=!1){const s=i[u];return L(s,a)}function F(i,u=!1,a=!1){const s=i.textContent;return T(s,u,a)}function T(i,u,a){u&&(i=(0,y.zr)(i)),a&&(i=i.replace(",","."));const s=Number(i);return Number.isNaN(s)?(console.log(`Invalid number: ${i}`),0):s}function R(i){return[...i.childNodes].find(u=>u.nodeType===Node.TEXT_NODE)}function b(i){const u=a=>a.nodeType===Node.TEXT_NODE&&a.textContent.trim()!==""?[a]:[...a.childNodes].flatMap(u);return u(i)}function S(i){return normalizeSpacing(i.textContent)}},5539:(N,h,l)=>{l.d(h,{Bt:()=>w,UC:()=>F,WH:()=>y,kl:()=>L});function y(r,f){r.parentNode.insertBefore(f,r.nextSibling)}function w(r){r.style.display="none"}function C(r,f=1){const g=document.querySelector(r);g&&m(g,f)}function m(r,f=1){const g=getElementAncestor(r,f);g&&w(g)}function v(r,f,g){const A=findElementByText(r,f,g);A&&w(A)}function c(r){b(r),w(r)}function E(r){r.intersectionObserver||runOnceOnIntersection(r,()=>w(r))}function L(r){r.style.display=""}function p(r){const f=R(r);r.style.display=f}function F(r,f){f?w(r):L(r)}function T(r,f){f?E(r):(clearIntersectionObserver(r),L(r))}function R(r){return b(r),r.dataset.defaultDisplay}function b(r){if(r.dataset.defaultDisplay)return;const{display:f}=getComputedStyle(r);r.dataset.defaultDisplay=f}function S(){return{show:[],hide:[]}}function i(r,f,g){r?f.hide.push(g):f.show.push(g)}function u(r){r.show.forEach(L),r.hide.forEach(w)}function a(r,f,g=.3){f?O(r,g):s(r)}function s(r){r.style.opacity=""}function O(r,f=.3){r.style.opacity=f}function B(r){r.style.order=""}function U(r,f){r.style.order=f}function P(r,f,g,A="inline-flex"){f.style.display=r?A:"none",g.style.display=r?"none":A}function I(r,f=.3){r.style.transition="opacity 0.3s",r.style.opacity=f,H(r)}function X(r){r.style.opacity="",Z(r)}function me(r){r.style.animation="loading-pulse 2.5s ease-in-out infinite",H(r)}function ue(r){r.style.animation="",Z(r)}function H(r){r.style.pointerEvents="none",r.style.cursor="wait"}function Z(r){r.style.pointerEvents="",r.style.cursor=""}function pe(r,f){const g=getFirstElement(f);g&&q(r,g)}function q(r,f){const g=createLink();g.href=r,f.parentNode.append(g),g.append(f)}function j(r,f){const g=getFirstElement(f);g&&ae(r,g)}function ae(r,f,g={}){const A=createLink(g);A.href=r,A.append(...f.childNodes),f.append(A)}function le(){const r=getURLQueryParam("scrollTo");if(!r)return;const f=document.getElementById(r);f?f.scrollIntoView():console.log(`Element with ID "${r}" was not found.`)}function ee(r,f,g=null){const A=`${f}-click-passed`,z=g?D=>findElementByText(D,r,g):D=>getFirstElement(r,D);return function(D){if(D.hasAttribute(A))return!1;const te=z(D);return te&&te.click(),D.setAttribute(A,""),!0}}function he(r,f,g="text/plain"){const A=new Blob([r],{type:g}),z=URL.createObjectURL(A),D=document.createElement("a");D.href=z,D.download=f,document.body.appendChild(D),D.click(),document.body.removeChild(D),requestAnimationFrame(()=>URL.revokeObjectURL(z))}},6754:(N,h,l)=>{l.d(h,{ZM:()=>y});function y(v,c){Object.assign(v.style,c)}function w(v,c="custom-global-style"){let E=document.getElementById(c);E||(E=document.createElement("style"),E.id=c,E.type="text/css",document.head.appendChild(E)),E.textContent=v}function C(v){return Object.entries(v).map(([c,E])=>`${c.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${E};`).join(" ")}function m(v){return v?v.split(";").filter(c=>c.trim()!=="").reduce((c,E)=>{const[L,p]=E.split(":").map(T=>T.trim()),F=L.replace(/-([a-z])/g,(T,R)=>R.toUpperCase());return c[F]=p,c},{}):{}}},4921:(N,h,l)=>{l.d(h,{XW:()=>C,sg:()=>m,wP:()=>L,xk:()=>y});function y(p,F,T=null){const R=p.querySelector(F);return R?Promise.resolve(R):new Promise(b=>{const S=new MutationObserver(u);S.observe(p,{childList:!0,subtree:!0});let i;T&&(i=setTimeout(()=>{S.disconnect(),console.log(`No element found for selector: ${F}`),b(null)},T));function u(){const a=p.querySelector(F);a&&(i&&clearTimeout(i),S.disconnect(),b(a))}})}function w(p,F){return p.querySelector(F)?new Promise(R=>{const b=new MutationObserver(S);b.observe(p,{childList:!0,subtree:!0});function S(){p.querySelector(F)||(b.disconnect(),R())}}):Promise.resolve()}function C(p,F=400){return new Promise(T=>{let R;const b=new MutationObserver(()=>{clearTimeout(R),S()});function S(){R=setTimeout(()=>{b.disconnect(),T()},F)}S(),b.observe(p,{childList:!0,subtree:!0})})}function m(p,F=250){let T;return function(...R){const b=this;clearTimeout(T),T=setTimeout(()=>p.apply(b,R),F)}}async function v(p){document.visibilityState==="visible"?await p():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await p()},{once:!0})}function c(p,F){const T=new IntersectionObserver(R=>{R.forEach(b=>{b.isIntersecting&&(F(),E(p))})});p.intersectionObserver=T,T.observe(p)}function E(p){p.intersectionObserver&&(p.intersectionObserver.disconnect(),p.intersectionObserver=null)}function L(p){p&&(p.disconnect(),p=null)}},4214:(N,h,l)=>{l.d(h,{zr:()=>w});function y(c){return c.replace(/\D/g,"")}function w(c){return c.replace(/[^\d.,-]/g,"")}function C(c){return c.replace(/\s/g,"")}function m(c){return c.charAt(0).toUpperCase()+c.slice(1)}function v(c){return c.replace(/\s+/g," ").trim()}},5406:(N,h,l)=>{l.d(h,{Fc:()=>y,z2:()=>F});function y(i,u="common",a=!1){const{pathname:s}=window.location;return w(s,i,u,a)}function w(i,u,a,s=!1){const O=i.split("/");u=u<0?O.length+u:u;const B=O[u]||a;return s&&console.log(`Pathname element: ${B}`),B}function C(i,u="common",a=!1){const s=y(i,"",a);return m(s,u,a)}function m(i,u,a){if(!i)return u;const s=i.split("-").at(-1);return a&&console.log(`Pathname element ending: ${s}`),s}function v(i,u,a="common",s=!1){const O=w(i,u,"",s);return m(O,a,s)}function c(i){return new URLSearchParams(window.location.search).get(i)}function E(i){return i.split("?")[0]}function L(i){return window.location.pathname.includes(i)}function p(i){return i.some(u=>L(u))}function F(...i){return window.location.pathname.split("/").some(a=>i.includes(a))}function T(i){try{const u=new URL(window.location.href);Object.entries(i).forEach(([a,s])=>{u.searchParams.set(a,s)}),window.location.href=u.toString()}catch(u){console.error("Failed to redirect:",u)}}function R(i,u=[]){const a=new AbortController;let s=!1;const O=U=>{const P=new URL(U),I={pathname:P.pathname};return u.forEach(X=>{I[X]=P.searchParams.get(X)}),I};let B=O(window.location.href);return window.navigation.addEventListener("navigatesuccess",async()=>{if(s)return;const U=O(window.navigation.currentEntry.url);if(Object.keys(B).some(I=>B[I]!==U[I])){B=U,s=!0;try{await i(U)}catch(I){console.error("URL observer error:",I)}finally{s=!1}}},{signal:a.signal}),()=>a.abort()}function b(i,u=[]){const a={pathname:window.location.pathname};u.forEach(P=>{a[P]=c(P)});let s=!1;async function O(){if(s)return;const P={pathname:window.location.pathname};if(u.forEach(I=>{P[I]=c(I)}),Object.keys(a).some(I=>a[I]!==P[I])){Object.assign(a,P),s=!0;try{await i()}catch(I){console.error("Error in URL observer callback:",I)}finally{s=!1}}}function B(){O().catch(P=>{console.error("Error in URL change handler:",P)})}let U=window.location.href;setInterval(()=>{window.location.href!==U&&(console.log("URL changed:",window.location.href),U=window.location.href,B())},200),window.addEventListener("popstate",B)}function S(i=[]){b(()=>window.location.reload(),i)}},6220:(N,h,l)=>{l.a(N,async(y,w)=>{try{var C=l(5406),m=l(4921),v=l(8571),c=l(8942);await E();async function E(){await(0,m.XW)(document.body),(0,C.z2)("category","tag-page")?await(0,v.P)():(0,C.z2)("product")&&await(0,c.K)()}w()}catch(E){w(E)}},1)},8571:(N,h,l)=>{l.d(h,{P:()=>Oe});var y=l(4921),w=l(7273);function C(t,e,n=!1,o="customFiltersContainer"){let d=t.querySelector(`#${o}`);if(d){if(!n)return;d.replaceChildren()}else d=(0,w.S)(),d.id=o;e(d,t)}function m(t){if(!t)return[];const n=v(t).flat().filter(o=>o&&!o.isNegative&&o.term).map(o=>o.term);return[...new Set(n)]}function v(t){return t?t.toLowerCase().split(",").map(c).filter(Boolean):[]}function c(t){const e=t.split("/").map(o=>o.trim()).filter(Boolean);if(e.length===0)return null;const n=e.map(E).filter(Boolean);return n.length>0?n:null}function E(t){const e=t.startsWith("!"),n=e?t.slice(1).trim():t;return n?{term:n,isNegative:e}:null}function L(t,e){F(t,n=>n.style.display!=="none",e)}function p(t,e){F(t,n=>n.style.opacity==="",e)}function F(t,e,n){const o=[...t].filter(e).length,d=t.length;T(n,o,d)}function T(t,e,n){t.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${e} \u0438\u0437 ${n}`}function R(t,e){return!b(t,e)}function b(t,e){if(!e||!e.value)return!0;const n=v(e.value);return S(t,n)}function S(t,e){if(!e||!e.length)return!0;const n=(t||"").toLowerCase();return e.every(o=>i(n,o))}function i(t,e){return e.some(({term:n,isNegative:o})=>{const d=t.includes(n);return o?!d:d})}function u(t,e){return e.value!=null&&t<e.value}function a(t,e){return e.value!=null&&t>e.value}function s(t,e){return e.value==null?!1:t<parseDateFromISO(e.value)}function O(t,e){return e.value==null?!1:t>parseDateFromISO(e.value)}function B(t,e){return e.value&&t!==e.value}var U=l(5539),P=l(573);function I(t,e={},n=null){const o=(0,w.S)(e,n);return o.append(t),o}function X(t,e=null,n={},o={}){const d=createActionLink(t,e,o);return I(d,n)}function me(t,e=null,n=null,o={},d={},_={}){const k=createActionLinkWithIcon(t,n,e,d,_);return I(k,o)}var ue=l(5558);function H(t,e,n){const o=j(t,"text",e);return o.value=n,o}function Z(t,e,n,o,d,_){const k=j(t,"number",e);return k.value=n,k.step=o,k.min=d,k.max=_,k}function pe(t,e,n){const o=j(t,"date",e);return o.value=n,o}function q(t,e,n){const o=j(t,"checkbox",e);return o.checked=n,o}function j(t={},e=null,n=null){const o=(0,ue.n)("input",t);return e&&(o.type=e),n&&(o.addEventListener("keyup",(0,y.sg)(n,200)),o.addEventListener("change",(0,y.sg)(n,100))),o}function ae(t,e,n){const o=createElement("select",t);return e&&o.addEventListener("change",e),o.value=n,o}function le(t,e,n={},o={}){const d=H(o,e.updateValueFromEvent,e.value);return I(d,n,t)}function ee(t,e,n,o,d,_={},k={}){const Y=Z(k,e.updateValueFromEvent,e.value,n,o,d);return I(Y,_,t)}function he(t,e,n={},o={}){const d=createSelect(o,e.updateValueFromEvent,e.value);return createControl(d,n,t)}function r(t,e,n={},o={}){const d=createDateInput(o,e.updateValueFromEvent,e.value);return createControl(d,n,t)}function f(t,e,n={},o={}){const d=q(o,e.updateValueFromEvent,e.value);return I(d,n,t)}function g(t,e={},n={}){return le("\u041F\u043E\u0438\u0441\u043A: ",t,e,n)}function A(t,e={},n={},o=.1,d=3){return ee("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",t,o,d,5,e,n)}function z(t,e={},n={},o=.1,d=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",t,o,d,5,e,n)}function D(t,e={},n={}){return ce("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",t,e,n)}function te(t,e={},n={}){return ce("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",t,e,n)}function ce(t,e,n={},o={}){return ee(t,e,"1","1","999999",n,o)}function De(t,e={},n={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",t,e,n)}function Ue(t,e={},n={}){return ve("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",t,e,n)}function ve(t,e,n={},o={}){return createNumberFilterControl(t,e,"5","0","100",n,o)}function _e(t,e={},n={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",t,"5","0","100",e,n)}function se(t,e,n={},o={},d="250"){return createNumberFilterControl(t,e,d,"0","1000000",n,o)}function ke(t,e={},n={},o="25"){return se("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",t,e,n,o)}function Be(t,e={},n={},o="25"){return se("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",t,e,n,o)}function Me(t,e={},n={}){return Ee("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",t,e,n)}function Ee(t,e,n={},o={}){return createNumberFilterControl(t,e,"1","0","99999",n,o)}function We(t,e={},n={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",t,"1","2","8",e,n)}function Ve(t,e={},n={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",t,1,1,10,e,n)}function Ge(t,e={},n={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",t,e,n)}function $e(t,e={},n={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",t,e,n)}function je(t,e={},n={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",t,e,n)}function ze(t,e={},n={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",t,e,n)}function Ke(t,e={},n={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",t,e,n)}function ge(t,e={},n={}){return f("\u0412\u043A\u043B: ",t,e,n)}function Qe(t,e,n={}){const o=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],d={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},_=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),k=[],Y=()=>e?parseFloat(e.value)||0:t.value,Q=()=>{const $=Y();k.forEach(({button:re,value:oe})=>{const J=oe<=$?d.active:d.inactive;Object.assign(re.style,J)})};return o.forEach(({value:$,emoji:re,tooltip:oe})=>{const W=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...n},re);W.title=oe,W.type="button",W.addEventListener("click",J=>{J.preventDefault(),t.updateValue($),e&&(e.value=$),Q()}),W.addEventListener("mouseenter",()=>{$<=Y()||(W.style.background=d.hover.background)}),W.addEventListener("mouseleave",()=>{Q()}),k.push({button:W,value:$}),_.appendChild(W)}),Q(),e&&(e.addEventListener("input",Q),e.addEventListener("change",Q)),_}var be=l(5406);class Ce{constructor(e,n){this.value=e,this.onChange=n}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}function ye(t){const{target:e}=t,{type:n}=e;switch(n){case"text":return`"${e.value}"`;case"number":return e.value;case"select-one":return e.value;case"date":return`"${e.value}"`;case"checkbox":return e.checked;default:return console.log(`Unknown input type: ${n}`),null}}function we(t){return t===""?null:JSON.parse(t)}const Fe=window.GM_setValue,Xe=window.GM.setValue,Te=window.GM_getValue;class K extends Ce{constructor(e,n=null,o=null){super(Te(e,n),o),this.storageKey=e,this.defaultValue=n}static create(e,n=null,o=null){return new K(e,n,o)}static createWithCompositeKey(e,n,o=null,d=null){const _=`${e}-${n}`;return new K(_,o,d)}updateValueFromEvent=e=>{const n=ye(e),o=we(n);this.updateValue(o)};updateValue(e,n=!0){this.value!==e&&(Fe(this.storageKey,e),this.value=e,n&&this.onChangeIfDefined())}clearValue(e=!1){this.updateValue(null,e)}resetValue(e=!1){this.updateValue(this.defaultValue,e)}}function Re(t,e=null){return{createGlobalFilter(n,o=null,d=t){return K.create(n,o,d)},createSectionFilter(n,o=null,d=t){if(!e)throw new Error("sectionId must be provided to use createSectionFilter.");return K.createWithCompositeKey(e,n,o,d)}}}const fe={INPUT:{marginLeft:"5px",border:"1px solid #dadcde",borderRadius:"8px",padding:"8px 16px",fontSize:"16px"}},M={FILTERS_CONTAINER:{display:"flex",gridGap:"11px",marginBottom:"18px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"16px"},TEXT_INPUT:{...fe.INPUT,width:"180px"},NUMBER_INPUT:{...fe.INPUT,width:"90px"},CHECKBOX_INPUT:{marginLeft:"5px",width:"22px",height:"22px"}},G={PRODUCT_LIST:'[data-qa="listing"]',PRODUCT_LIST_TOP:"#product-listing-top",PRODUCT_NAME_WRAP:'[data-qa="product-name"]',PRODUCT_RATING_WRAP:'[data-qa="product-rating"]',PRODUCT_RATING:'span[class*="_heading_"]',PRODUCT_REVIEWS_COUNT:":scope > span:first-of-type"};var Ne=l(6754);const Le=(0,be.Fc)(2),x={productListObserver:null,isFiltersInitialized:!1,filters:{nameFilter:null,minReviewsFilter:null,minRatingFilter:null,filterEnabled:null}};async function Oe(){const t=await(0,y.xk)(document,G.PRODUCT_LIST_TOP);t&&(await(0,y.XW)(t),Se(),await Ie())}function Se(){if(!x.isFiltersInitialized){const{createSectionFilter:t}=Re(ne,Le);x.filters.nameFilter=t("name-filter"),x.filters.minReviewsFilter=t("min-reviews-filter"),x.filters.minRatingFilter=t("min-rating-filter",4.8),x.filters.filterEnabled=t("filter-enabled",!0),x.isFiltersInitialized=!0}}function Ie(){const t=(0,P.Fi)(G.PRODUCT_LIST,document,!0);t&&(C(t,xe,!0),ne(),x.productListObserver&&(0,y.wP)(x.productListObserver),x.productListObserver=new MutationObserver(ne),x.productListObserver.observe(t,{childList:!0,subtree:!0}))}function xe(t,e){(0,Ne.ZM)(t,M.FILTERS_CONTAINER);const n=g(x.filters.nameFilter,M.CONTROL,M.TEXT_INPUT),o=D(x.filters.minReviewsFilter,M.CONTROL,M.NUMBER_INPUT),d=A(x.filters.minRatingFilter,M.CONTROL,M.NUMBER_INPUT),_=ge(x.filters.filterEnabled,M.CONTROL,M.CHECKBOX_INPUT);t.append(n,o,d,_),e.parentNode.insertBefore(t,e)}function ne(){(0,P.fI)(`${G.PRODUCT_LIST} > div`).forEach(Pe)}function Pe(t){if(!x.filters.filterEnabled.value){(0,U.kl)(t);return}const e=(0,P.Fi)(G.PRODUCT_NAME_WRAP,t),n=(0,P.Fi)(G.PRODUCT_RATING_WRAP,t);if(!e||!n){(0,U.Bt)(t);return}const o=e.innerText,d=(0,P.q7)(n,G.PRODUCT_REVIEWS_COUNT,!0,!1,0),_=(0,P.q7)(n,G.PRODUCT_RATING,!0,!1,0),k=R(o,x.filters.nameFilter)||u(d,x.filters.minReviewsFilter)||u(_,x.filters.minRatingFilter);(0,U.UC)(t,k)}function He(){x.isFiltersInitialized=!1,x.filters={nameFilter:null,minReviewsFilter:null,minRatingFilter:null,filterEnabled:null},clearObserver(x.productListObserver)}},8942:(N,h,l)=>{l.d(h,{K:()=>L});const y={RATING_STARS_WRAP:'div[data-qa="rating-stars"]',RATING_INPUT:'input[name="rating"]',RATING_BUTTON:"button"};var w=l(573);const C={RATING_BUTTON_WRAP:{display:"-webkit-box",marginRight:"9px"},RATING_VALUE_WRAP:{display:"flex",alignItems:"center",cursor:"pointer"}};var m=l(4921),v=l(5539),c=l(6754),E=l(7273);async function L(){const p=await(0,m.xk)(document,y.RATING_STARS_WRAP);if(!p)return;await(0,m.XW)(p);const F=await(0,m.xk)(p,y.RATING_INPUT);if(!F)return;const T=(0,w.Fi)(y.RATING_BUTTON,p.parentNode);if(!T)return;const R=T.parentNode;(0,c.ZM)(R,C.RATING_BUTTON_WRAP);const b=(0,E.S)(C.RATING_VALUE_WRAP,F.value);(0,v.WH)(T,b)}}},ie={};function V(N){var h=ie[N];if(h!==void 0)return h.exports;var l=ie[N]={exports:{}};return de[N](l,l.exports,V),l.exports}(()=>{var N=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",h=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",l=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",y=C=>{C&&C.d<1&&(C.d=1,C.forEach(m=>m.r--),C.forEach(m=>m.r--?m.r++:m()))},w=C=>C.map(m=>{if(m!==null&&typeof m=="object"){if(m[N])return m;if(m.then){var v=[];v.d=0,m.then(L=>{c[h]=L,y(v)},L=>{c[l]=L,y(v)});var c={};return c[N]=L=>L(v),c}}var E={};return E[N]=L=>{},E[h]=m,E});V.a=(C,m,v)=>{var c;v&&((c=[]).d=-1);var E=new Set,L=C.exports,p,F,T,R=new Promise((b,S)=>{T=S,F=b});R[h]=L,R[N]=b=>(c&&b(c),E.forEach(b),R.catch(S=>{})),C.exports=R,m(b=>{p=w(b);var S,i=()=>p.map(a=>{if(a[l])throw a[l];return a[h]}),u=new Promise(a=>{S=()=>a(i),S.r=0;var s=O=>O!==c&&!E.has(O)&&(E.add(O),O&&!O.d&&(S.r++,O.push(S)));p.map(O=>O[N](s))});return S.r?u:i()},b=>(b?T(R[l]=b):F(L),y(c))),c&&c.d<0&&(c.d=0)}})(),V.d=(N,h)=>{for(var l in h)V.o(h,l)&&!V.o(N,l)&&Object.defineProperty(N,l,{enumerable:!0,get:h[l]})},V.o=(N,h)=>Object.prototype.hasOwnProperty.call(N,h);var Ae=V(6220)})();})();
