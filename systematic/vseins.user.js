// ==UserScript==
// @name         Vseins product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.vseinstrumenti.ru/tag-page/*
// @match        https://www.vseinstrumenti.ru/category/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76652356
// @icon         https://www.google.com/s2/favicons?sz=64&domain=vseinstrumenti.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/vseins.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var G={5467:(k,m,t)=>{t.d(m,{E2:()=>E});var v=t(9928);function E(y,a={},u=null){const l=(0,v.Sw)(a,u);return l.append(y),l}function b(y,a=null,u={},l={}){const o=createActionLink(y,a,l);return E(o,u)}function h(y,a=null,u=null,l={},o={}){const f=createActionLinkWithIcon(y,u,a,o);return E(f,l)}},9928:(k,m,t)=>{t.d(m,{S:()=>a,Sw:()=>L,kU:()=>b,o5:()=>h});var v=t(4921),E=t(6754);function b(e,i,g){const x=u(e,"text",i);return x.value=g,x}function h(e,i,g,x,R,D){const A=u(e,"number",i);return A.value=g,A.step=x,A.min=R,A.max=D,A}function y(e,i,g){const x=u(e,"date",i);return x.value=g,x}function a(e,i,g){const x=u(e,"checkbox",i);return x.checked=g,x}function u(e={},i=null,g=null){const x=c("input",e);return i&&(x.type=i),g&&(x.addEventListener("keyup",(0,v.sg)(g,200)),x.addEventListener("change",(0,v.sg)(g,100))),x}function l(e={},i=null){return c("span",e,i)}function o(e={},i=null,g=null){const x=c("a",e,i);return g&&(x.href=g),x}function f(e,i=null,g={}){g.cursor||="pointer";const x=o(g,i);return e&&x.addEventListener("click",e),x}function C(e,i,g=null,x={},R={}){x.display||="inline-flex",x.alignItems||="center",x.gap||="0.25em";const D=f(e,g,x);return D.prepend(n(i,R)),D}function S(e={},i=null,g=null){const x=c("button",e,i);return g&&x.addEventListener("click",g),x}function L(e={},i=null){return c("div",e,i)}function p(e={}){return c("i",e)}function n(e,i={}){i.width||="1em",i.height||="1em",i.paddingBottom||="1px";const g=p(i);return g.setAttribute("data-lucide",e),g}function c(e,i,g=null){if(typeof i!="object"||i===null)throw new TypeError("styles should be an object");const x=document.createElement(e);return(0,E.ZM)(x,i),g&&(x.innerHTML=g),x}},573:(k,m,t)=>{t.d(m,{Fi:()=>b,fI:()=>h,q7:()=>u});var v=t(4214);function E(n,c=document){return!!c.querySelector(n)}function b(n,c=document,e=!1){const i=c.querySelector(n);return e&&!i&&console.log(`No element found for selector: ${n}`),i}function h(n,c=document,e=!1){const i=c.querySelectorAll(n);return e&&!i.length&&console.log(`No elements found for selector: ${n}`),i}function y(n,c=1){let e=n;for(let i=0;i<c;i++){if(!e.parentElement)return null;e=e.parentElement}return e}function a(n,c,e){return[...n.querySelectorAll(c)].find(i=>i.textContent.trim().includes(e))}function u(n,c,e=!1,i=!1,g=null){const x=b(c,n);return l(x,e,i,g)}function l(n,c=!1,e=!1,i=null){if(!n)return i===null?(console.log("No element found"),null):i;const g=n.innerText;return C(g,c,e)}function o(n,c,e=!1){const i=n[c];return l(i,e)}function f(n,c=!1,e=!1){const i=n.textContent;return C(i,c,e)}function C(n,c,e){c&&(n=(0,v.zr)(n)),e&&(n=n.replace(",","."));const i=Number(n);return Number.isNaN(i)?(console.log(`Invalid number: ${n}`),0):i}function S(n){return[...n.childNodes].find(c=>c.nodeType===Node.TEXT_NODE)}function L(n){const c=e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim()!==""?[e]:[...e.childNodes].flatMap(c);return c(n)}function p(n){return normalizeSpacing(n.textContent)}},5539:(k,m,t)=>{t.d(m,{Bt:()=>E,UC:()=>o,kl:()=>u});function v(r,F){r.parentNode.insertBefore(F,r.nextSibling)}function E(r){r.style.display="none"}function b(r,F=1){const N=document.querySelector(r);N&&h(N,F)}function h(r,F=1){const N=getElementAncestor(r,F);N&&E(N)}function y(r){S(r),E(r)}function a(r){r.intersectionObserver||runOnceOnIntersection(r,()=>E(r))}function u(r){r.style.display=""}function l(r){const F=C(r);r.style.display=F}function o(r,F){F?E(r):u(r)}function f(r,F){F?a(r):(clearIntersectionObserver(r),u(r))}function C(r){return S(r),r.defaultDisplay}function S(r){if(r.defaultDisplay)return;const{display:F}=getComputedStyle(r);r.defaultDisplay=F}function L(){return{show:[],hide:[]}}function p(r,F,N){r?F.hide.push(N):F.show.push(N)}function n(r){r.show.forEach(u),r.hide.forEach(E)}function c(r,F,N=.3){F?i(r,N):e(r)}function e(r){r.style.opacity=""}function i(r,F=.3){r.style.opacity=F}function g(r){r.style.order=""}function x(r,F){r.style.order=F}function R(r,F){r.style.background=F}function D(r,F){const N=getFirstElement(F);N&&A(r,N)}function A(r,F){const N=createLink();N.href=r,F.parentNode.append(N),N.append(F)}function B(r,F){const N=getFirstElement(F);N&&s(r,N)}function s(r,F){const N=createLink();N.href=r,N.append(...F.childNodes),F.append(N)}function d(){const r=getURLQueryParam("scrollTo");if(!r)return;const F=document.getElementById(r);F?F.scrollIntoView():console.log(`Element with ID "${r}" was not found.`)}function w(r,F,N=null){const V=`${F}-click-passed`,O=N?I=>findElementByText(I,r,N):I=>getFirstElement(r,I);return function(I){if(I.hasAttribute(V))return!1;const j=O(I);return j&&j.click(),I.setAttribute(V,""),!0}}function T(r,F,N="text/plain"){const V=new Blob([r],{type:N}),O=URL.createObjectURL(V),I=document.createElement("a");I.href=O,I.download=F,document.body.appendChild(I),I.click(),document.body.removeChild(I),requestAnimationFrame(()=>URL.revokeObjectURL(O))}},6754:(k,m,t)=>{t.d(m,{ZM:()=>v});function v(y,a){Object.assign(y.style,a)}function E(y,a="custom-global-style"){let u=document.getElementById(a);u||(u=document.createElement("style"),u.id=a,u.type="text/css",document.head.appendChild(u)),u.textContent=y}function b(y){return Object.entries(y).map(([a,u])=>`${a.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${u};`).join(" ")}function h(y){return y?y.split(";").filter(a=>a.trim()!=="").reduce((a,u)=>{const[l,o]=u.split(":").map(C=>C.trim()),f=l.replace(/-([a-z])/g,(C,S)=>S.toUpperCase());return a[f]=o,a},{}):{}}},4921:(k,m,t)=>{t.d(m,{XW:()=>b,sg:()=>h,xk:()=>v});function v(o,f,C=null){const S=o.querySelector(f);return S?Promise.resolve(S):new Promise(L=>{const p=new MutationObserver(c);p.observe(o,{childList:!0,subtree:!0});let n;C&&(n=setTimeout(()=>{p.disconnect(),console.log(`No element found for selector: ${f}`),L(null)},C));function c(){const e=o.querySelector(f);e&&(n&&clearTimeout(n),p.disconnect(),L(e))}})}function E(o,f){return o.querySelector(f)?new Promise(S=>{const L=new MutationObserver(p);L.observe(o,{childList:!0,subtree:!0});function p(){o.querySelector(f)||(L.disconnect(),S())}}):Promise.resolve()}function b(o,f=400){return new Promise(C=>{let S;const L=new MutationObserver(()=>{clearTimeout(S),p()});function p(){S=setTimeout(()=>{L.disconnect(),C()},f)}p(),L.observe(o,{childList:!0,subtree:!0})})}function h(o,f=250){let C;return(...S)=>{clearTimeout(C),C=setTimeout(()=>o(...S),f)}}async function y(o){document.visibilityState==="visible"?await o():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await o()},{once:!0})}function a(o,f){const C=new IntersectionObserver(S=>{S.forEach(L=>{L.isIntersecting&&(f(),u(o))})});o.intersectionObserver=C,C.observe(o)}function u(o){o.intersectionObserver&&(o.intersectionObserver.disconnect(),o.intersectionObserver=null)}function l(o){o&&(o.disconnect(),o=null)}},3829:(k,m,t)=>{t.d(m,{Ay:()=>E,JE:()=>h});var v=t(8355);function E(o,f){return!b(o,f)}function b(o,f){if(!f.value)return!0;const C=o.toLowerCase(),S=(0,v.R)(f),L=[],p=[];return S.forEach(n=>{if(n.startsWith("!")){const c=n.substring(1);c&&p.push(c)}else L.push(n)}),L.every(n=>C.includes(n))&&p.every(n=>!C.includes(n))}function h(o,f){return f.value!=null&&o<f.value}function y(o,f){return f.value!=null&&o>f.value}function a(o,f){return f.value==null?!1:o<parseDateFromISO(f.value)}function u(o,f){return f.value==null?!1:o>parseDateFromISO(f.value)}function l(o,f){return f.value&&o!==f.value}},4521:(k,m,t)=>{t.d(m,{z:()=>E});var v=t(3048);function E(b,h=null){return{createGlobalFilter(y,a=null,u=b){return v.V.create(y,a,u)},createSectionFilter(y,a=null,u=b){if(!h)throw new Error("sectionId must be provided to use createSectionFilter.");return v.V.createWithCompositeKey(h,y,a,u)}}}},5884:(k,m,t)=>{t.d(m,{Hw:()=>a,Nm:()=>b,nW:()=>h});var v=t(9928),E=t(5467);function b(u,l,o={},f={}){const C=(0,v.kU)(f,l.updateValueFromEvent,l.value);return(0,E.E2)(C,o,u)}function h(u,l,o,f,C,S={},L={}){const p=(0,v.o5)(L,l.updateValueFromEvent,l.value,o,f,C);return(0,E.E2)(p,S,u)}function y(u,l,o={},f={}){const C=createDateInput(f,l.updateValueFromEvent,l.value);return createControl(C,o,u)}function a(u,l,o={},f={}){const C=(0,v.S)(f,l.updateValueFromEvent,l.value);return(0,E.E2)(C,o,u)}},7877:(k,m,t)=>{t.d(m,{E9:()=>E,HX:()=>b,X0:()=>y,pW:()=>A});var v=t(5884);function E(s,d={},w={}){return(0,v.Nm)("\u041F\u043E\u0438\u0441\u043A: ",s,d,w)}function b(s,d={},w={},T=.1,r=3){return(0,v.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",s,T,r,5,d,w)}function h(s,d={},w={},T=.1,r=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",s,T,r,5,d,w)}function y(s,d={},w={}){return u("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",s,d,w)}function a(s,d={},w={}){return u("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",s,d,w)}function u(s,d,w={},T={}){return(0,v.nW)(s,d,"1","1","999999",w,T)}function l(s,d={},w={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",s,d,w)}function o(s,d={},w={}){return f("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",s,d,w)}function f(s,d,w={},T={}){return createNumberFilterControl(s,d,"5","0","100",w,T)}function C(s,d={},w={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",s,"5","0","100",d,w)}function S(s,d,w={},T={},r="250"){return createNumberFilterControl(s,d,r,"0","1000000",w,T)}function L(s,d={},w={},T="25"){return S("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",s,d,w,T)}function p(s,d={},w={},T="25"){return S("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",s,d,w,T)}function n(s,d={},w={}){return c("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",s,d,w)}function c(s,d,w={},T={}){return createNumberFilterControl(s,d,"1","0","99999",w,T)}function e(s,d={},w={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",s,"1","2","7",d,w)}function i(s,d={},w={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",s,1,1,10,d,w)}function g(s,d={},w={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",s,d,w)}function x(s,d={},w={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",s,d,w)}function R(s,d={},w={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",s,d,w)}function D(s,d={},w={}){return createCheckboxFilterControl("\u0411\u0430\u043B\u043B\u044B: ",s,d,w)}function A(s,d={},w={}){return(0,v.Hw)("\u0412\u043A\u043B: ",s,d,w)}function B(s,d,w={}){const T=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],r={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},F=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),N=[],V=()=>d?parseFloat(d.value)||0:s.value,O=()=>{const I=V();N.forEach(({button:j,value:z})=>{const $=z<=I?r.active:r.inactive;Object.assign(j.style,$)})};return T.forEach(({value:I,emoji:j,tooltip:z})=>{const U=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...w},j);U.title=z,U.type="button",U.addEventListener("click",$=>{$.preventDefault(),s.updateValue(I),d&&(d.value=I),O()}),U.addEventListener("mouseenter",()=>{I<=V()||(U.style.background=r.hover.background)}),U.addEventListener("mouseleave",()=>{O()}),N.push({button:U,value:I}),F.appendChild(U)}),O(),d&&(d.addEventListener("input",O),d.addEventListener("change",O)),F}},8355:(k,m,t)=>{t.d(m,{R:()=>v});function v(b){return b.value.toLowerCase().split(",").map(h=>h.trim()).filter(h=>h!=="")}function E(b){return v(b).filter(h=>!h.startsWith("!"))}},5213:(k,m,t)=>{t.d(m,{b:()=>b});var v=t(9928),E=t(573);function b(h,y,a=!1,u="customFiltersContainer"){let l=(0,E.Fi)(`#${u}`,h);if(l)if(a)l.remove();else return;l=(0,v.Sw)(),l.id=u,y(l,h)}},8200:(k,m,t)=>{t.d(m,{s:()=>v});function v(E){const{target:b}=E,{type:h}=b;switch(h){case"text":return`"${b.value}"`;case"number":return b.value;case"date":return`"${b.value}"`;case"checkbox":return b.checked;default:return console.log(`Unknown input type: ${h}`),null}}},157:(k,m,t)=>{t.d(m,{Fg:()=>v,vx:()=>b});const v=window.GM_setValue,E=window.GM.setValue,b=window.GM_getValue},1870:(k,m,t)=>{t.d(m,{j:()=>v});class v{constructor(b,h){this.value=b,this.onChange=h}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(k,m,t)=>{t.d(m,{V:()=>y});var v=t(1870),E=t(8200),b=t(3976),h=t(157);class y extends v.j{constructor(u,l=null,o=null){super((0,h.vx)(u,l),o),this.storageKey=u,this.defaultValue=l}static create(u,l=null,o=null){return new y(u,l,o)}static createWithCompositeKey(u,l,o=null,f=null){const C=`${u}-${l}`;return new y(C,o,f)}updateValueFromEvent=u=>{const l=(0,E.s)(u),o=(0,b.$)(l);this.updateValue(o)};updateValue(u,l=!0){this.value!==u&&((0,h.Fg)(this.storageKey,u),this.value=u,l&&this.onChangeIfDefined())}clearValue(u=!1){this.updateValue(null,u)}resetValue(u=!1){this.updateValue(this.defaultValue,u)}}},3976:(k,m,t)=>{t.d(m,{$:()=>v});function v(E){return E===""?null:JSON.parse(E)}},4214:(k,m,t)=>{t.d(m,{zr:()=>E});function v(a){return a.replace(/\D/g,"")}function E(a){return a.replace(/[^\d.,-]/g,"")}function b(a){return a.replace(/\s/g,"")}function h(a){return a.charAt(0).toUpperCase()+a.slice(1)}function y(a){return a.replace(/\s+/g," ").trim()}},5406:(k,m,t)=>{t.d(m,{Fc:()=>v,z2:()=>f});function v(p,n="common",c=!1){const{pathname:e}=window.location;return E(e,p,n,c)}function E(p,n,c,e=!1){const i=p.split("/");n=n<0?i.length+n:n;const g=i[n]||c;return e&&console.log(`Pathname element: ${g}`),g}function b(p,n="common",c=!1){const e=v(p,"",c);return h(e,n,c)}function h(p,n,c){if(!p)return n;const e=p.split("-").at(-1);return c&&console.log(`Pathname element ending: ${e}`),e}function y(p,n,c="common",e=!1){const i=E(p,n,"",e);return h(i,c,e)}function a(p){return new URLSearchParams(window.location.search).get(p)}function u(p){return p.split("?")[0]}function l(p){return window.location.pathname.includes(p)}function o(p){return p.some(n=>l(n))}function f(p){return window.location.pathname.split("/").some(c=>c===p)}function C(p){try{const n=new URL(window.location.href);Object.entries(p).forEach(([c,e])=>{n.searchParams.set(c,e)}),window.location.href=n.toString()}catch(n){console.error("Failed to redirect:",n)}}function S(p,n=[]){const c={pathname:window.location.pathname};n.forEach(R=>{c[R]=a(R)});let e=!1;async function i(){if(e)return;const R={pathname:window.location.pathname};if(n.forEach(D=>{R[D]=a(D)}),Object.keys(c).some(D=>c[D]!==R[D])){Object.assign(c,R),e=!0;try{await p()}catch(D){console.error("Error in URL observer callback:",D)}finally{e=!1}}}function g(){i().catch(R=>{console.error("Error in URL change handler:",R)})}let x=window.location.href;setInterval(()=>{window.location.href!==x&&(x=window.location.href,g())},200),window.addEventListener("popstate",g)}function L(p=[]){S(()=>window.location.reload(),p)}},6220:(k,m,t)=>{t.a(k,async(v,E)=>{try{let D=function(s,d){(0,L.ZM)(s,C.r.filtersContainer);const w=(0,l.E9)(c,C.r.control,C.r.textInput),T=(0,l.X0)(e,C.r.control,C.r.numberInput),r=(0,l.HX)(i,C.r.control,C.r.numberInput),F=(0,l.pW)(g,C.r.control,C.r.checkboxInput);s.append(w,T,r,F),d.parentNode.insertBefore(s,d)},A=function(){(0,u.fI)(`${S.Z.PRODUCT_LIST} > div`).forEach(B)},B=function(s){if(!g.value){(0,a.kl)(s);return}const d=(0,u.Fi)(S.Z.PRODUCT_NAME_WRAP,s),w=(0,u.Fi)(S.Z.PRODUCT_RATING_WRAP,s);if(!d||!w){(0,a.Bt)(s);return}const T=d.innerText,r=(0,u.q7)(w,S.Z.PRODUCT_REVIEWS_COUNT,!0,!1,0),F=(0,u.q7)(w,S.Z.PRODUCT_RATING,!0,!1,0),N=(0,y.Ay)(T,c)||(0,y.JE)(r,e)||(0,y.JE)(F,i);(0,a.UC)(s,N)};var b=t(4921),h=t(5213),y=t(3829),a=t(5539),u=t(573),l=t(7877),o=t(5406),f=t(4521),C=t(6504),S=t(4858),L=t(6754);const p=(0,o.Fc)(2),{createSectionFilter:n}=(0,f.z)(A,p),c=n("name-filter"),e=n("min-reviews-filter"),i=n("min-rating-filter",4.8),g=n("filter-enabled",!0);await x();async function x(){(0,o.z2)("category")&&(await(0,b.XW)(document.body),await R())}async function R(){const s=await(0,b.xk)(document,S.Z.PRODUCT_LIST_TOP);if(!s)return;await(0,b.XW)(s);const d=(0,u.Fi)(S.Z.PRODUCT_LIST,document,!0);(0,h.b)(d,D,!0),new MutationObserver(A).observe(d,{childList:!0,subtree:!0})}E()}catch(p){E(p)}},1)},4858:(k,m,t)=>{t.d(m,{Z:()=>v});const v={PRODUCT_LIST:'[data-qa="listing"]',PRODUCT_LIST_TOP:"#product-listing-top",PRODUCT_NAME_WRAP:'[data-qa="product-name"]',PRODUCT_RATING_WRAP:'[data-qa="product-rating"]',PRODUCT_RATING:'span[class*="_heading_"]',PRODUCT_REVIEWS_COUNT:":scope > span:first-of-type"}},6504:(k,m,t)=>{t.d(m,{r:()=>E});const v={input:{marginLeft:"5px",border:"1px solid #dadcde",borderRadius:"8px",padding:"8px 16px",fontSize:"16px"}},E={filtersContainer:{display:"flex",gridGap:"11px",marginBottom:"18px"},control:{display:"flex",alignItems:"center",fontSize:"16px"},textInput:{...v.input,width:"180px"},numberInput:{...v.input,width:"90px"},checkboxInput:{marginLeft:"5px",width:"22px",height:"22px"}}}},W={};function P(k){var m=W[k];if(m!==void 0)return m.exports;var t=W[k]={exports:{}};return G[k](t,t.exports,P),t.exports}(()=>{var k=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",m=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",v=b=>{b&&b.d<1&&(b.d=1,b.forEach(h=>h.r--),b.forEach(h=>h.r--?h.r++:h()))},E=b=>b.map(h=>{if(h!==null&&typeof h=="object"){if(h[k])return h;if(h.then){var y=[];y.d=0,h.then(l=>{a[m]=l,v(y)},l=>{a[t]=l,v(y)});var a={};return a[k]=l=>l(y),a}}var u={};return u[k]=l=>{},u[m]=h,u});P.a=(b,h,y)=>{var a;y&&((a=[]).d=-1);var u=new Set,l=b.exports,o,f,C,S=new Promise((L,p)=>{C=p,f=L});S[m]=l,S[k]=L=>(a&&L(a),u.forEach(L),S.catch(p=>{})),b.exports=S,h(L=>{o=E(L);var p,n=()=>o.map(e=>{if(e[t])throw e[t];return e[m]}),c=new Promise(e=>{p=()=>e(n),p.r=0;var i=g=>g!==a&&!u.has(g)&&(u.add(g),g&&!g.d&&(p.r++,g.push(p)));o.map(g=>g[k](i))});return p.r?c:n()},L=>(L?C(S[t]=L):f(l),v(a))),a&&a.d<0&&(a.d=0)}})(),P.d=(k,m)=>{for(var t in m)P.o(m,t)&&!P.o(k,t)&&Object.defineProperty(k,t,{enumerable:!0,get:m[t]})},P.o=(k,m)=>Object.prototype.hasOwnProperty.call(k,m);var Z=P(6220)})();})();
