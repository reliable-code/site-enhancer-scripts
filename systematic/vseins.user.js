// ==UserScript==
// @name         Vseins product cards filter
// @description  Hide product cards by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.vseinstrumenti.ru/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.77032510
// @icon         https://www.google.com/s2/favicons?sz=64&domain=vseinstrumenti.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/vseins.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var ae={7273:(R,v,l)=>{l.d(v,{S:()=>b});var C=l(5558);function E(m={},g=null){return createElement("span",m,g)}function b(m={},g=null){return(0,C.n)("div",m,g)}},5558:(R,v,l)=>{l.d(v,{n:()=>E});var C=l(6754);function E(b,m,g=null){if(typeof m!="object"||m===null)throw new TypeError("styles should be an object");const c=document.createElement(b);return(0,C.ZM)(c,m),g&&(c.innerHTML=g),c}},573:(R,v,l)=>{l.d(v,{Fi:()=>b,fI:()=>m,q7:()=>h});var C=l(4214);function E(u,a=document){return!!a.querySelector(u)}function b(u,a=document,i=!1){const s=a.querySelector(u);return i&&!s&&console.log(`No element found for selector: ${u}`),s}function m(u,a=document,i=!1){const s=a.querySelectorAll(u);return i&&!s.length&&console.log(`No elements found for selector: ${u}`),s}function g(u,a=1){let i=u;for(let s=0;s<a;s++){if(!i.parentElement)return null;i=i.parentElement}return i}function c(u,a,i){return[...u.querySelectorAll(a)].find(s=>s.textContent.trim().includes(i))}function h(u,a,i=!1,s=!1,S=null){const _=b(a,u);return I(_,i,s,S)}function I(u,a=!1,i=!1,s=null){if(!u)return s===null?(console.log("No element found"),null):s;const S=u.innerText;return y(S,a,i)}function p(u,a,i=!1){const s=u[a];return I(s,i)}function N(u,a=!1,i=!1){const s=u.textContent;return y(s,a,i)}function y(u,a,i){a&&(u=(0,C.zr)(u)),i&&(u=u.replace(",","."));const s=Number(u);return Number.isNaN(s)?(console.log(`Invalid number: ${u}`),0):s}function T(u){return[...u.childNodes].find(a=>a.nodeType===Node.TEXT_NODE)}function F(u){const a=i=>i.nodeType===Node.TEXT_NODE&&i.textContent.trim()!==""?[i]:[...i.childNodes].flatMap(a);return a(u)}function O(u){return normalizeSpacing(u.textContent)}},5539:(R,v,l)=>{l.d(v,{Bt:()=>E,UC:()=>p,WH:()=>C,kl:()=>h});function C(o,f){o.parentNode.insertBefore(f,o.nextSibling)}function E(o){o.style.display="none"}function b(o,f=1){const w=document.querySelector(o);w&&m(w,f)}function m(o,f=1){const w=getElementAncestor(o,f);w&&E(w)}function g(o){T(o),E(o)}function c(o){o.intersectionObserver||runOnceOnIntersection(o,()=>E(o))}function h(o){o.style.display=""}function I(o){const f=y(o);o.style.display=f}function p(o,f){f?E(o):h(o)}function N(o,f){f?c(o):(clearIntersectionObserver(o),h(o))}function y(o){return T(o),o.dataset.defaultDisplay}function T(o){if(o.dataset.defaultDisplay)return;const{display:f}=getComputedStyle(o);o.dataset.defaultDisplay=f}function F(){return{show:[],hide:[]}}function O(o,f,w){o?f.hide.push(w):f.show.push(w)}function u(o){o.show.forEach(h),o.hide.forEach(E)}function a(o,f,w=.3){f?s(o,w):i(o)}function i(o){o.style.opacity=""}function s(o,f=.3){o.style.opacity=f}function S(o){o.style.order=""}function _(o,f){o.style.order=f}function B(o,f,w,k="inline-flex"){f.style.display=o?k:"none",w.style.display=o?"none":k}function x(o,f){o.style.background=f}function L(o,f){const w=getFirstElement(f);w&&z(o,w)}function z(o,f){const w=createLink();w.href=o,f.parentNode.append(w),w.append(f)}function le(o,f){const w=getFirstElement(f);w&&Z(o,w)}function Z(o,f,w={}){const k=createLink(w);k.href=o,k.append(...f.childNodes),f.append(k)}function ne(){const o=getURLQueryParam("scrollTo");if(!o)return;const f=document.getElementById(o);f?f.scrollIntoView():console.log(`Element with ID "${o}" was not found.`)}function re(o,f,w=null){const k=`${f}-click-passed`,G=w?D=>findElementByText(D,o,w):D=>getFirstElement(o,D);return function(D){if(D.hasAttribute(k))return!1;const Y=G(D);return Y&&Y.click(),D.setAttribute(k,""),!0}}function ce(o,f,w="text/plain"){const k=new Blob([o],{type:w}),G=URL.createObjectURL(k),D=document.createElement("a");D.href=G,D.download=f,document.body.appendChild(D),D.click(),document.body.removeChild(D),requestAnimationFrame(()=>URL.revokeObjectURL(G))}},6754:(R,v,l)=>{l.d(v,{ZM:()=>C});function C(g,c){Object.assign(g.style,c)}function E(g,c="custom-global-style"){let h=document.getElementById(c);h||(h=document.createElement("style"),h.id=c,h.type="text/css",document.head.appendChild(h)),h.textContent=g}function b(g){return Object.entries(g).map(([c,h])=>`${c.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${h};`).join(" ")}function m(g){return g?g.split(";").filter(c=>c.trim()!=="").reduce((c,h)=>{const[I,p]=h.split(":").map(y=>y.trim()),N=I.replace(/-([a-z])/g,(y,T)=>T.toUpperCase());return c[N]=p,c},{}):{}}},4921:(R,v,l)=>{l.d(v,{XW:()=>b,sg:()=>m,wP:()=>I,xk:()=>C});function C(p,N,y=null){const T=p.querySelector(N);return T?Promise.resolve(T):new Promise(F=>{const O=new MutationObserver(a);O.observe(p,{childList:!0,subtree:!0});let u;y&&(u=setTimeout(()=>{O.disconnect(),console.log(`No element found for selector: ${N}`),F(null)},y));function a(){const i=p.querySelector(N);i&&(u&&clearTimeout(u),O.disconnect(),F(i))}})}function E(p,N){return p.querySelector(N)?new Promise(T=>{const F=new MutationObserver(O);F.observe(p,{childList:!0,subtree:!0});function O(){p.querySelector(N)||(F.disconnect(),T())}}):Promise.resolve()}function b(p,N=400){return new Promise(y=>{let T;const F=new MutationObserver(()=>{clearTimeout(T),O()});function O(){T=setTimeout(()=>{F.disconnect(),y()},N)}O(),F.observe(p,{childList:!0,subtree:!0})})}function m(p,N=250){let y;return function(...T){const F=this;clearTimeout(y),y=setTimeout(()=>p.apply(F,T),N)}}async function g(p){document.visibilityState==="visible"?await p():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await p()},{once:!0})}function c(p,N){const y=new IntersectionObserver(T=>{T.forEach(F=>{F.isIntersecting&&(N(),h(p))})});p.intersectionObserver=y,y.observe(p)}function h(p){p.intersectionObserver&&(p.intersectionObserver.disconnect(),p.intersectionObserver=null)}function I(p){p&&(p.disconnect(),p=null)}},4214:(R,v,l)=>{l.d(v,{zr:()=>E});function C(c){return c.replace(/\D/g,"")}function E(c){return c.replace(/[^\d.,-]/g,"")}function b(c){return c.replace(/\s/g,"")}function m(c){return c.charAt(0).toUpperCase()+c.slice(1)}function g(c){return c.replace(/\s+/g," ").trim()}},5406:(R,v,l)=>{l.d(v,{Fc:()=>C,z2:()=>N});function C(u,a="common",i=!1){const{pathname:s}=window.location;return E(s,u,a,i)}function E(u,a,i,s=!1){const S=u.split("/");a=a<0?S.length+a:a;const _=S[a]||i;return s&&console.log(`Pathname element: ${_}`),_}function b(u,a="common",i=!1){const s=C(u,"",i);return m(s,a,i)}function m(u,a,i){if(!u)return a;const s=u.split("-").at(-1);return i&&console.log(`Pathname element ending: ${s}`),s}function g(u,a,i="common",s=!1){const S=E(u,a,"",s);return m(S,i,s)}function c(u){return new URLSearchParams(window.location.search).get(u)}function h(u){return u.split("?")[0]}function I(u){return window.location.pathname.includes(u)}function p(u){return u.some(a=>I(a))}function N(...u){return window.location.pathname.split("/").some(i=>u.includes(i))}function y(u){try{const a=new URL(window.location.href);Object.entries(u).forEach(([i,s])=>{a.searchParams.set(i,s)}),window.location.href=a.toString()}catch(a){console.error("Failed to redirect:",a)}}function T(u,a=[]){const i=new AbortController;let s=!1;const S=B=>{const x=new URL(B),L={pathname:x.pathname};return a.forEach(z=>{L[z]=x.searchParams.get(z)}),L};let _=S(window.location.href);return window.navigation.addEventListener("navigatesuccess",async()=>{if(s)return;const B=S(window.navigation.currentEntry.url);if(Object.keys(_).some(L=>_[L]!==B[L])){_=B,s=!0;try{await u(B)}catch(L){console.error("URL observer error:",L)}finally{s=!1}}},{signal:i.signal}),()=>i.abort()}function F(u,a=[]){const i={pathname:window.location.pathname};a.forEach(x=>{i[x]=c(x)});let s=!1;async function S(){if(s)return;const x={pathname:window.location.pathname};if(a.forEach(L=>{x[L]=c(L)}),Object.keys(i).some(L=>i[L]!==x[L])){Object.assign(i,x),s=!0;try{await u()}catch(L){console.error("Error in URL observer callback:",L)}finally{s=!1}}}function _(){S().catch(x=>{console.error("Error in URL change handler:",x)})}let B=window.location.href;setInterval(()=>{window.location.href!==B&&(console.log("URL changed:",window.location.href),B=window.location.href,_())},200),window.addEventListener("popstate",_)}function O(u=[]){F(()=>window.location.reload(),u)}},6220:(R,v,l)=>{l.a(R,async(C,E)=>{try{var b=l(5406),m=l(4921),g=l(8571),c=l(8942);await h();async function h(){await(0,m.XW)(document.body),(0,b.z2)("category","tag-page")?await(0,g.P)():(0,b.z2)("product")&&await(0,c.K)()}E()}catch(h){E(h)}},1)},8571:(R,v,l)=>{l.d(v,{P:()=>Ne});var C=l(4921),E=l(573),b=l(7273);function m(t,e,n=!1,r="customFiltersContainer"){let d=(0,E.Fi)(`#${r}`,t);if(d)if(n)d.remove();else return;d=(0,b.S)(),d.id=r,e(d,t)}function g(t){if(!t)return[];const n=c(t).flat().filter(r=>r&&!r.isNegative&&r.term).map(r=>r.term);return[...new Set(n)]}function c(t){return t?t.toLowerCase().split(",").map(h).filter(Boolean):[]}function h(t){const e=t.split("/").map(r=>r.trim()).filter(Boolean);if(e.length===0)return null;const n=e.map(I).filter(Boolean);return n.length>0?n:null}function I(t){const e=t.startsWith("!"),n=e?t.slice(1).trim():t;return n?{term:n,isNegative:e}:null}function p(t,e){y(t,n=>n.style.display!=="none",e)}function N(t,e){y(t,n=>n.style.opacity==="",e)}function y(t,e,n){const r=[...t].filter(e).length,d=t.length;T(n,r,d)}function T(t,e,n){t.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${e} \u0438\u0437 ${n}`}function F(t,e){return!O(t,e)}function O(t,e){if(!e||!e.value)return!0;const n=c(e.value);return u(t,n)}function u(t,e){if(!e||!e.length)return!0;const n=(t||"").toLowerCase();return e.every(r=>a(n,r))}function a(t,e){return e.some(({term:n,isNegative:r})=>{const d=t.includes(n);return r?!d:d})}function i(t,e){return e.value!=null&&t<e.value}function s(t,e){return e.value!=null&&t>e.value}function S(t,e){return e.value==null?!1:t<parseDateFromISO(e.value)}function _(t,e){return e.value==null?!1:t>parseDateFromISO(e.value)}function B(t,e){return e.value&&t!==e.value}var x=l(5539);function L(t,e={},n=null){const r=(0,b.S)(e,n);return r.append(t),r}function z(t,e=null,n={},r={}){const d=createActionLink(t,e,r);return L(d,n)}function le(t,e=null,n=null,r={},d={},A={}){const U=createActionLinkWithIcon(t,n,e,d,A);return L(U,r)}var Z=l(5558);function ne(t,e,n){const r=f(t,"text",e);return r.value=n,r}function re(t,e,n,r,d,A){const U=f(t,"number",e);return U.value=n,U.step=r,U.min=d,U.max=A,U}function ce(t,e,n){const r=f(t,"date",e);return r.value=n,r}function o(t,e,n){const r=f(t,"checkbox",e);return r.checked=n,r}function f(t={},e=null,n=null){const r=(0,Z.n)("input",t);return e&&(r.type=e),n&&(r.addEventListener("keyup",(0,C.sg)(n,200)),r.addEventListener("change",(0,C.sg)(n,100))),r}function w(t,e,n){const r=createElement("select",t);return e&&r.addEventListener("change",e),r.value=n,r}function k(t,e,n={},r={}){const d=ne(r,e.updateValueFromEvent,e.value);return L(d,n,t)}function G(t,e,n,r,d,A={},U={}){const X=re(U,e.updateValueFromEvent,e.value,n,r,d);return L(X,A,t)}function D(t,e,n={},r={}){const d=createSelect(r,e.updateValueFromEvent,e.value);return createControl(d,n,t)}function Y(t,e,n={},r={}){const d=createDateInput(r,e.updateValueFromEvent,e.value);return createControl(d,n,t)}function se(t,e,n={},r={}){const d=o(r,e.updateValueFromEvent,e.value);return L(d,n,t)}function fe(t,e={},n={}){return k("\u041F\u043E\u0438\u0441\u043A: ",t,e,n)}function de(t,e={},n={},r=.1,d=3){return G("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",t,r,d,5,e,n)}function xe(t,e={},n={},r=.1,d=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",t,r,d,5,e,n)}function me(t,e={},n={}){return oe("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",t,e,n)}function De(t,e={},n={}){return oe("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",t,e,n)}function oe(t,e,n={},r={}){return G(t,e,"1","1","999999",n,r)}function Ae(t,e={},n={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",t,e,n)}function Ue(t,e={},n={}){return pe("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",t,e,n)}function pe(t,e,n={},r={}){return createNumberFilterControl(t,e,"5","0","100",n,r)}function _e(t,e={},n={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",t,"5","0","100",e,n)}function ue(t,e,n={},r={},d="250"){return createNumberFilterControl(t,e,d,"0","1000000",n,r)}function ke(t,e={},n={},r="25"){return ue("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",t,e,n,r)}function Be(t,e={},n={},r="25"){return ue("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",t,e,n,r)}function Me(t,e={},n={}){return he("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",t,e,n)}function he(t,e,n={},r={}){return createNumberFilterControl(t,e,"1","0","99999",n,r)}function We(t,e={},n={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",t,"1","2","8",e,n)}function Ve(t,e={},n={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",t,1,1,10,e,n)}function Ge(t,e={},n={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",t,e,n)}function $e(t,e={},n={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",t,e,n)}function je(t,e={},n={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",t,e,n)}function ze(t,e={},n={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",t,e,n)}function Ke(t,e={},n={}){return createCheckboxFilterControl("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",t,e,n)}function ve(t,e={},n={}){return se("\u0412\u043A\u043B: ",t,e,n)}function Qe(t,e,n={}){const r=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],d={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},A=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),U=[],X=()=>e?parseFloat(e.value)||0:t.value,Q=()=>{const j=X();U.forEach(({button:q,value:ee})=>{const H=ee<=j?d.active:d.inactive;Object.assign(q.style,H)})};return r.forEach(({value:j,emoji:q,tooltip:ee})=>{const W=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...n},q);W.title=ee,W.type="button",W.addEventListener("click",H=>{H.preventDefault(),t.updateValue(j),e&&(e.value=j),Q()}),W.addEventListener("mouseenter",()=>{j<=X()||(W.style.background=d.hover.background)}),W.addEventListener("mouseleave",()=>{Q()}),U.push({button:W,value:j}),A.appendChild(W)}),Q(),e&&(e.addEventListener("input",Q),e.addEventListener("change",Q)),A}var Ee=l(5406);class be{constructor(e,n){this.value=e,this.onChange=n}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}function ge(t){const{target:e}=t,{type:n}=e;switch(n){case"text":return`"${e.value}"`;case"number":return e.value;case"select-one":return e.value;case"date":return`"${e.value}"`;case"checkbox":return e.checked;default:return console.log(`Unknown input type: ${n}`),null}}function Ce(t){return t===""?null:JSON.parse(t)}const ye=window.GM_setValue,Xe=window.GM.setValue,Fe=window.GM_getValue;class K extends be{constructor(e,n=null,r=null){super(Fe(e,n),r),this.storageKey=e,this.defaultValue=n}static create(e,n=null,r=null){return new K(e,n,r)}static createWithCompositeKey(e,n,r=null,d=null){const A=`${e}-${n}`;return new K(A,r,d)}updateValueFromEvent=e=>{const n=ge(e),r=Ce(n);this.updateValue(r)};updateValue(e,n=!0){this.value!==e&&(ye(this.storageKey,e),this.value=e,n&&this.onChangeIfDefined())}clearValue(e=!1){this.updateValue(null,e)}resetValue(e=!1){this.updateValue(this.defaultValue,e)}}function we(t,e=null){return{createGlobalFilter(n,r=null,d=t){return K.create(n,r,d)},createSectionFilter(n,r=null,d=t){if(!e)throw new Error("sectionId must be provided to use createSectionFilter.");return K.createWithCompositeKey(e,n,r,d)}}}const ie={INPUT:{marginLeft:"5px",border:"1px solid #dadcde",borderRadius:"8px",padding:"8px 16px",fontSize:"16px"}},M={FILTERS_CONTAINER:{display:"flex",gridGap:"11px",marginBottom:"18px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"16px"},TEXT_INPUT:{...ie.INPUT,width:"180px"},NUMBER_INPUT:{...ie.INPUT,width:"90px"},CHECKBOX_INPUT:{marginLeft:"5px",width:"22px",height:"22px"}},$={PRODUCT_LIST:'[data-qa="listing"]',PRODUCT_LIST_TOP:"#product-listing-top",PRODUCT_NAME_WRAP:'[data-qa="product-name"]',PRODUCT_RATING_WRAP:'[data-qa="product-rating"]',PRODUCT_RATING:'span[class*="_heading_"]',PRODUCT_REVIEWS_COUNT:":scope > span:first-of-type"};var Te=l(6754);const Re=(0,Ee.Fc)(2),P={productListObserver:null,isFiltersInitialized:!1,filters:{nameFilter:null,minReviewsFilter:null,minRatingFilter:null,filterEnabled:null}};async function Ne(){const t=await(0,C.xk)(document,$.PRODUCT_LIST_TOP);t&&(await(0,C.XW)(t),Se(),await Ie())}function Se(){if(!P.isFiltersInitialized){const{createSectionFilter:t}=we(J,Re);P.filters.nameFilter=t("name-filter"),P.filters.minReviewsFilter=t("min-reviews-filter"),P.filters.minRatingFilter=t("min-rating-filter",4.8),P.filters.filterEnabled=t("filter-enabled",!0),P.isFiltersInitialized=!0}}function Ie(){const t=(0,E.Fi)($.PRODUCT_LIST,document,!0);t&&(m(t,Oe,!0),J(),P.productListObserver&&(0,C.wP)(P.productListObserver),P.productListObserver=new MutationObserver(J),P.productListObserver.observe(t,{childList:!0,subtree:!0}))}function Oe(t,e){(0,Te.ZM)(t,M.FILTERS_CONTAINER);const n=fe(P.filters.nameFilter,M.CONTROL,M.TEXT_INPUT),r=me(P.filters.minReviewsFilter,M.CONTROL,M.NUMBER_INPUT),d=de(P.filters.minRatingFilter,M.CONTROL,M.NUMBER_INPUT),A=ve(P.filters.filterEnabled,M.CONTROL,M.CHECKBOX_INPUT);t.append(n,r,d,A),e.parentNode.insertBefore(t,e)}function J(){(0,E.fI)(`${$.PRODUCT_LIST} > div`).forEach(Le)}function Le(t){if(!P.filters.filterEnabled.value){(0,x.kl)(t);return}const e=(0,E.Fi)($.PRODUCT_NAME_WRAP,t),n=(0,E.Fi)($.PRODUCT_RATING_WRAP,t);if(!e||!n){(0,x.Bt)(t);return}const r=e.innerText,d=(0,E.q7)(n,$.PRODUCT_REVIEWS_COUNT,!0,!1,0),A=(0,E.q7)(n,$.PRODUCT_RATING,!0,!1,0),U=F(r,P.filters.nameFilter)||i(d,P.filters.minReviewsFilter)||i(A,P.filters.minRatingFilter);(0,x.UC)(t,U)}function He(){P.isFiltersInitialized=!1,P.filters={nameFilter:null,minReviewsFilter:null,minRatingFilter:null,filterEnabled:null},clearObserver(P.productListObserver)}},8942:(R,v,l)=>{l.d(v,{K:()=>I});const C={RATING_STARS_WRAP:'div[data-qa="rating-stars"]',RATING_INPUT:'input[name="rating"]',RATING_BUTTON:"button"};var E=l(573);const b={RATING_BUTTON_WRAP:{display:"-webkit-box",marginRight:"9px"},RATING_VALUE_WRAP:{display:"flex",alignItems:"center",cursor:"pointer"}};var m=l(4921),g=l(5539),c=l(6754),h=l(7273);async function I(){const p=await(0,m.xk)(document,C.RATING_STARS_WRAP);if(!p)return;await(0,m.XW)(p);const N=await(0,m.xk)(p,C.RATING_INPUT);if(!N)return;const y=(0,E.Fi)(C.RATING_BUTTON,p.parentNode);if(!y)return;const T=y.parentNode;(0,c.ZM)(T,b.RATING_BUTTON_WRAP);const F=(0,h.S)(b.RATING_VALUE_WRAP,N.value);(0,g.WH)(y,F)}}},te={};function V(R){var v=te[R];if(v!==void 0)return v.exports;var l=te[R]={exports:{}};return ae[R](l,l.exports,V),l.exports}(()=>{var R=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",v=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",l=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",C=b=>{b&&b.d<1&&(b.d=1,b.forEach(m=>m.r--),b.forEach(m=>m.r--?m.r++:m()))},E=b=>b.map(m=>{if(m!==null&&typeof m=="object"){if(m[R])return m;if(m.then){var g=[];g.d=0,m.then(I=>{c[v]=I,C(g)},I=>{c[l]=I,C(g)});var c={};return c[R]=I=>I(g),c}}var h={};return h[R]=I=>{},h[v]=m,h});V.a=(b,m,g)=>{var c;g&&((c=[]).d=-1);var h=new Set,I=b.exports,p,N,y,T=new Promise((F,O)=>{y=O,N=F});T[v]=I,T[R]=F=>(c&&F(c),h.forEach(F),T.catch(O=>{})),b.exports=T,m(F=>{p=E(F);var O,u=()=>p.map(i=>{if(i[l])throw i[l];return i[v]}),a=new Promise(i=>{O=()=>i(u),O.r=0;var s=S=>S!==c&&!h.has(S)&&(h.add(S),S&&!S.d&&(O.r++,S.push(O)));p.map(S=>S[R](s))});return O.r?a:u()},F=>(F?y(T[l]=F):N(I),C(c))),c&&c.d<0&&(c.d=0)}})(),V.d=(R,v)=>{for(var l in v)V.o(v,l)&&!V.o(R,l)&&Object.defineProperty(R,l,{enumerable:!0,get:v[l]})},V.o=(R,v)=>Object.prototype.hasOwnProperty.call(R,v);var Pe=V(6220)})();})();
