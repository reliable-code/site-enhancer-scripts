// ==UserScript==
// @name         Yamaps reviews filter
// @description  Hide reviews by filter
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://yandex.ru/maps/*
// @namespace    https://github.com/reliable-code/site-enhancer-scripts
// @version      1.0.76816607
// @icon         https://www.google.com/s2/favicons?sz=64&domain=yandex.ru
// @author       reliable-code
// @downloadURL  https://raw.githubusercontent.com/reliable-code/site-enhancer-scripts/main/systematic/yamaps.user.js
// ==/UserScript==

(()=>{(()=>{"use strict";var j={5467:(N,h,n)=>{n.d(h,{E2:()=>x});var E=n(9928);function x(f,d={},u=null){const i=(0,E.Sw)(d,u);return i.append(f),i}function v(f,d=null,u={},i={}){const o=createActionLink(f,d,i);return x(o,u)}function g(f,d=null,u=null,i={},o={}){const s=createActionLinkWithIcon(f,u,d,o);return x(s,i)}},9928:(N,h,n)=>{n.d(h,{Sw:()=>T,kU:()=>v});var E=n(4921),x=n(6754);function v(r,c,b){const I=u(r,"text",c);return I.value=b,I}function g(r,c,b,I,k,L){const W=u(r,"number",c);return W.value=b,W.step=I,W.min=k,W.max=L,W}function f(r,c,b){const I=u(r,"date",c);return I.value=b,I}function d(r,c,b){const I=u(r,"checkbox",c);return I.checked=b,I}function u(r={},c=null,b=null){const I=l("input",r);return c&&(I.type=c),b&&(I.addEventListener("keyup",(0,E.sg)(b,200)),I.addEventListener("change",(0,E.sg)(b,100))),I}function i(r={},c=null){return l("span",r,c)}function o(r={},c=null,b=null){const I=l("a",r,c);return b&&(I.href=b),I}function s(r,c=null,b={}){b.cursor||="pointer";const I=o(b,c);return r&&I.addEventListener("click",r),I}function y(r,c,b=null,I={},k={}){I.display||="inline-flex",I.alignItems||="center",I.gap||="0.25em";const L=s(r,b,I);return L.prepend(a(c,k)),L}function C(r={},c=null,b=null){const I=l("button",r,c);return b&&I.addEventListener("click",b),I}function T(r={},c=null){return l("div",r,c)}function t(r={}){return l("i",r)}function a(r,c={}){c.width||="1em",c.height||="1em",c.paddingBottom||="1px";const b=t(c);return b.setAttribute("data-lucide",r),b}function l(r,c,b=null){if(typeof c!="object"||c===null)throw new TypeError("styles should be an object");const I=document.createElement(r);return(0,x.ZM)(I,c),b&&(I.innerHTML=b),I}},573:(N,h,n)=>{n.d(h,{Fi:()=>x,Yl:()=>f,fI:()=>v});function E(t,a=document){return!!a.querySelector(t)}function x(t,a=document,l=!1){const r=a.querySelector(t);return l&&!r&&console.log(`No element found for selector: ${t}`),r}function v(t,a=document,l=!1){const r=a.querySelectorAll(t);return l&&!r.length&&console.log(`No elements found for selector: ${t}`),r}function g(t,a=1){let l=t;for(let r=0;r<a;r++){if(!l.parentElement)return null;l=l.parentElement}return l}function f(t,a,l){return[...t.querySelectorAll(a)].find(r=>r.textContent.trim().includes(l))}function d(t,a,l=!1,r=!1,c=null){const b=x(a,t);return u(b,l,r,c)}function u(t,a=!1,l=!1,r=null){if(!t)return r===null?(console.log("No element found"),null):r;const c=t.innerText;return s(c,a,l)}function i(t,a,l=!1){const r=t[a];return u(r,l)}function o(t,a=!1,l=!1){const r=t.textContent;return s(r,a,l)}function s(t,a,l){a&&(t=removeNonNumber(t)),l&&(t=t.replace(",","."));const r=Number(t);return Number.isNaN(r)?(console.log(`Invalid number: ${t}`),0):r}function y(t){return[...t.childNodes].find(a=>a.nodeType===Node.TEXT_NODE)}function C(t){const a=l=>l.nodeType===Node.TEXT_NODE&&l.textContent.trim()!==""?[l]:[...l.childNodes].flatMap(a);return a(t)}function T(t){return normalizeSpacing(t.textContent)}},8506:(N,h,n)=>{n.d(h,{hf:()=>x,kZ:()=>g});var E=n(573);function x(f,d){f.forEach(u=>v(d,u))}function v(f,d){if(!d)return;const u=new RegExp(`(${d})`,"gi"),i=document.createTreeWalker(f,NodeFilter.SHOW_TEXT,null);let o=i.nextNode();const s=[];for(;o;){const{textContent:y}=o;if(u.test(y)){const C=document.createDocumentFragment();let T=0;y.replace(u,(t,a,l)=>{l>T&&C.appendChild(document.createTextNode(y.slice(T,l)));const r=document.createElement("span");r.className="highlightedSubstring",r.style.backgroundColor="yellow",r.textContent=t,C.appendChild(r),T=l+t.length}),T<y.length&&C.appendChild(document.createTextNode(y.slice(T))),s.push({node:o,fragment:C})}o=i.nextNode()}s.forEach(({node:y,fragment:C})=>{y.parentNode.replaceChild(C,y)})}function g(f){(0,E.fI)(".highlightedSubstring",f).forEach(u=>{const{parentNode:i}=u;u.replaceWith(u.textContent),i.normalize()})}},5539:(N,h,n)=>{n.d(h,{Bt:()=>v,Bz:()=>t,GY:()=>a,L5:()=>A,pB:()=>l});var E=n(573);function x(e,p){e.parentNode.insertBefore(p,e.nextSibling)}function v(e){e.style.display="none"}function g(e,p=1){const S=document.querySelector(e);S&&f(S,p)}function f(e,p=1){const S=getElementAncestor(e,p);S&&v(S)}function d(e){T(e),v(e)}function u(e){e.intersectionObserver||runOnceOnIntersection(e,()=>v(e))}function i(e){e.style.display=""}function o(e){const p=C(e);e.style.display=p}function s(e,p){p?v(e):i(e)}function y(e,p){p?u(e):(clearIntersectionObserver(e),i(e))}function C(e){return T(e),e.defaultDisplay}function T(e){if(e.defaultDisplay)return;const{display:p}=getComputedStyle(e);e.defaultDisplay=p}function t(){return{show:[],hide:[]}}function a(e,p,S){e?p.hide.push(S):p.show.push(S)}function l(e){e.show.forEach(i),e.hide.forEach(v)}function r(e,p,S=.3){p?b(e,S):c(e)}function c(e){e.style.opacity=""}function b(e,p=.3){e.style.opacity=p}function I(e){e.style.order=""}function k(e,p){e.style.order=p}function L(e,p){e.style.background=p}function W(e,p){const S=getFirstElement(p);S&&z(e,S)}function z(e,p){const S=createLink();S.href=e,p.parentNode.append(S),S.append(p)}function w(e,p){const S=getFirstElement(p);S&&m(e,S)}function m(e,p,S={}){const D=createLink(S);D.href=e,D.append(...p.childNodes),p.append(D)}function F(){const e=getURLQueryParam("scrollTo");if(!e)return;const p=document.getElementById(e);p?p.scrollIntoView():console.log(`Element with ID "${e}" was not found.`)}function A(e,p,S=null){const D=`${p}-click-passed`,V=S?R=>(0,E.Yl)(R,e,S):R=>(0,E.Fi)(e,R);return function(R){if(R.hasAttribute(D))return!1;const U=V(R);return U&&U.click(),R.setAttribute(D,""),!0}}function O(e,p,S="text/plain"){const D=new Blob([e],{type:S}),V=URL.createObjectURL(D),R=document.createElement("a");R.href=V,R.download=p,document.body.appendChild(R),R.click(),document.body.removeChild(R),requestAnimationFrame(()=>URL.revokeObjectURL(V))}},6754:(N,h,n)=>{n.d(h,{ZM:()=>E});function E(f,d){Object.assign(f.style,d)}function x(f,d="custom-global-style"){let u=document.getElementById(d);u||(u=document.createElement("style"),u.id=d,u.type="text/css",document.head.appendChild(u)),u.textContent=f}function v(f){return Object.entries(f).map(([d,u])=>`${d.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${u};`).join(" ")}function g(f){return f?f.split(";").filter(d=>d.trim()!=="").reduce((d,u)=>{const[i,o]=u.split(":").map(y=>y.trim()),s=i.replace(/-([a-z])/g,(y,C)=>C.toUpperCase());return d[s]=o,d},{}):{}}},4921:(N,h,n)=>{n.d(h,{Un:()=>f,XW:()=>v,sg:()=>g,wP:()=>i,xk:()=>E});function E(o,s,y=null){const C=o.querySelector(s);return C?Promise.resolve(C):new Promise(T=>{const t=new MutationObserver(l);t.observe(o,{childList:!0,subtree:!0});let a;y&&(a=setTimeout(()=>{t.disconnect(),console.log(`No element found for selector: ${s}`),T(null)},y));function l(){const r=o.querySelector(s);r&&(a&&clearTimeout(a),t.disconnect(),T(r))}})}function x(o,s){return o.querySelector(s)?new Promise(C=>{const T=new MutationObserver(t);T.observe(o,{childList:!0,subtree:!0});function t(){o.querySelector(s)||(T.disconnect(),C())}}):Promise.resolve()}function v(o,s=400){return new Promise(y=>{let C;const T=new MutationObserver(()=>{clearTimeout(C),t()});function t(){C=setTimeout(()=>{T.disconnect(),y()},s)}t(),T.observe(o,{childList:!0,subtree:!0})})}function g(o,s=250){let y;return(...C)=>{clearTimeout(y),y=setTimeout(()=>o(...C),s)}}async function f(o){document.visibilityState==="visible"?await o():document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await o()},{once:!0})}function d(o,s){const y=new IntersectionObserver(C=>{C.forEach(T=>{T.isIntersecting&&(s(),u(o))})});o.intersectionObserver=y,y.observe(o)}function u(o){o.intersectionObserver&&(o.intersectionObserver.disconnect(),o.intersectionObserver=null)}function i(o){o&&(o.disconnect(),o=null)}},3829:(N,h,n)=>{n.d(h,{Ay:()=>x});var E=n(8355);function x(o,s){return!v(o,s)}function v(o,s){if(!s.value)return!0;const y=o.toLowerCase(),C=(0,E.R)(s),T=[],t=[];return C.forEach(a=>{if(a.startsWith("!")){const l=a.substring(1);l&&t.push(l)}else T.push(a)}),T.every(a=>y.includes(a))&&t.every(a=>!y.includes(a))}function g(o,s){return s.value!=null&&o<s.value}function f(o,s){return s.value!=null&&o>s.value}function d(o,s){return s.value==null?!1:o<parseDateFromISO(s.value)}function u(o,s){return s.value==null?!1:o>parseDateFromISO(s.value)}function i(o,s){return s.value&&o!==s.value}},4521:(N,h,n)=>{n.d(h,{z:()=>x});var E=n(3048);function x(v,g=null){return{createGlobalFilter(f,d=null,u=v){return E.V.create(f,d,u)},createSectionFilter(f,d=null,u=v){if(!g)throw new Error("sectionId must be provided to use createSectionFilter.");return E.V.createWithCompositeKey(g,f,d,u)}}}},5884:(N,h,n)=>{n.d(h,{Nm:()=>v});var E=n(9928),x=n(5467);function v(u,i,o={},s={}){const y=(0,E.kU)(s,i.updateValueFromEvent,i.value);return(0,x.E2)(y,o,u)}function g(u,i,o,s,y,C={},T={}){const t=createNumberInput(T,i.updateValueFromEvent,i.value,o,s,y);return createControl(t,C,u)}function f(u,i,o={},s={}){const y=createDateInput(s,i.updateValueFromEvent,i.value);return createControl(y,o,u)}function d(u,i,o={},s={}){const y=createCheckboxInput(s,i.updateValueFromEvent,i.value);return createControl(y,o,u)}},7877:(N,h,n)=>{n.d(h,{E9:()=>x});var E=n(5884);function x(w,m={},F={}){return(0,E.Nm)("\u041F\u043E\u0438\u0441\u043A: ",w,m,F)}function v(w,m={},F={},A=.1,O=3){return createNumberFilterControl("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,A,O,5,m,F)}function g(w,m={},F={},A=.1,O=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",w,A,O,5,m,F)}function f(w,m={},F={}){return u("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,m,F)}function d(w,m={},F={}){return u("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",w,m,F)}function u(w,m,F={},A={}){return createNumberFilterControl(w,m,"1","1","999999",F,A)}function i(w,m={},F={}){return createDateFilterControl("\u041C\u0438\u043D. \u0434\u0430\u0442\u0430: ",w,m,F)}function o(w,m={},F={}){return s("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",w,m,F)}function s(w,m,F={},A={}){return createNumberFilterControl(w,m,"5","0","100",F,A)}function y(w,m={},F={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",w,"5","0","100",m,F)}function C(w,m,F={},A={},O="250"){return createNumberFilterControl(w,m,O,"0","1000000",F,A)}function T(w,m={},F={},A="25"){return C("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",w,m,F,A)}function t(w,m={},F={},A="25"){return C("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",w,m,F,A)}function a(w,m={},F={}){return l("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",w,m,F)}function l(w,m,F={},A={}){return createNumberFilterControl(w,m,"1","0","99999",F,A)}function r(w,m={},F={}){return createNumberFilterControl("\u041A\u043E\u043B\u043E\u043D\u043E\u043A: ",w,"1","2","7",m,F)}function c(w,m={},F={}){return createNumberFilterControl("\u0421\u0442\u0440\u043E\u043A \u0438\u043C\u0435\u043D\u0438: ",w,1,1,10,m,F)}function b(w,m={},F={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",w,m,F)}function I(w,m={},F={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",w,m,F)}function k(w,m={},F={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",w,m,F)}function L(w,m={},F={}){return createCheckboxFilterControl("\u0411\u043E\u043D\u0443\u0441: ",w,m,F)}function W(w,m={},F={}){return createCheckboxFilterControl("\u0412\u043A\u043B: ",w,m,F)}function z(w,m,F={}){const A=[{value:-25,emoji:"\u{1F48E}",tooltip:"\u0421\u0443\u043F\u0435\u0440 \u0446\u0435\u043D\u0430 (-25%)"},{value:-15,emoji:"\u{1F525}",tooltip:"\u041E\u0442\u043B\u0438\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-15%)"},{value:-5,emoji:"\u{1F31F}",tooltip:"\u041A\u043B\u0430\u0441\u0441\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (-5%)"},{value:5,emoji:"\u{1F44C}",tooltip:"\u0425\u043E\u0440\u043E\u0448\u0430\u044F \u0446\u0435\u043D\u0430 (+5%)"}],O={active:{background:"#e3f2fd",borderColor:"#2196f3",boxShadow:"0 0 0 1px #2196f3"},inactive:{background:"#fff",borderColor:"#ccc",boxShadow:"none"},hover:{background:"#f5f5f5"}},e=createDiv({display:"inline-flex",gap:"4px",marginLeft:"4px"}),p=[],S=()=>m?parseFloat(m.value)||0:w.value,D=()=>{const V=S();p.forEach(({button:R,value:U})=>{const M=U<=V?O.active:O.inactive;Object.assign(R.style,M)})};return A.forEach(({value:V,emoji:R,tooltip:U})=>{const P=createButton({padding:"2px 6px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#fff",transition:"all 0.2s",...F},R);P.title=U,P.type="button",P.addEventListener("click",M=>{M.preventDefault(),w.updateValue(V),m&&(m.value=V),D()}),P.addEventListener("mouseenter",()=>{V<=S()||(P.style.background=O.hover.background)}),P.addEventListener("mouseleave",()=>{D()}),p.push({button:P,value:V}),e.appendChild(P)}),D(),m&&(m.addEventListener("input",D),m.addEventListener("change",D)),e}},8355:(N,h,n)=>{n.d(h,{R:()=>E,f:()=>x});function E(v){return v.value.toLowerCase().split(",").map(g=>g.trim()).filter(g=>g!=="")}function x(v){return E(v).filter(g=>!g.startsWith("!"))}},4292:(N,h,n)=>{n.d(h,{C:()=>v});var E=n(8355),x=n(8506);function v(f,d){const u=(0,E.f)(f);(0,x.hf)(u,d)}function g(f,d){const u=getIncludedSearchStrings(f);d.forEach(i=>highlightSubstrings(u,i))}},5213:(N,h,n)=>{n.d(h,{b:()=>v});var E=n(9928),x=n(573);function v(g,f,d=!1,u="customFiltersContainer"){let i=(0,x.Fi)(`#${u}`,g);if(i)if(d)i.remove();else return;i=(0,E.Sw)(),i.id=u,f(i,g)}},8200:(N,h,n)=>{n.d(h,{s:()=>E});function E(x){const{target:v}=x,{type:g}=v;switch(g){case"text":return`"${v.value}"`;case"number":return v.value;case"date":return`"${v.value}"`;case"checkbox":return v.checked;default:return console.log(`Unknown input type: ${g}`),null}}},157:(N,h,n)=>{n.d(h,{Fg:()=>E,vx:()=>v});const E=window.GM_setValue,x=window.GM.setValue,v=window.GM_getValue},1870:(N,h,n)=>{n.d(h,{j:()=>E});class E{constructor(v,g){this.value=v,this.onChange=g}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(N,h,n)=>{n.d(h,{V:()=>f});var E=n(1870),x=n(8200),v=n(3976),g=n(157);class f extends E.j{constructor(u,i=null,o=null){super((0,g.vx)(u,i),o),this.storageKey=u,this.defaultValue=i}static create(u,i=null,o=null){return new f(u,i,o)}static createWithCompositeKey(u,i,o=null,s=null){const y=`${u}-${i}`;return new f(y,o,s)}updateValueFromEvent=u=>{const i=(0,x.s)(u),o=(0,v.$)(i);this.updateValue(o)};updateValue(u,i=!0){this.value!==u&&((0,g.Fg)(this.storageKey,u),this.value=u,i&&this.onChangeIfDefined())}clearValue(u=!1){this.updateValue(null,u)}resetValue(u=!1){this.updateValue(this.defaultValue,u)}}},3976:(N,h,n)=>{n.d(h,{$:()=>E});function E(x){return x===""?null:JSON.parse(x)}},5406:(N,h,n)=>{n.d(h,{k1:()=>C,z2:()=>s});function E(t,a="common",l=!1){const{pathname:r}=window.location;return x(r,t,a,l)}function x(t,a,l,r=!1){const c=t.split("/");a=a<0?c.length+a:a;const b=c[a]||l;return r&&console.log(`Pathname element: ${b}`),b}function v(t,a="common",l=!1){const r=E(t,"",l);return g(r,a,l)}function g(t,a,l){if(!t)return a;const r=t.split("-").at(-1);return l&&console.log(`Pathname element ending: ${r}`),r}function f(t,a,l="common",r=!1){const c=x(t,a,"",r);return g(c,l,r)}function d(t){return new URLSearchParams(window.location.search).get(t)}function u(t){return t.split("?")[0]}function i(t){return window.location.pathname.includes(t)}function o(t){return t.some(a=>i(a))}function s(...t){return window.location.pathname.split("/").some(l=>t.includes(l))}function y(t){try{const a=new URL(window.location.href);Object.entries(t).forEach(([l,r])=>{a.searchParams.set(l,r)}),window.location.href=a.toString()}catch(a){console.error("Failed to redirect:",a)}}function C(t,a=[]){const l={pathname:window.location.pathname};a.forEach(k=>{l[k]=d(k)});let r=!1;async function c(){if(r)return;const k={pathname:window.location.pathname};if(a.forEach(L=>{k[L]=d(L)}),Object.keys(l).some(L=>l[L]!==k[L])){Object.assign(l,k),r=!0;try{await t()}catch(L){console.error("Error in URL observer callback:",L)}finally{r=!1}}}function b(){c().catch(k=>{console.error("Error in URL change handler:",k)})}let I=window.location.href;setInterval(()=>{window.location.href!==I&&(I=window.location.href,b())},200),window.addEventListener("popstate",b)}function T(t=[]){C(()=>window.location.reload(),t)}},3539:(N,h,n)=>{n.a(N,async(E,x)=>{try{let I=function(){return(0,a.z2)("org","reviews")},L=function(){W(i.Z.REVIEWS_VIEW_SUMMARY),W(i.Z.TAGS_CONTAINER),W(i.Z.FRIENDS_SUGGEST)},W=function(e,p=c.activeTabWrapper){const S=(0,d.Fi)(e,p);S&&(0,f.Bt)(S)},z=function(){if(!c.isFiltersInitialized){const{createGlobalFilter:e}=(0,s.z)(m);c.reviewTextFilter=e("review-text-filter"),c.isFiltersInitialized=!0}},w=function(e,p){(0,y.ZM)(e,o.r.FILTERS_CONTAINER);const S=(0,u.E9)(c.reviewTextFilter,o.r.CONTROL,o.r.TEXT_INPUT);c.reviewsInfo=(0,l.Sw)(o.r.INFO),e.append(S,c.reviewsInfo),p.append(e)},A=function(e){const p=[...e].filter(S=>S.style.display!=="none").length;c.reviewsInfo.textContent=`\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E: ${p} \u0438\u0437 ${e.length} \u043E\u0442\u0437\u044B\u0432\u043E\u0432`},O=function(){c.activeTabWrapper=null,c.isFiltersInitialized=!1,c.reviewTextFilter=null,c.reviewsInfo=null,(0,C.wP)(c.reviewsObserver)};var v=n(5213),g=n(3829),f=n(5539),d=n(573),u=n(7877),i=n(6613),o=n(3613),s=n(4521),y=n(6754),C=n(4921),T=n(4292),t=n(8506),a=n(5406),l=n(9928);const r=(0,f.L5)("span.business-review-view__expand","read-more"),c={activeTabWrapper:null,isFiltersInitialized:!1,reviewTextFilter:null,reviewsInfo:null,reviewsObserver:null};await(0,C.Un)(b),(0,a.k1)(async()=>{await b(!0)});async function b(e=!1){e&&O(),I()&&(await(0,C.XW)(document.body),await k())}async function k(){c.activeTabWrapper=await(0,C.xk)(document,i.Z.ACTIVE_TAB_WRAPPER),L(),z();const e=(0,d.Fi)(i.Z.FILTER_CONTAINER_WRAP,c.activeTabWrapper,!0);(0,v.b)(e,w,!0),await m();const p=(0,d.Fi)(i.Z.REVIEWS_CONTAINER,c.activeTabWrapper);c.reviewsObserver=new MutationObserver((0,C.sg)(m)),c.reviewsObserver.observe(p,{childList:!0})}async function m(){c.isFiltersInitialized||z();const e=(0,d.fI)(i.Z.REVIEW_CARD,c.activeTabWrapper),p=(0,f.Bz)();await Promise.all([...e].map(async S=>{const D=await F(S);(0,f.GY)(D,p,S)})),(0,f.pB)(p),A(e)}async function F(e){r(e)&&await(0,C.XW)(e),(0,t.kZ)(e);const p=(0,d.Fi)(i.Z.REVIEW_TEXT_WRAP,e);if(!p)return!0;c.reviewTextFilter.value&&(0,T.C)(c.reviewTextFilter,p);const S=p.innerText;return(0,g.Ay)(S,c.reviewTextFilter)}x()}catch(r){x(r)}},1)},6613:(N,h,n)=>{n.d(h,{Z:()=>E});const E={ACTIVE_TAB_WRAPPER:"div.business-tab-wrapper._materialized",FILTER_CONTAINER_WRAP:"div.business-reviews-card-view__header",REVIEWS_VIEW_SUMMARY:"div.card-reviews-view__summary",TAGS_CONTAINER:"div.business-reviews-card-view__tags-container",FRIENDS_SUGGEST:"div.business-reviews-card-view__friends-suggest",REVIEWS_CONTAINER:"div.business-reviews-card-view__reviews-container",REVIEW_CARD:"div.business-reviews-card-view__review",REVIEW_TEXT_WRAP:"span.spoiler-view__text-container"}},3613:(N,h,n)=>{n.d(h,{r:()=>x});const x={FILTERS_CONTAINER:{display:"flex",flexDirection:"column",gap:"4px",padding:"0px 20px 8px 16px",backgroundColor:"#fff",boxShadow:"0 1px 0 #d6d6d6",zIndex:100,margin:"0 auto",maxWidth:"640px"},CONTROL:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px",fontWeight:"500",width:"100%",letterSpacing:"0.01em"},TEXT_INPUT:{...{INPUT:{padding:"7px 14px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",outline:"none"}}.INPUT,width:"100%",boxSizing:"border-box"},INFO:{margin:"4px 2px 0",fontSize:"13px",color:"#9ca3af",textAlign:"right"}}}},$={};function B(N){var h=$[N];if(h!==void 0)return h.exports;var n=$[N]={exports:{}};return j[N](n,n.exports,B),n.exports}(()=>{var N=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",h=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",n=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",E=v=>{v&&v.d<1&&(v.d=1,v.forEach(g=>g.r--),v.forEach(g=>g.r--?g.r++:g()))},x=v=>v.map(g=>{if(g!==null&&typeof g=="object"){if(g[N])return g;if(g.then){var f=[];f.d=0,g.then(i=>{d[h]=i,E(f)},i=>{d[n]=i,E(f)});var d={};return d[N]=i=>i(f),d}}var u={};return u[N]=i=>{},u[h]=g,u});B.a=(v,g,f)=>{var d;f&&((d=[]).d=-1);var u=new Set,i=v.exports,o,s,y,C=new Promise((T,t)=>{y=t,s=T});C[h]=i,C[N]=T=>(d&&T(d),u.forEach(T),C.catch(t=>{})),v.exports=C,g(T=>{o=x(T);var t,a=()=>o.map(r=>{if(r[n])throw r[n];return r[h]}),l=new Promise(r=>{t=()=>r(a),t.r=0;var c=b=>b!==d&&!u.has(b)&&(u.add(b),b&&!b.d&&(t.r++,b.push(t)));o.map(b=>b[N](c))});return t.r?l:a()},T=>(T?y(C[n]=T):s(i),E(d))),d&&d.d<0&&(d.d=0)}})(),B.d=(N,h)=>{for(var n in h)B.o(h,n)&&!B.o(N,n)&&Object.defineProperty(N,n,{enumerable:!0,get:h[n]})},B.o=(N,h)=>Object.prototype.hasOwnProperty.call(N,h);var G=B(3539)})();})();
